module.exports=[915822,807574,765238,226776,a=>{"use strict";var b=a.i(476613),c=a.i(623079),d=a.i(745235),e=a.i(90330),f=a.i(893375),g=a.i(236013),h=a.i(353880),i=a.i(589201);function j(a){if(!(a instanceof h.BaseError))return!1;let b=a.walk(a=>a instanceof i.ContractFunctionRevertedError);return b instanceof i.ContractFunctionRevertedError&&(b.data?.errorName==="HttpError"||b.data?.errorName==="ResolverError"||b.data?.errorName==="ResolverNotContract"||b.data?.errorName==="ResolverNotFound"||b.data?.errorName==="ReverseAddressMismatch"||b.data?.errorName==="UnsupportedResolverProfile")}var k=a.i(984846),l=a.i(952899),m=a.i(916422),n=a.i(727495),o=a.i(586494);function p(a){if(66!==a.length||0!==a.indexOf("[")||65!==a.indexOf("]"))return null;let b=`0x${a.slice(1,65)}`;return(0,o.isHex)(b)?b:null}function q(a){let b=new Uint8Array(32).fill(0);if(!a)return(0,g.bytesToHex)(b);let c=a.split(".");for(let a=c.length-1;a>=0;a-=1){let d=p(c[a]),e=d?(0,m.toBytes)(d):(0,n.keccak256)((0,m.stringToBytes)(c[a]),"bytes");b=(0,n.keccak256)((0,l.concat)([b,e]),"bytes")}return(0,g.bytesToHex)(b)}function r(a){let b=a.replace(/^\.|\.$/gm,"");if(0===b.length)return new Uint8Array(1);let c=new Uint8Array((0,m.stringToBytes)(b).byteLength+2),d=0,e=b.split(".");for(let a=0;a<e.length;a++){var f;let b=(0,m.stringToBytes)(e[a]);b.byteLength>255&&(b=(0,m.stringToBytes)((f=function(a){let b=new Uint8Array(32).fill(0);return a?p(a)||(0,n.keccak256)((0,m.stringToBytes)(a)):(0,g.bytesToHex)(b)}(e[a]),`[${f.slice(2)}]`))),c[d]=b.length,c.set(b,d+1),d+=b.length+1}return c.byteLength!==d+1?c.slice(0,d+1):c}var s=a.i(85241),t=a.i(664818);async function u(a,h){let{blockNumber:i,blockTag:l,coinType:m,name:n,gatewayUrls:o,strict:p}=h,{chain:u}=a,v=(()=>{if(h.universalResolverAddress)return h.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:i,chain:u,contract:"ensUniversalResolver"})})(),w=u?.ensTlds;if(w&&!w.some(a=>n.endsWith(a)))return null;let x=null!=m?[q(n),BigInt(m)]:[q(n)];try{let e=(0,d.encodeFunctionData)({abi:b.addressResolverAbi,functionName:"addr",args:x}),h={address:v,abi:b.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,g.toHex)(r(n)),e,o??[k.localBatchGatewayUrl]],blockNumber:i,blockTag:l},j=(0,s.getAction)(a,t.readContract,"readContract"),m=await j(h);if("0x"===m[0])return null;let p=(0,c.decodeFunctionResult)({abi:b.addressResolverAbi,args:x,functionName:"addr",data:m[0]});if("0x"===p||"0x00"===(0,f.trim)(p))return null;return p}catch(a){if(p)throw a;if(j(a))return null;throw a}}var v=h;class w extends v.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}class x extends v.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}class y extends v.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class z extends v.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}v.BaseError;let A=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,B=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,C=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,D=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function E(a){try{let b=await fetch(a,{method:"HEAD"});if(200===b.status){let a=b.headers.get("content-type");return a?.startsWith("image/")}return!1}catch(b){if("object"==typeof b&&void 0!==b.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(b=>{let c=new Image;c.onload=()=>{b(!0)},c.onerror=()=>{b(!1)},c.src=a})}}function F(a,b){return a?a.endsWith("/")?a.slice(0,-1):a:b}function G({uri:a,gatewayUrls:b}){let c=C.test(a);if(c)return{uri:a,isOnChain:!0,isEncoded:c};let d=F(b?.ipfs,"https://ipfs.io"),e=F(b?.arweave,"https://arweave.net"),f=a.match(A),{protocol:g,subpath:h,target:i,subtarget:j=""}=f?.groups||{},k="ipns:/"===g||"ipns/"===h,l="ipfs:/"===g||"ipfs/"===h||B.test(a);if(a.startsWith("http")&&!k&&!l){let c=a;return b?.arweave&&(c=a.replace(/https:\/\/arweave.net/g,b?.arweave)),{uri:c,isOnChain:!1,isEncoded:!1}}if((k||l)&&i)return{uri:`${d}/${k?"ipns":"ipfs"}/${i}${j}`,isOnChain:!1,isEncoded:!1};if("ar:/"===g&&i)return{uri:`${e}/${i}${j||""}`,isOnChain:!1,isEncoded:!1};let m=a.replace(D,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new y({uri:a})}function H(a){if("object"!=typeof a||!("image"in a)&&!("image_url"in a)&&!("image_data"in a))throw new w({data:a});return a.image||a.image_url||a.image_data}async function I({gatewayUrls:a,uri:b}){try{let c=await fetch(b).then(a=>a.json());return await J({gatewayUrls:a,uri:H(c)})}catch{throw new y({uri:b})}}async function J({gatewayUrls:a,uri:b}){let{uri:c,isOnChain:d}=G({uri:b,gatewayUrls:a});if(d||await E(c))return c;throw new y({uri:b})}async function K(a,{nft:b}){if("erc721"===b.namespace)return(0,t.readContract)(a,{address:b.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(b.tokenID)]});if("erc1155"===b.namespace)return(0,t.readContract)(a,{address:b.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(b.tokenID)]});throw new z({namespace:b.namespace})}async function L(a,{gatewayUrls:b,record:c}){return/eip155:/i.test(c)?M(a,{gatewayUrls:b,record:c}):J({uri:c,gatewayUrls:b})}async function M(a,{gatewayUrls:b,record:c}){let d=function(a){let b=a;b.startsWith("did:nft:")&&(b=b.replace("did:nft:","").replace(/_/g,"/"));let[c,d,e]=b.split("/"),[f,g]=c.split(":"),[h,i]=d.split(":");if(!f||"eip155"!==f.toLowerCase())throw new x({reason:"Only EIP-155 supported"});if(!g)throw new x({reason:"Chain ID not found"});if(!i)throw new x({reason:"Contract address not found"});if(!e)throw new x({reason:"Token ID not found"});if(!h)throw new x({reason:"ERC namespace not found"});return{chainID:Number.parseInt(g,10),namespace:h.toLowerCase(),contractAddress:i,tokenID:e}}(c),{uri:e,isOnChain:f,isEncoded:g}=G({uri:await K(a,{nft:d}),gatewayUrls:b});if(f&&(e.includes("data:application/json;base64,")||e.startsWith("{")))return J({uri:H(JSON.parse(g?atob(e.replace("data:application/json;base64,","")):e)),gatewayUrls:b});let h=d.tokenID;return"erc1155"===d.namespace&&(h=h.replace("0x","").padStart(64,"0")),I({gatewayUrls:b,uri:e.replace(/(?:0x)?{id}/,h)})}async function N(a,f){let{blockNumber:h,blockTag:i,key:l,name:m,gatewayUrls:n,strict:o}=f,{chain:p}=a,u=(()=>{if(f.universalResolverAddress)return f.universalResolverAddress;if(!p)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:h,chain:p,contract:"ensUniversalResolver"})})(),v=p?.ensTlds;if(v&&!v.some(a=>m.endsWith(a)))return null;try{let e={address:u,abi:b.universalResolverResolveAbi,args:[(0,g.toHex)(r(m)),(0,d.encodeFunctionData)({abi:b.textResolverAbi,functionName:"text",args:[q(m),l]}),n??[k.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:h,blockTag:i},f=(0,s.getAction)(a,t.readContract,"readContract"),j=await f(e);if("0x"===j[0])return null;let o=(0,c.decodeFunctionResult)({abi:b.textResolverAbi,functionName:"text",data:j[0]});return""===o?null:o}catch(a){if(o)throw a;if(j(a))return null;throw a}}async function O(a,{blockNumber:b,blockTag:c,assetGatewayUrls:d,name:e,gatewayUrls:f,strict:g,universalResolverAddress:h}){let i=await (0,s.getAction)(a,N,"getEnsText")({blockNumber:b,blockTag:c,key:"avatar",name:e,universalResolverAddress:h,gatewayUrls:f,strict:g});if(!i)return null;try{return await L(a,{record:i,gatewayUrls:d})}catch{return null}}async function P(a,c){let{address:d,blockNumber:f,blockTag:g,coinType:h=60n,gatewayUrls:i,strict:l}=c,{chain:m}=a,n=(()=>{if(c.universalResolverAddress)return c.universalResolverAddress;if(!m)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:f,chain:m,contract:"ensUniversalResolver"})})();try{let c={address:n,abi:b.universalResolverReverseAbi,args:[d,h,i??[k.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:f,blockTag:g},e=(0,s.getAction)(a,t.readContract,"readContract"),[j]=await e(c);return j||null}catch(a){if(l)throw a;if(j(a))return null;throw a}}async function Q(a,b){let{blockNumber:c,blockTag:d,name:f}=b,{chain:h}=a,i=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!h)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:c,chain:h,contract:"ensUniversalResolver"})})(),j=h?.ensTlds;if(j&&!j.some(a=>f.endsWith(a)))throw Error(`${f} is not a valid ENS TLD (${j?.join(", ")}) for chain "${h.name}" (id: ${h.id}).`);let[k]=await (0,s.getAction)(a,t.readContract,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,g.toHex)(r(f))],blockNumber:c,blockTag:d});return k}var R=a.i(467206),S=a.i(922220),T=a.i(161367),U=a.i(585884),V=a.i(627930),W=a.i(19087);async function X(a,b){let{account:c=a.account,blockNumber:d,blockTag:e="latest",blobs:f,data:h,gas:i,gasPrice:j,maxFeePerBlobGas:k,maxFeePerGas:l,maxPriorityFeePerGas:m,to:n,value:o,...p}=b,q=c?(0,S.parseAccount)(c):void 0;try{(0,W.assertRequest)(b);let c="bigint"==typeof d?(0,g.numberToHex)(d):void 0,r=a.chain?.formatters?.transactionRequest?.format,s=(r||V.formatTransactionRequest)({...(0,U.extract)(p,{format:r}),account:q,blobs:f,data:h,gas:i,gasPrice:j,maxFeePerBlobGas:k,maxFeePerGas:l,maxPriorityFeePerGas:m,to:n,value:o},"createAccessList"),t=await a.request({method:"eth_createAccessList",params:[s,c||e]});return{accessList:t.accessList,gasUsed:BigInt(t.gasUsed)}}catch(c){throw(0,T.getCallError)(c,{...b,account:q,chain:a.chain})}}function Y(a,{method:b}){let c={};return"fallback"===a.transport.type&&a.transport.onResponse?.(({method:a,response:d,status:e,transport:f})=>{"success"===e&&b===a&&(c[d]=f.request)}),b=>c[b]||a.request}async function Z(a){let b=Y(a,{method:"eth_newBlockFilter"}),c=await a.request({method:"eth_newBlockFilter"});return{id:c,request:b(c),type:"block"}}var $=a.i(259118),_=h;class aa extends _.BaseError{constructor(a){super(`Filter type "${a}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var ab=a.i(374057),ac=a.i(379256),ad=a.i(233710),ae=a.i(845513);let af="/docs/contract/encodeEventTopics";function ag(a){let{abi:b,eventName:c,args:d}=a,e=b[0];if(c){let a=(0,ae.getAbiItem)({abi:b,name:c});if(!a)throw new $.AbiEventNotFoundError(c,{docsPath:af});e=a}if("event"!==e.type)throw new $.AbiEventNotFoundError(void 0,{docsPath:af});let f=(0,ad.formatAbiItem)(e),g=(0,ab.toEventSelector)(f),h=[];if(d&&"inputs"in e){let a=e.inputs?.filter(a=>"indexed"in a&&a.indexed),b=Array.isArray(d)?d:Object.values(d).length>0?a?.map(a=>d[a.name])??[]:[];b.length>0&&(h=a?.map((a,c)=>Array.isArray(b[c])?b[c].map((d,e)=>ah({param:a,value:b[c][e]})):void 0!==b[c]&&null!==b[c]?ah({param:a,value:b[c]}):null)??[])}return[g,...h]}function ah({param:a,value:b}){if("string"===a.type||"bytes"===a.type)return(0,n.keccak256)((0,m.toBytes)(b));if("tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/))throw new aa(a.type);return(0,ac.encodeAbiParameters)([a],[b])}async function ai(a,b){let{address:c,abi:d,args:e,eventName:f,fromBlock:h,strict:i,toBlock:j}=b,k=Y(a,{method:"eth_newFilter"}),l=f?ag({abi:d,args:e,eventName:f}):void 0,m=await a.request({method:"eth_newFilter",params:[{address:c,fromBlock:"bigint"==typeof h?(0,g.numberToHex)(h):h,toBlock:"bigint"==typeof j?(0,g.numberToHex)(j):j,topics:l}]});return{abi:d,args:e,eventName:f,id:m,request:k(m),strict:!!i,type:"event"}}async function aj(a,{address:b,args:c,event:d,events:e,fromBlock:f,strict:h,toBlock:i}={}){let j=e??(d?[d]:void 0),k=Y(a,{method:"eth_newFilter"}),l=[];j&&(l=[j.flatMap(a=>ag({abi:[a],eventName:a.name,args:c}))],d&&(l=l[0]));let m=await a.request({method:"eth_newFilter",params:[{address:b,fromBlock:"bigint"==typeof f?(0,g.numberToHex)(f):f,toBlock:"bigint"==typeof i?(0,g.numberToHex)(i):i,...l.length?{topics:l}:{}}]});return{abi:j,args:c,eventName:d?d.name:void 0,fromBlock:f,id:m,request:k(m),strict:!!h,toBlock:i,type:"event"}}async function ak(a){let b=Y(a,{method:"eth_newPendingTransactionFilter"}),c=await a.request({method:"eth_newPendingTransactionFilter"});return{id:c,request:b(c),type:"transaction"}}var al=a.i(251320),am=a.i(110739);async function an(a,b){let{abi:c,address:e,args:f,functionName:g,dataSuffix:h,...i}=b,j=(0,d.encodeFunctionData)({abi:c,args:f,functionName:g});try{return await (0,s.getAction)(a,am.estimateGas,"estimateGas")({data:`${j}${h?h.replace("0x",""):""}`,to:e,...i})}catch(b){let a=i.account?(0,S.parseAccount)(i.account):void 0;throw(0,al.getContractError)(b,{abi:c,address:e,args:f,docsPath:"/docs/contract/estimateContractGas",functionName:g,sender:a?.address})}}var ao=a.i(701844),ap=a.i(55344),aq=a.i(311418),ar=a.i(611937);async function as(a){return BigInt(await a.request({method:"eth_blobBaseFee"}))}var at=a.i(654424),au=a.i(440760),av=a.i(943409);async function aw(a,{blockHash:b,blockNumber:c,blockTag:d="latest"}={}){let e,f=void 0!==c?(0,g.numberToHex)(c):void 0;return e=b?await a.request({method:"eth_getBlockTransactionCountByHash",params:[b]},{dedupe:!0}):await a.request({method:"eth_getBlockTransactionCountByNumber",params:[f||d]},{dedupe:!!f}),(0,av.hexToNumber)(e)}var ax=a.i(695090);async function ay(a,{address:b,blockNumber:c,blockTag:d="latest"}){let e=void 0!==c?(0,g.numberToHex)(c):void 0,f=await a.request({method:"eth_getCode",params:[b,e||d]},{dedupe:!!e});if("0x"!==f)return f}a.s(["getCode",()=>ay],807574);var az=a.i(831149),aA=a.i(288702),aB=a.i(227076),aC=a.i(860006);let aD="/docs/contract/decodeEventLog";function aE(a){let{abi:b,data:c,strict:d,topics:e}=a,f=d??!0,[g,...h]=e;if(!g)throw new $.AbiEventSignatureEmptyTopicsError({docsPath:aD});let i=b.find(a=>"event"===a.type&&g===(0,ab.toEventSelector)((0,ad.formatAbiItem)(a)));if(!(i&&"name"in i)||"event"!==i.type)throw new $.AbiEventSignatureNotFoundError(g,{docsPath:aD});let{name:j,inputs:k}=i,l=k?.some(a=>!("name"in a&&a.name)),m=l?[]:{},n=k.map((a,b)=>[a,b]).filter(([a])=>"indexed"in a&&a.indexed);for(let a=0;a<n.length;a++){let[b,c]=n[a],d=h[a];if(!d)throw new $.DecodeLogTopicsMismatch({abiItem:i,param:b});m[l?c:b.name||c]=function({param:a,value:b}){return"string"===a.type||"bytes"===a.type||"tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/)?b:((0,aC.decodeAbiParameters)([a],b)||[])[0]}({param:b,value:d})}let o=k.filter(a=>!("indexed"in a&&a.indexed));if(o.length>0){if(c&&"0x"!==c)try{let a=(0,aC.decodeAbiParameters)(o,c);if(a)if(l)for(let b=0;b<k.length;b++)m[b]=m[b]??a.shift();else for(let b=0;b<o.length;b++)m[o[b].name]=a[b]}catch(a){if(f){if(a instanceof $.AbiDecodingDataSizeTooSmallError||a instanceof aA.PositionOutOfBoundsError)throw new $.DecodeLogDataMismatch({abiItem:i,data:c,params:o,size:(0,aB.size)(c)});throw a}}else if(f)throw new $.DecodeLogDataMismatch({abiItem:i,data:"0x",params:o,size:0})}return{eventName:j,args:Object.values(m).length>0?m:void 0}}function aF(a){let{abi:b,args:c,logs:d,strict:e=!0}=a,f=(()=>{if(a.eventName)return Array.isArray(a.eventName)?a.eventName:[a.eventName]})();return d.map(a=>{let d,g,h=b.filter(b=>"event"===b.type&&a.topics[0]===(0,ab.toEventSelector)(b));if(0===h.length)return null;for(let b of h)try{d=aE({...a,abi:[b],strict:!0}),g=b;break}catch{}if(!d&&!e){g=h[0];try{d=aE({...a,abi:[g],strict:!1})}catch{let b=g.inputs?.some(a=>!("name"in a&&a.name));return{...a,args:b?[]:{},eventName:g.name}}}return d&&g&&(!f||f.includes(d.eventName))&&function(a){let{args:b,inputs:c,matchArgs:d}=a;if(!d)return!0;if(!b)return!1;function e(a,b,c){try{if("address"===a.type)return(0,az.isAddressEqual)(b,c);if("string"===a.type||"bytes"===a.type)return(0,n.keccak256)((0,m.toBytes)(b))===c;return b===c}catch{return!1}}return Array.isArray(b)&&Array.isArray(d)?d.every((a,d)=>{if(null==a)return!0;let f=c[d];return!!f&&(Array.isArray(a)?a:[a]).some(a=>e(f,a,b[d]))}):!("object"!=typeof b||Array.isArray(b)||"object"!=typeof d||Array.isArray(d))&&Object.entries(d).every(([a,d])=>{if(null==d)return!0;let f=c.find(b=>b.name===a);return!!f&&(Array.isArray(d)?d:[d]).some(c=>e(f,c,b[a]))})}({args:d.args,inputs:g.inputs,matchArgs:c})?{...d,...a}:null}).filter(Boolean)}var aG=a.i(318139);async function aH(a,{address:b,blockHash:c,fromBlock:d,toBlock:e,event:f,events:h,args:i,strict:j}={}){let k=h??(f?[f]:void 0),l=[];k&&(l=[k.flatMap(a=>ag({abi:[a],eventName:a.name,args:h?void 0:i}))],f&&(l=l[0]));let m=(c?await a.request({method:"eth_getLogs",params:[{address:b,topics:l,blockHash:c}]}):await a.request({method:"eth_getLogs",params:[{address:b,topics:l,fromBlock:"bigint"==typeof d?(0,g.numberToHex)(d):d,toBlock:"bigint"==typeof e?(0,g.numberToHex)(e):e}]})).map(a=>(0,aG.formatLog)(a));return k?aF({abi:k,args:i,logs:m,strict:j??!1}):m}async function aI(a,b){let{abi:c,address:d,args:e,blockHash:f,eventName:g,fromBlock:h,toBlock:i,strict:j}=b,k=g?(0,ae.getAbiItem)({abi:c,name:g}):void 0,l=k?void 0:c.filter(a=>"event"===a.type);return(0,s.getAction)(a,aH,"getLogs")({address:d,args:e,blockHash:f,event:k,events:l,fromBlock:h,toBlock:i,strict:j})}var aJ=h;class aK extends aJ.BaseError{constructor({address:a}){super(`No EIP-712 domain found on contract "${a}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${a}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function aL(a,b){let{address:c,factory:d,factoryData:e}=b;try{let[b,f,g,h,i,j,k]=await (0,s.getAction)(a,t.readContract,"readContract")({abi:aM,address:c,functionName:"eip712Domain",factory:d,factoryData:e});return{domain:{name:f,version:g,chainId:Number(h),verifyingContract:i,salt:j},extensions:k,fields:b}}catch(a){if("ContractFunctionExecutionError"===a.name&&"ContractFunctionZeroDataError"===a.cause.name)throw new aK({address:c});throw a}}let aM=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function aN(a,{blockCount:b,blockNumber:c,blockTag:d="latest",rewardPercentiles:e}){var f;let h="bigint"==typeof c?(0,g.numberToHex)(c):void 0;return{baseFeePerGas:(f=await a.request({method:"eth_feeHistory",params:[(0,g.numberToHex)(b),h||d,e]},{dedupe:!!h})).baseFeePerGas.map(a=>BigInt(a)),gasUsedRatio:f.gasUsedRatio,oldestBlock:BigInt(f.oldestBlock),reward:f.reward?.map(a=>a.map(a=>BigInt(a)))}}async function aO(a,{filter:b}){let c="strict"in b&&b.strict,d=await b.request({method:"eth_getFilterChanges",params:[b.id]});if("string"==typeof d[0])return d;let e=d.map(a=>(0,aG.formatLog)(a));return"abi"in b&&b.abi?aF({abi:b.abi,logs:e,strict:c}):e}async function aP(a,{filter:b}){let c=b.strict??!1,d=(await b.request({method:"eth_getFilterLogs",params:[b.id]})).map(a=>(0,aG.formatLog)(a));return b.abi?aF({abi:b.abi,logs:d,strict:c}):d}var aQ=a.i(360853);async function aR(a,{address:b,blockNumber:c,blockTag:d,storageKeys:e}){let f=void 0!==c?(0,g.numberToHex)(c):void 0;var h=await a.request({method:"eth_getProof",params:[b,e,f||(d??"latest")]});return{...h,balance:h.balance?BigInt(h.balance):void 0,nonce:h.nonce?(0,av.hexToNumber)(h.nonce):void 0,storageProof:h.storageProof?h.storageProof.map(a=>({...a,value:BigInt(a.value)})):void 0}}async function aS(a,{address:b,blockNumber:c,blockTag:d="latest",slot:e}){let f=void 0!==c?(0,g.numberToHex)(c):void 0;return await a.request({method:"eth_getStorageAt",params:[b,e,f||d]})}var aT=a.i(818661);async function aU(a,{hash:b,transactionReceipt:c}){let[d,e]=await Promise.all([(0,s.getAction)(a,au.getBlockNumber,"getBlockNumber")({}),b?(0,s.getAction)(a,aT.getTransaction,"getTransaction")({hash:b}):void 0]),f=c?.blockNumber||e?.blockNumber;return f?d-f+1n:0n}var aV=a.i(734244),aW=a.i(277855),aX=a.i(620328),aY=a.i(690600),aZ=a.i(451683),a$=a.i(887462),a_=a.i(909376),a0=a.i(57320);async function a1(a,b){let{blockNumber:e,blockTag:f=a.experimental_blockTag??"latest",blocks:h,returnFullTransactions:j,traceTransfers:k,validation:m}=b;try{let b=[];for(let a of h){let c=a.blockOverrides?aY.toRpc(a.blockOverrides):void 0,e=a.calls.map(a=>{let b=a.account?(0,S.parseAccount)(a.account):void 0,c=a.abi?(0,d.encodeFunctionData)(a):a.data,e={...a,account:b,data:a.dataSuffix?(0,l.concat)([c||"0x",a.dataSuffix]):c,from:a.from??b?.address};return(0,W.assertRequest)(e),(0,V.formatTransactionRequest)(e)}),f=a.stateOverrides?(0,a0.serializeStateOverride)(a.stateOverrides):void 0;b.push({blockOverrides:c,calls:e,stateOverrides:f})}let n="bigint"==typeof e?(0,g.numberToHex)(e):void 0;return(await a.request({method:"eth_simulateV1",params:[{blockStateCalls:b,returnFullTransactions:j,traceTransfers:k,validation:m},n||f]})).map((a,b)=>({...(0,a_.formatBlock)(a),calls:a.calls.map((a,d)=>{let{abi:e,args:f,functionName:g,to:j}=h[b].calls[d],k=a.error?.data??a.returnData,l=BigInt(a.gasUsed),m=a.logs?.map(a=>(0,aG.formatLog)(a)),n="0x1"===a.status?"success":"failure",o=e&&"success"===n&&"0x"!==k?(0,c.decodeFunctionResult)({abi:e,data:k,functionName:g}):null,p=(()=>{let b;if("success"!==n&&(a.error?.data==="0x"?b=new $.AbiDecodingZeroDataError:a.error&&(b=new i.RawContractError(a.error)),b))return(0,al.getContractError)(b,{abi:e??[],address:j??"0x",args:f,functionName:g??"<unknown>"})})();return{data:k,gasUsed:l,logs:m,status:n,..."success"===n?{result:o}:{error:p}}})}))}catch(b){let a=(0,a$.getNodeError)(b,{});if(a instanceof aZ.UnknownNodeError)throw b;throw a}}var a2=a.i(190746),a3=a.i(201104),a4=a.i(824009),a5=a.i(515730),a6=a.i(623151),a7=a.i(618634),a8=a.i(459222),a9=a7,ba=a.i(801718);function bb(a,b){if(bj(a)>b)throw new bo({givenSize:bj(a),maxSize:b})}function bc(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function bd(a,b={}){let{dir:c="left"}=b,d=a,e=0;for(let a=0;a<d.length-1;a++)if("0"===d["left"===c?a:d.length-a-1].toString())e++;else break;return"left"===c?d.slice(e):d.slice(0,d.length-e)}var be=a.i(286262),bf=a.i(539017);let bg=new TextDecoder,bh=new TextEncoder;function bi(a,b={}){let{size:c}=b,d=a;c&&(be.assertSize(a,c),d=ba.padRight(a,c));let e=d.slice(2);e.length%2&&(e=`0${e}`);let f=e.length/2,g=new Uint8Array(f);for(let a=0,b=0;a<f;a++){let c=bc(e.charCodeAt(b++)),d=bc(e.charCodeAt(b++));if(void 0===c||void 0===d)throw new a9.BaseError(`Invalid byte sequence ("${e[b-2]}${e[b-1]}" in "${e}").`);g[a]=c<<4|d}return g}function bj(a){return a.length}function bk(a,b={}){let{size:c}=b;void 0!==c&&bb(a,c);let d=ba.fromBytes(a,b);return ba.toNumber(d,b)}function bl(a){return bd(a,{dir:"left"})}class bm extends a9.BaseError{constructor(a){super(`Bytes value \`${a}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class bn extends a9.BaseError{constructor(a){super(`Value \`${"object"==typeof a?bf.stringify(a):a}\` of type \`${typeof a}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class bo extends a9.BaseError{constructor({givenSize:a,maxSize:b}){super(`Size cannot exceed \`${b}\` bytes. Given size: \`${a}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class bp extends a9.BaseError{constructor({offset:a,position:b,size:c}){super(`Slice ${"start"===b?"starting":"ending"} at offset \`${a}\` is out-of-bounds (size: \`${c}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class bq extends a9.BaseError{constructor({size:a,targetSize:b,type:c}){super(`${c.charAt(0).toUpperCase()}${c.slice(1).toLowerCase()} size (\`${a}\`) exceeds padding size (\`${b}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function br(a,b={}){var c;let{as:d="string"==typeof a?"Hex":"Bytes"}=b,e=(0,a8.keccak_256)(a instanceof Uint8Array?a:"string"==typeof a?bi(a):(c=a)instanceof Uint8Array?c:new Uint8Array(c));return"Bytes"===d?e:ba.fromBytes(e)}class bs extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}let bt={checksum:new bs(8192)}.checksum;var bu=a7,bv=a7;function bw(a,b={}){let{compressed:c}=b,{prefix:d,x:e,y:f}=a;if(!1===c||"bigint"==typeof e&&"bigint"==typeof f){if(4!==d)throw new bz({prefix:d,cause:new bB});return}if(!0===c||"bigint"==typeof e&&void 0===f){if(3!==d&&2!==d)throw new bz({prefix:d,cause:new bA});return}throw new by({publicKey:a})}function bx(a){if(132!==a.length&&130!==a.length&&68!==a.length)throw new bC({publicKey:a});if(130===a.length)return{prefix:4,x:BigInt(ba.slice(a,0,32)),y:BigInt(ba.slice(a,32,64))};if(132===a.length){let b=Number(ba.slice(a,0,1));return{prefix:b,x:BigInt(ba.slice(a,1,33)),y:BigInt(ba.slice(a,33,65))}}return{prefix:Number(ba.slice(a,0,1)),x:BigInt(ba.slice(a,1,33))}}class by extends bv.BaseError{constructor({publicKey:a}){super(`Value \`${bf.stringify(a)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class bz extends bv.BaseError{constructor({prefix:a,cause:b}){super(`Prefix "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class bA extends bv.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class bB extends bv.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class bC extends bv.BaseError{constructor({publicKey:a}){super(`Value \`${a}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ba.size(ba.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let bD=/^0x[a-fA-F0-9]{40}$/;function bE(a,b={}){let{strict:c=!0}=b;if(!bD.test(a))throw new bH({address:a,cause:new bI});if(c){if(a.toLowerCase()===a)return;if(bF(a)!==a)throw new bH({address:a,cause:new bJ})}}function bF(a){if(bt.has(a))return bt.get(a);bE(a,{strict:!1});let b=a.substring(2).toLowerCase(),c=br(function(a,b={}){let{size:c}=b,d=bh.encode(a);return"number"==typeof c?(bb(d,c),function(a,b={}){let{dir:c,size:d=32}=b;if(0===d)return a;if(a.length>d)throw new bq({size:a.length,targetSize:d,type:"Bytes"});let e=new Uint8Array(d);for(let b=0;b<d;b++){let f="right"===c;e[f?b:d-b-1]=a[f?b:a.length-b-1]}return e}(d,{dir:"right",size:c})):d}(b),{as:"Bytes"}),d=b.split("");for(let a=0;a<40;a+=2)c[a>>1]>>4>=8&&d[a]&&(d[a]=d[a].toUpperCase()),(15&c[a>>1])>=8&&d[a+1]&&(d[a+1]=d[a+1].toUpperCase());let e=`0x${d.join("")}`;return bt.set(a,e),e}function bG(a,b={}){let{strict:c=!0}=b??{};try{return bE(a,{strict:c}),!0}catch{return!1}}class bH extends bu.BaseError{constructor({address:a,cause:b}){super(`Address "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class bI extends bu.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class bJ extends bu.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function bK(a){let b=!0,c="",d=0,e="",f=!1;for(let g=0;g<a.length;g++){let h=a[g];if(["(",")",","].includes(h)&&(b=!0),"("===h&&d++,")"===h&&d--,b){if(0===d){if(" "===h&&["event","function","error",""].includes(e))e="";else if(e+=h,")"===h){f=!0;break}continue}if(" "===h){","!==a[g-1]&&","!==c&&",("!==c&&(c="",b=!1);continue}e+=h,c+=h}}if(!f)throw new a7.BaseError("Unable to normalize signature.");return e}function bL(a,b={}){let{prepare:c=!0}=b,d=Array.isArray(a)||"string"==typeof a?function(a){let b;if("string"==typeof a)b=(0,a6.parseSignature)(a);else{let c=(0,a5.parseStructs)(a),d=a.length;for(let e=0;e<d;e++){let d=a[e];if(!(0,a4.isStructSignature)(d)){b=(0,a6.parseSignature)(d,c);break}}}if(!b)throw new a3.InvalidAbiItemError({signature:a});return b}(a):a;return{...d,...c?{hash:bO(d)}:{}}}function bM(a,b,c){let d,{args:e=[],prepare:f=!0}=c??{},g=ba.validate(b,{strict:!1}),h=a.filter(a=>g?"function"===a.type||"error"===a.type?bN(a)===ba.slice(b,0,4):"event"===a.type&&bO(a)===b:"name"in a&&a.name===b);if(0===h.length)throw new bQ({name:b});if(1===h.length)return{...h[0],...f?{hash:bO(h[0])}:{}};for(let a of h){if("inputs"in a){if(!e||0===e.length){if(!a.inputs||0===a.inputs.length)return{...a,...f?{hash:bO(a)}:{}};continue}if(a.inputs&&0!==a.inputs.length&&a.inputs.length===e.length&&e.every((b,c)=>{let d="inputs"in a&&a.inputs[c];return!!d&&function a(b,c){let d=typeof b,e=c.type;switch(e){case"address":return bG(b,{strict:!1});case"bool":return"boolean"===d;case"function":case"string":return"string"===d;default:if("tuple"===e&&"components"in c)return Object.values(c.components).every((c,d)=>a(Object.values(b)[d],c));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(e))return"number"===d||"bigint"===d;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(e))return"string"===d||b instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(e))return Array.isArray(b)&&b.every(b=>a(b,{...c,type:e.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(b,d)})){if(d&&"inputs"in d&&d.inputs){let b=function a(b,c,d){for(let e in b){let f=b[e],g=c[e];if("tuple"===f.type&&"tuple"===g.type&&"components"in f&&"components"in g)return a(f.components,g.components,d[e]);let h=[f.type,g.type];if(h.includes("address")&&h.includes("bytes20")||(h.includes("address")&&h.includes("string")||h.includes("address")&&h.includes("bytes"))&&bG(d[e],{strict:!1}))return h}}(a.inputs,d.inputs,e);if(b)throw new bP({abiItem:a,type:b[0]},{abiItem:d,type:b[1]})}d=a}}}let i=(()=>{if(d)return d;let[a,...b]=h;return{...a,overloads:b}})();if(!i)throw new bQ({name:b});return{...i,...f?{hash:bO(i)}:{}}}function bN(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return bM(b,c)}return a[0]})();return ba.slice(bO(b),0,4)}function bO(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return bM(b,c)}return a[0]})();return"string"!=typeof b&&"hash"in b&&b.hash?b.hash:br(ba.fromString(function(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return bM(b,c)}return a[0]})();return bK("string"==typeof b?b:a2.formatAbiItem(b))}(b)))}class bP extends a7.BaseError{constructor(a,b){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${a.type}\` in \`${bK(a2.formatAbiItem(a.abiItem))}\`, and`,`\`${b.type}\` in \`${bK(a2.formatAbiItem(b.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class bQ extends a7.BaseError{constructor({name:a,data:b,type:c="item"}){super(`ABI ${c}${a?` with name "${a}"`:b?` with data "${b}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}a7.BaseError;var bR=a.i(14937),bS=a.i(184252),bT=a7;let bU=/^(.*)\[([0-9]*)\]$/,bV=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bW=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,bX=2n**256n-1n;function bY(a){let b=0;for(let c=0;c<a.length;c++){let{dynamic:d,encoded:e}=a[c];d?b+=32:b+=ba.size(e)}let c=[],d=[],e=0;for(let f=0;f<a.length;f++){let{dynamic:g,encoded:h}=a[f];g?(c.push(ba.fromNumber(b+e,{size:32})),d.push(h),e+=ba.size(h)):c.push(h)}return ba.concat(...c,...d)}function bZ(a){let b=a.match(/^(.*)\[(\d+)?\]$/);return b?[b[2]?Number(b[2]):null,b[1]]:void 0}function b$(a){let{type:b}=a;if("string"===b||"bytes"===b||b.endsWith("[]"))return!0;if("tuple"===b)return a.components?.some(b$);let c=bZ(a.type);return!!(c&&b$({...a,type:c[1]}))}var b_=a7;let b0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new b4({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(a){if(a<0||a>this.bytes.length-1)throw new b3({length:this.bytes.length,position:a})},decrementPosition(a){if(a<0)throw new b2({offset:a});let b=this.position-a;this.assertPosition(b),this.position=b},getReadCount(a){return this.positionReadCount.get(a||this.position)||0},incrementPosition(a){if(a<0)throw new b2({offset:a});let b=this.position+a;this.assertPosition(b),this.position=b},inspectByte(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectBytes(a,b){let c=b??this.position;return this.assertPosition(c+a-1),this.bytes.subarray(c,c+a)},inspectUint8(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectUint16(a){let b=a??this.position;return this.assertPosition(b+1),this.dataView.getUint16(b)},inspectUint24(a){let b=a??this.position;return this.assertPosition(b+2),(this.dataView.getUint16(b)<<8)+this.dataView.getUint8(b+2)},inspectUint32(a){let b=a??this.position;return this.assertPosition(b+3),this.dataView.getUint32(b)},pushByte(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushBytes(a){this.assertPosition(this.position+a.length-1),this.bytes.set(a,this.position),this.position+=a.length},pushUint8(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushUint16(a){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,a),this.position+=2},pushUint24(a){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,a>>8),this.dataView.setUint8(this.position+2,255&a),this.position+=3},pushUint32(a){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,a),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let a=this.inspectByte();return this.position++,a},readBytes(a,b){this.assertReadLimit(),this._touch();let c=this.inspectBytes(a);return this.position+=b??a,c},readUint8(){this.assertReadLimit(),this._touch();let a=this.inspectUint8();return this.position+=1,a},readUint16(){this.assertReadLimit(),this._touch();let a=this.inspectUint16();return this.position+=2,a},readUint24(){this.assertReadLimit(),this._touch();let a=this.inspectUint24();return this.position+=3,a},readUint32(){this.assertReadLimit(),this._touch();let a=this.inspectUint32();return this.position+=4,a},get remaining(){return this.bytes.length-this.position},setPosition(a){let b=this.position;return this.assertPosition(a),this.position=a,()=>this.position=b},_touch(){if(this.recursiveReadLimit===1/0)return;let a=this.getReadCount();this.positionReadCount.set(this.position,a+1),a>0&&this.recursiveReadCount++}};function b1(a,{recursiveReadLimit:b=8192}={}){let c=Object.create(b0);return c.bytes=a,c.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=b,c}class b2 extends b_.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class b3 extends b_.BaseError{constructor({length:a,position:b}){super(`Position \`${b}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class b4 extends b_.BaseError{constructor({count:a,limit:b}){super(`Recursive read limit of \`${b}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function b5(a,b,c={}){let{as:d="Array",checksumAddress:e=!1}=c,f="string"==typeof b?bi(b):b,g=b1(f);if(0===bj(f)&&a.length>0)throw new ca;if(bj(f)&&32>bj(f))throw new b9({data:"string"==typeof b?b:ba.fromBytes(b),parameters:a,size:bj(f)});let h=0,i="Array"===d?[]:{};for(let b=0;b<a.length;++b){let c=a[b];g.setPosition(h);let[f,j]=function a(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=bZ(c.type);if(g){let[d,h]=g;return function(b,c,d){let{checksumAddress:e,length:f,staticPosition:g}=d;if(!f){let d=g+bk(b.readBytes(32)),f=d+32;b.setPosition(d);let h=bk(b.readBytes(32)),i=b$(c),j=0,k=[];for(let d=0;d<h;++d){b.setPosition(f+(i?32*d:j));let[g,h]=a(b,c,{checksumAddress:e,staticPosition:f});j+=h,k.push(g)}return b.setPosition(g+32),[k,32]}if(b$(c)){let d=g+bk(b.readBytes(32)),h=[];for(let g=0;g<f;++g){b.setPosition(d+32*g);let[f]=a(b,c,{checksumAddress:e,staticPosition:d});h.push(f)}return b.setPosition(g+32),[h,32]}let h=0,i=[];for(let d=0;d<f;++d){let[d,f]=a(b,c,{checksumAddress:e,staticPosition:g+h});h+=f,i.push(d)}return[i,h]}(b,{...c,type:h},{checksumAddress:e,length:d,staticPosition:f})}if("tuple"===c.type)return function(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=0===c.components.length||c.components.some(({name:a})=>!a),h=g?[]:{},i=0;if(b$(c)){let d=f+bk(b.readBytes(32));for(let f=0;f<c.components.length;++f){let j=c.components[f];b.setPosition(d+i);let[k,l]=a(b,j,{checksumAddress:e,staticPosition:d});i+=l,h[g?f:j?.name]=k}return b.setPosition(f+32),[h,32]}for(let d=0;d<c.components.length;++d){let j=c.components[d],[k,l]=a(b,j,{checksumAddress:e,staticPosition:f});h[g?d:j?.name]=k,i+=l}return[h,i]}(b,c,{checksumAddress:e,staticPosition:f});if("address"===c.type)return function(a,b={}){let c,{checksum:d=!1}=b,e=a.readBytes(32);return[(c=ba.fromBytes(function(a,b,c,d={}){let{strict:e}=d;!1;let f=a.slice(-20,void 0);return e&&function(a,b,c){if("number"==typeof c&&bj(a)!==c- -20)throw new bp({offset:c,position:"end",size:bj(a)})}(f,0,void 0),f}(e,0)),d?bF(c):c),32]}(b,{checksum:e});if("bool"===c.type)return[function(a,b={}){let{size:c}=b,d=a;if(void 0!==c&&(bb(d,c),d=bl(d)),d.length>1||d[0]>1)throw new bm(d);return!!d[0]}(b.readBytes(32),{size:32}),32];if(c.type.startsWith("bytes"))return function(a,b,{staticPosition:c}){let[d,e]=b.type.split("bytes");if(!e){let b=bk(a.readBytes(32));a.setPosition(c+b);let d=bk(a.readBytes(32));if(0===d)return a.setPosition(c+32),["0x",32];let e=a.readBytes(d);return a.setPosition(c+32),[ba.fromBytes(e),32]}return[ba.fromBytes(a.readBytes(Number.parseInt(e,10),32)),32]}(b,c,{staticPosition:f});if(c.type.startsWith("uint")||c.type.startsWith("int")){var h,i;let a,d,e;return h=b,a=(i=c).type.startsWith("int"),d=Number.parseInt(i.type.split("int")[1]||"256",10),e=h.readBytes(32),[d>48?function(a,b={}){let{size:c}=b;void 0!==c&&bb(a,c);let d=ba.fromBytes(a,b);return ba.toBigInt(d,b)}(e,{signed:a}):bk(e,{signed:a}),32]}if("string"===c.type)return function(a,{staticPosition:b}){let c=bk(a.readBytes(32));a.setPosition(b+c);let d=bk(a.readBytes(32));if(0===d)return a.setPosition(b+32),["",32];let e=function(a,b={}){let{size:c}=b,d=a;return void 0!==c&&(bb(d,c),d=bd(d,{dir:"right"})),bg.decode(d)}(bl(a.readBytes(d,32)));return a.setPosition(b+32),[e,32]}(b,{staticPosition:f});throw new cf(c.type)}(g,c,{checksumAddress:e,staticPosition:0});h+=j,"Array"===d?i.push(f):i[c.name??b]=f}return i}function b6(a,b,c){let{checksumAddress:d=!1}=c??{};if(a.length!==b.length)throw new cd({expectedLength:a.length,givenLength:b.length});let e=bY(function({checksumAddress:a,parameters:b,values:c}){let d=[];for(let e=0;e<b.length;e++)d.push(function a({checksumAddress:b=!1,parameter:c,value:d}){let e=bZ(c.type);if(e){let[f,g]=e;return function(b,c){let{checksumAddress:d,length:e,parameter:f}=c,g=null===e;if(!Array.isArray(b))throw new ce(b);if(!g&&b.length!==e)throw new cb({expectedLength:e,givenLength:b.length,type:`${f.type}[${e}]`});let h=!1,i=[];for(let c=0;c<b.length;c++){let e=a({checksumAddress:d,parameter:f,value:b[c]});e.dynamic&&(h=!0),i.push(e)}if(g||h){let a=bY(i);if(g){let b=ba.fromNumber(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?ba.concat(b,a):b}}if(h)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:ba.concat(...i.map(({encoded:a})=>a))}}(d,{checksumAddress:b,length:f,parameter:{...c,type:g}})}if("tuple"===c.type)return function(b,c){let{checksumAddress:d,parameter:e}=c,f=!1,g=[];for(let c=0;c<e.components.length;c++){let h=e.components[c],i=Array.isArray(b)?c:h.name,j=a({checksumAddress:d,parameter:h,value:b[i]});g.push(j),j.dynamic&&(f=!0)}return{dynamic:f,encoded:f?bY(g):ba.concat(...g.map(({encoded:a})=>a))}}(d,{checksumAddress:b,parameter:c});if("address"===c.type)return function(a,b){let{checksum:c=!1}=b;return bE(a,{strict:c}),{dynamic:!1,encoded:ba.padLeft(a.toLowerCase())}}(d,{checksum:b});if("bool"===c.type){var f=d;if("boolean"!=typeof f)throw new a7.BaseError(`Invalid boolean value: "${f}" (type: ${typeof f}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ba.padLeft(ba.fromBoolean(f))}}if(c.type.startsWith("uint")||c.type.startsWith("int")){let a=c.type.startsWith("int"),[,,b="256"]=bW.exec(c.type)??[];return function(a,{signed:b,size:c}){if("number"==typeof c){let d=2n**(BigInt(c)-(b?1n:0n))-1n,e=b?-d-1n:0n;if(a>d||a<e)throw new ba.IntegerOutOfRangeError({max:d.toString(),min:e.toString(),signed:b,size:c/8,value:a.toString()})}return{dynamic:!1,encoded:ba.fromNumber(a,{size:32,signed:b})}}(d,{signed:a,size:Number(b)})}if(c.type.startsWith("bytes"))return function(a,{type:b}){let[,c]=b.split("bytes"),d=ba.size(a);if(!c){let b=a;return d%32!=0&&(b=ba.padRight(b,32*Math.ceil((a.length-2)/2/32))),{dynamic:!0,encoded:ba.concat(ba.padLeft(ba.fromNumber(d,{size:32})),b)}}if(d!==Number.parseInt(c,10))throw new cc({expectedSize:Number.parseInt(c,10),value:a});return{dynamic:!1,encoded:ba.padRight(a)}}(d,{type:c.type});if("string"===c.type){var g=d;let a=ba.fromString(g),b=Math.ceil(ba.size(a)/32),c=[];for(let d=0;d<b;d++)c.push(ba.padRight(ba.slice(a,32*d,(d+1)*32)));return{dynamic:!0,encoded:ba.concat(ba.padRight(ba.fromNumber(ba.size(a),{size:32})),...c)}}throw new cf(c.type)}({checksumAddress:a,parameter:b[e],value:c[e]}));return d}({checksumAddress:d,parameters:a,values:b}));return 0===e.length?"0x":e}function b7(a,b){if(a.length!==b.length)throw new cd({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(b7.encode(e,f))}return ba.concat(...c)}function b8(a){return Array.isArray(a)&&"string"==typeof a[0]||"string"==typeof a?function(a){let b=[];if("string"==typeof a){let c=(0,a6.splitParameters)(a),d=c.length;for(let a=0;a<d;a++)b.push((0,a6.parseAbiParameter)(c[a],{modifiers:a4.modifiers}))}else{let c=(0,a5.parseStructs)(a),d=a.length;for(let e=0;e<d;e++){let d=a[e];if((0,a4.isStructSignature)(d))continue;let f=(0,a6.splitParameters)(d),g=f.length;for(let a=0;a<g;a++)b.push((0,a6.parseAbiParameter)(f[a],{modifiers:a4.modifiers,structs:c}))}}if(0===b.length)throw new bS.InvalidAbiParametersError({params:a});return b}(a):a}(b7||(b7={})).encode=function a(b,c,d=!1){if("address"===b)return bE(c),ba.padLeft(c.toLowerCase(),32*!!d);if("string"===b)return ba.fromString(c);if("bytes"===b)return c;if("bool"===b)return ba.padLeft(ba.fromBoolean(c),d?32:1);let e=b.match(bW);if(e){let[a,b,f="256"]=e,g=Number.parseInt(f,10)/8;return ba.fromNumber(c,{size:d?32:g,signed:"int"===b})}let f=b.match(bV);if(f){let[a,b]=f;if(Number.parseInt(b,10)!==(c.length-2)/2)throw new cc({expectedSize:Number.parseInt(b,10),value:c});return ba.padRight(c,32*!!d)}let g=b.match(bU);if(g&&Array.isArray(c)){let[b,d]=g,e=[];for(let b=0;b<c.length;b++)e.push(a(d,c[b],!0));return 0===e.length?"0x":ba.concat(...e)}throw new cf(b)};class b9 extends bT.BaseError{constructor({data:a,parameters:b,size:c}){super(`Data size of ${c} bytes is too small for given parameters.`,{metaMessages:[`Params: (${bR.formatAbiParameters(b)})`,`Data:   ${a} (${c} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class ca extends bT.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class cb extends bT.BaseError{constructor({expectedLength:a,givenLength:b,type:c}){super(`Array length mismatch for type \`${c}\`. Expected: \`${a}\`. Given: \`${b}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class cc extends bT.BaseError{constructor({expectedSize:a,value:b}){super(`Size of bytes "${b}" (bytes${ba.size(b)}) does not match expected size (bytes${a}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class cd extends bT.BaseError{constructor({expectedLength:a,givenLength:b}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${a}
Given length (values): ${b}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class ce extends bT.BaseError{constructor(a){super(`Value \`${a}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class cf extends bT.BaseError{constructor(a){super(`Type \`${a}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function cg(a,b={}){return bL(a,b)}function ch(a,b,c){let d=bM(a,b,c);if("function"!==d.type)throw new bQ({name:b,type:"function"});return d}let ci="0x0000000000000000000000000000000000000000";var cj=a.i(801877);async function ck(a,b){let{blockNumber:c,blockTag:e,calls:f,stateOverrides:g,traceAssetChanges:i,traceTransfers:j,validation:k}=b,l=b.account?(0,S.parseAccount)(b.account):void 0;if(i&&!l)throw new h.BaseError("`account` is required when `traceAssetChanges` is true");let m=l?function(...a){let[b,c]=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return[function(a){let b=a.find(a=>"constructor"===a.type);if(!b)throw new bQ({name:"constructor"});return b}(b),c]}return a})(),{bytecode:d,args:e}=c;return ba.concat(d,b.inputs?.length&&e?.length?b6(b.inputs,e):"0x")}(bL("constructor(bytes, bytes)"),{bytecode:cj.deploylessCallViaBytecodeBytecode,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...a){let[b,c=[]]=(()=>{if(Array.isArray(a[0])){let[b,c,d]=a;return[ch(b,c,{args:d}),d]}let[b,c]=a;return[b,c]})(),{overloads:d}=b,e=d?ch([b,...d],b.name,{args:c}):b,f=bN(e),g=c.length>0?b6(e.inputs,c):void 0;return g?ba.concat(f,g):f}(cg("function getBalance(address)"),[l.address])]}):void 0,n=i?await Promise.all(b.calls.map(async b=>{if(!b.data&&!b.abi)return;let{accessList:c}=await X(a,{account:l.address,...b,data:b.abi?(0,d.encodeFunctionData)(b):b.data});return c.map(({address:a,storageKeys:b})=>b.length>0?a:null)})).then(a=>a.flat().filter(Boolean)):[],o=await a1(a,{blockNumber:c,blockTag:e,blocks:[...i?[{calls:[{data:m}],stateOverrides:g},{calls:n.map((a,b)=>({abi:[cg("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:a,from:ci,nonce:b})),stateOverrides:[{address:ci,nonce:0}]}]:[],{calls:[...f,{}].map(a=>({...a,from:l?.address})),stateOverrides:g},...i?[{calls:[{data:m}]},{calls:n.map((a,b)=>({abi:[cg("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:a,from:ci,nonce:b})),stateOverrides:[{address:ci,nonce:0}]},{calls:n.map((a,b)=>({to:a,abi:[cg("function decimals() returns (uint256)")],functionName:"decimals",from:ci,nonce:b})),stateOverrides:[{address:ci,nonce:0}]},{calls:n.map((a,b)=>({to:a,abi:[cg("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ci,nonce:b})),stateOverrides:[{address:ci,nonce:0}]},{calls:n.map((a,b)=>({to:a,abi:[cg("function symbol() returns (string)")],functionName:"symbol",from:ci,nonce:b})),stateOverrides:[{address:ci,nonce:0}]}]:[]],traceTransfers:j,validation:k}),p=i?o[2]:o[0],[q,r,,s,t,u,v,w]=i?o:[],{calls:x,...y}=p,z=x.slice(0,-1)??[],A=[...q?.calls??[],...r?.calls??[]].map(a=>"success"===a.status?(0,av.hexToBigInt)(a.data):null),B=[...s?.calls??[],...t?.calls??[]].map(a=>"success"===a.status?(0,av.hexToBigInt)(a.data):null),C=(u?.calls??[]).map(a=>"success"===a.status?a.result:null),D=(w?.calls??[]).map(a=>"success"===a.status?a.result:null),E=(v?.calls??[]).map(a=>"success"===a.status?a.result:null),F=[];for(let[a,b]of B.entries()){let c=A[a];if("bigint"!=typeof b||"bigint"!=typeof c)continue;let d=C[a-1],e=D[a-1],f=E[a-1],g=0===a?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:n[a-1],decimals:f||d?Number(d??1):void 0,symbol:e??void 0};F.some(a=>a.token.address===g.address)||F.push({token:g,value:{pre:c,post:b,diff:b-c}})}return{assetChanges:F,block:y,results:z}}async function cl(a,b){let{abi:e,address:f,args:g,dataSuffix:h,functionName:i,...j}=b,k=j.account?(0,S.parseAccount)(j.account):a.account,l=(0,d.encodeFunctionData)({abi:e,args:g,functionName:i});try{let{data:d}=await (0,s.getAction)(a,R.call,"call")({batch:!1,data:`${l}${h?h.replace("0x",""):""}`,to:f,...j,account:k}),m=(0,c.decodeFunctionResult)({abi:e,args:g,functionName:i,data:d||"0x"}),n=e.filter(a=>"name"in a&&a.name===b.functionName);return{result:m,request:{abi:n,address:f,args:g,dataSuffix:h,functionName:i,...j,account:k}}}catch(a){throw(0,al.getContractError)(a,{abi:e,address:f,args:g,docsPath:"/docs/contract/simulateContract",functionName:i,sender:k?.address})}}async function cm(a,{filter:b}){return b.request({method:"eth_uninstallFilter",params:[b.id]})}var cn=a7;let co="0x6492649264926492649264926492649264926492649264926492649264926492";function cp(a){if(ba.slice(a,-32)!==co)throw new cu(a)}function cq(a){return"string"==typeof a?cr(a):a}function cr(a){cp(a);let[b,c,d]=b5(b8("address, bytes, bytes"),a);return{data:c,signature:d,to:b}}function cs(a){let{data:b,signature:c,to:d}=a;return ba.concat(b6(b8("address, bytes, bytes"),[d,b,c]),co)}function ct(a){try{return cp(a),!0}catch{return!1}}class cu extends cn.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>cu,"assert",()=>cp,"from",()=>cq,"magicBytes",0,co,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>cr,"validate",()=>ct,"wrap",()=>cs],572623);var cv=a.i(572623),cv=cv;function cw(a){if(a<=255)return 1;if(a<=65535)return 2;if(a<=0xffffff)return 3;if(a<=0xffffffff)return 4;throw new a7.BaseError("Length is too large.")}var cx=a7;function cy(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new cE({signature:a});if(a.r<0n||a.r>bX)throw new cF({value:a.r});if(a.s<0n||a.s>bX)throw new cG({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new cH({value:a.yParity})}function cz(a){if(130!==a.length&&132!==a.length)throw new cD({signature:a});let b=BigInt(ba.slice(a,0,32)),c=BigInt(ba.slice(a,32,64)),d=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return cC(b)}catch{throw new cH({value:b})}})();return void 0===d?{r:b,s:c}:{r:b,s:c,yParity:d}}function cA(a){if(void 0!==a.r&&void 0!==a.s)return cB(a)}function cB(a){let b=(()=>{var b,c;let d;if("string"==typeof a)return cz(a);if(a instanceof Uint8Array)return cz(ba.fromBytes(a));return"string"==typeof a.r?(b=a,d=(()=>{let a=b.v?Number(b.v):void 0,c=b.yParity?Number(b.yParity):void 0;if("number"==typeof a&&"number"!=typeof c&&(c=cC(a)),"number"!=typeof c)throw new cH({value:b.yParity});return c})(),{r:BigInt(b.r),s:BigInt(b.s),yParity:d}):a.v?{r:(c=a).r,s:c.s,yParity:cC(c.v)}:{r:a.r,s:a.s,...void 0!==a.yParity?{yParity:a.yParity}:{}}})();return cy(b),b}function cC(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new cI({value:a})}class cD extends cx.BaseError{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ba.size(ba.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class cE extends cx.BaseError{constructor({signature:a}){super(`Signature \`${bf.stringify(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class cF extends cx.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class cG extends cx.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class cH extends cx.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class cI extends cx.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var cJ=a7,cK=a.i(512278);cK.secp256k1;let cL="0x8010801080108010801080108010801080108010801080108010801080108010",cM=b8("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function cN(a){if("string"==typeof a){if(ba.slice(a,-32)!==cL)throw new cS(a)}else cy(a.authorization)}function cO(a){return"string"==typeof a?cP(a):a}function cP(a){cN(a);let b=ba.toNumber(ba.slice(a,-64,-32)),c=ba.slice(a,-b-64,-64),d=ba.slice(a,0,-b-64),[e,f,g]=b5(cM,c);return{authorization:function(a,b={}){return"string"==typeof a.chainId?function(a){let{address:b,chainId:c,nonce:d}=a,e=cA(a);return{address:b,chainId:Number(c),nonce:BigInt(d),...e}}(a):{...a,...b.signature}}({address:e.delegation,chainId:Number(e.chainId),nonce:e.nonce,yParity:e.yParity,r:e.r,s:e.s}),signature:d,...g&&"0x"!==g?{data:g,to:f}:{}}}function cQ(a){let{data:b,signature:c}=a;cN(a);let d=function(a,b={}){let c=br(`0x${(function(a,b={}){bw(a);let{prefix:c,x:d,y:e}=a,{includePrefix:f=!0}=b;return ba.concat(f?ba.fromNumber(c,{size:1}):"0x",ba.fromNumber(d,{size:32}),"bigint"==typeof e?ba.fromNumber(e,{size:32}):"0x")})(a).slice(4)}`).substring(26);return function(a,b={}){let{checksum:c=!1}=b;return(bE(a),c)?bF(a):a}(`0x${c}`,b)}(function(a){var b;let c,{payload:d,signature:e}=a,{r:f,s:g,yParity:h}=e;return b=new cK.secp256k1.Signature(BigInt(f),BigInt(g)).addRecoveryBit(h).recoverPublicKey(ba.from(d).substring(2)),bw(c=(()=>{if(ba.validate(b))return bx(b);if(function(a){try{if(!(a instanceof Uint8Array)&&(!a||"object"!=typeof a||!("BYTES_PER_ELEMENT"in a)||1!==a.BYTES_PER_ELEMENT||"Uint8Array"!==a.constructor.name))throw new bn(a);return!0}catch{return!1}}(b)){var a;return a=b,bx(ba.fromBytes(a))}let{prefix:c,x:d,y:e}=b;return"bigint"==typeof d&&"bigint"==typeof e?{prefix:c??4,x:d,y:e}:{prefix:c,x:d}})()),c}({payload:function(a,b={}){let{presign:c}=b;return br(ba.concat("0x05",function(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,d=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=cw(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=cw((g="string"==typeof(d=b)?bi(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),e=b1(new Uint8Array(d.length));return(d.encode(e),"Hex"===c)?ba.fromBytes(e.bytes):e.bytes}(a,{as:c})}(function(a){let{address:b,chainId:c,nonce:d}=a,e=cA(a);return[c?ba.fromNumber(c):"0x",b,d?ba.fromNumber(d):"0x",...e?function(a){let{r:b,s:c,yParity:d}=a;return[d?"0x01":"0x",0n===b?"0x":ba.trimLeft(ba.fromNumber(b)),0n===c?"0x":ba.trimLeft(ba.fromNumber(c))]}(e):[]]}(c?{address:a.address,chainId:a.chainId,nonce:a.nonce}:a))))}(a.authorization,{presign:!0}),signature:cB(a.authorization)})),e=b6(cM,[{...a.authorization,delegation:a.authorization.address,chainId:BigInt(a.authorization.chainId)},a.to??d,b??"0x"]),f=ba.fromNumber(ba.size(e),{size:32});return ba.concat(c,e,f,cL)}function cR(a){try{return cN(a),!0}catch{return!1}}class cS extends cJ.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>cS,"assert",()=>cN,"from",()=>cO,"magicBytes",0,cL,"suffixParameters",0,cM,"unwrap",()=>cP,"validate",()=>cR,"wrap",()=>cQ],877558);var cT=a.i(877558),cT=cT,cU=a.i(580517),cV=a.i(135278),cW=a.i(615813);async function cX({address:a,authorization:b,signature:c}){return(0,az.isAddressEqual)((0,cV.getAddress)(a),await (0,cW.recoverAuthorizationAddress)({authorization:b,signature:c}))}var cY=a.i(451543);async function cZ(a,b){let c,{address:d,chain:e=a.chain,hash:f,erc6492VerifierAddress:h=b.universalSignatureVerifierAddress??e?.contracts?.erc6492Verifier?.address,multicallAddress:i=b.multicallAddress??e?.contracts?.multicall3?.address}=b;if(e?.verifyHash)return await e.verifyHash(a,b);let j=(c=b.signature,(0,o.isHex)(c)?c:"object"==typeof c&&"r"in c&&"s"in c?function({r:a,s:b,to:c="hex",v:d,yParity:e}){let f=(()=>{if(0===e||1===e)return e;if(d&&(27n===d||28n===d||d>=35n))return+(d%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),g=`0x${new cK.secp256k1.Signature((0,av.hexToBigInt)(a),(0,av.hexToBigInt)(b)).toCompactHex()}${0===f?"1b":"1c"}`;return"hex"===c?g:(0,m.hexToBytes)(g)}(c):(0,g.bytesToHex)(c));try{if(cT.validate(j))return await c$(a,{...b,multicallAddress:i,signature:j});return await c_(a,{...b,verifierAddress:h,signature:j})}catch(a){try{if((0,az.isAddressEqual)((0,cV.getAddress)(d),await (0,cY.recoverAddress)({hash:f,signature:j})))return!0}catch{}if(a instanceof c1)return!1;throw a}}async function c$(a,c){let{address:e,blockNumber:f,blockTag:h,hash:i,multicallAddress:j}=c,{authorization:k,data:m,signature:n,to:o}=cT.unwrap(c.signature);if(await ay(a,{address:e,blockNumber:f,blockTag:h})===(0,l.concatHex)(["0xef0100",k.address]))return await c0(a,{address:e,blockNumber:f,blockTag:h,hash:i,signature:n});let p={address:k.address,chainId:Number(k.chainId),nonce:Number(k.nonce),r:(0,g.numberToHex)(k.r,{size:32}),s:(0,g.numberToHex)(k.s,{size:32}),yParity:k.yParity};if(!await cX({address:e,authorization:p}))throw new c1;let q=await (0,s.getAction)(a,t.readContract,"readContract")({...j?{address:j}:{code:cj.multicall3Bytecode},authorizationList:[p],abi:b.multicall3Abi,blockNumber:f,blockTag:"pending",functionName:"aggregate3",args:[[...m?[{allowFailure:!0,target:o??e,callData:m}]:[],{allowFailure:!0,target:e,callData:(0,d.encodeFunctionData)({abi:b.erc1271Abi,functionName:"isValidSignature",args:[i,n]})}]]}),r=q[q.length-1]?.returnData;if(r?.startsWith("0x1626ba7e"))return!0;throw new c1}async function c_(a,c){let{address:e,factory:f,factoryData:g,hash:h,signature:j,verifierAddress:k,...l}=c,m=await (async()=>!f&&!g||cv.validate(j)?j:cv.wrap({data:g,signature:j,to:f}))(),n=k?{to:k,data:(0,d.encodeFunctionData)({abi:b.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[e,h,m]}),...l}:{data:(0,cU.encodeDeployData)({abi:b.erc6492SignatureValidatorAbi,args:[e,h,m],bytecode:cj.erc6492SignatureValidatorByteCode}),...l},{data:o}=await (0,s.getAction)(a,R.call,"call")(n).catch(a=>{if(a instanceof i.CallExecutionError)throw new c1;throw a});if((0,av.hexToBool)(o??"0x0"))return!0;throw new c1}async function c0(a,c){let{address:d,blockNumber:e,blockTag:f,hash:g,signature:h}=c;if((await (0,s.getAction)(a,t.readContract,"readContract")({address:d,abi:b.erc1271Abi,args:[g,h],blockNumber:e,blockTag:f,functionName:"isValidSignature"}).catch(a=>{if(a instanceof i.ContractFunctionExecutionError)throw new c1;throw a})).startsWith("0x1626ba7e"))return!0;throw new c1}class c1 extends Error{}function c2(a,b){let c,d;return(0,n.keccak256)((c="string"==typeof a?(0,g.stringToHex)(a):"string"==typeof a.raw?a.raw:(0,g.bytesToHex)(a.raw),d=(0,g.stringToHex)(`\x19Ethereum Signed Message:
${(0,aB.size)(c)}`),(0,l.concat)([d,c])),b)}async function c3(a,{address:b,message:c,factory:d,factoryData:e,signature:f,...g}){let h=c2(c);return(0,s.getAction)(a,cZ,"verifyHash")({address:b,factory:d,factoryData:e,hash:h,signature:f,...g})}a.s(["hashMessage",()=>c2],765238),a.s(["hashTypedData",()=>dc],226776);var c4=a.i(199188),c5=a.i(836459),c6=h;class c7 extends c6.BaseError{constructor({domain:a}){super(`Invalid domain "${(0,c5.stringify)(a)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class c8 extends c6.BaseError{constructor({primaryType:a,types:b}){super(`Invalid primary type \`${a}\` must be one of \`${JSON.stringify(Object.keys(b))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class c9 extends c6.BaseError{constructor({type:a}){super(`Struct type "${a}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var da=a.i(618099),db=a.i(891032);function dc(a){let{domain:b={},message:c,primaryType:d}=a,e={EIP712Domain:function({domain:a}){return["string"==typeof a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},("number"==typeof a?.chainId||"bigint"==typeof a?.chainId)&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:b}),...a.types};!function(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{for(let c of a){let{name:a,type:d}=c,h=b[a],i=d.match(db.integerRegex);if(i&&("number"==typeof h||"bigint"==typeof h)){let[a,b,c]=i;(0,g.numberToHex)(h,{signed:"int"===b,size:Number.parseInt(c,10)/8})}if("address"===d&&"string"==typeof h&&!(0,da.isAddress)(h))throw new c4.InvalidAddressError({address:h});let j=d.match(db.bytesRegex);if(j){let[a,b]=j;if(b&&(0,aB.size)(h)!==Number.parseInt(b,10))throw new $.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(0,aB.size)(h)})}let k=e[d];k&&(function(a){if("address"===a||"bool"===a||"string"===a||a.startsWith("bytes")||a.startsWith("uint")||a.startsWith("int"))throw new c9({type:a})}(d),f(k,h))}};if(e.EIP712Domain&&b){if("object"!=typeof b)throw new c7({domain:b});f(e.EIP712Domain,b)}if("EIP712Domain"!==d)if(e[d])f(e[d],c);else throw new c8({primaryType:d,types:e})}({domain:b,message:c,primaryType:d,types:e});let f=["0x1901"];return b&&f.push(function({domain:a,types:b}){return dd({data:a,primaryType:"EIP712Domain",types:b})}({domain:b,types:e})),"EIP712Domain"!==d&&f.push(dd({data:c,primaryType:d,types:e})),(0,n.keccak256)((0,l.concat)(f))}function dd({data:a,primaryType:b,types:c}){let d=function a({data:b,primaryType:c,types:d}){let e=[{type:"bytes32"}],f=[function({primaryType:a,types:b}){let c=(0,g.toHex)(function({primaryType:a,types:b}){let c="",d=function a({primaryType:b,types:c},d=new Set){let e=b.match(/^\w*/u),f=e?.[0];if(d.has(f)||void 0===c[f])return d;for(let b of(d.add(f),c[f]))a({primaryType:b.type,types:c},d);return d}({primaryType:a,types:b});for(let e of(d.delete(a),[a,...Array.from(d).sort()]))c+=`${e}(${b[e].map(({name:a,type:b})=>`${b} ${a}`).join(",")})`;return c}({primaryType:a,types:b}));return(0,n.keccak256)(c)}({primaryType:c,types:d})];for(let h of d[c]){let[c,i]=function b({types:c,name:d,type:e,value:f}){if(void 0!==c[e])return[{type:"bytes32"},(0,n.keccak256)(a({data:f,primaryType:e,types:c}))];if("bytes"===e)return[{type:"bytes32"},(0,n.keccak256)(f)];if("string"===e)return[{type:"bytes32"},(0,n.keccak256)((0,g.toHex)(f))];if(e.lastIndexOf("]")===e.length-1){let a=e.slice(0,e.lastIndexOf("[")),g=f.map(e=>b({name:d,type:a,types:c,value:e}));return[{type:"bytes32"},(0,n.keccak256)((0,ac.encodeAbiParameters)(g.map(([a])=>a),g.map(([,a])=>a)))]}return[{type:e},f]}({types:d,name:h.name,type:h.type,value:b[h.name]});e.push(c),f.push(i)}return(0,ac.encodeAbiParameters)(e,f)}({data:a,primaryType:b,types:c});return(0,n.keccak256)(d)}async function de(a,b){let{address:c,factory:d,factoryData:e,signature:f,message:g,primaryType:h,types:i,domain:j,...k}=b,l=dc({message:g,primaryType:h,types:i,domain:j});return(0,s.getAction)(a,cZ,"verifyHash")({address:c,factory:d,factoryData:e,hash:l,signature:f,...k})}var df=a.i(972624),dg=a.i(537917),dh=a.i(73213),di=a.i(200977),dj=a.i(653452);let dk=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,dl=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function dm(a,b){let{address:c,domain:d,message:e,nonce:f,scheme:g,signature:h,time:i=new Date,...j}=b,k=function(a){let{scheme:b,statement:c,...d}=a.match(dk)?.groups??{},{chainId:e,expirationTime:f,issuedAt:g,notBefore:h,requestId:i,...j}=a.match(dl)?.groups??{},k=a.split("Resources:")[1]?.split("\n- ").slice(1);return{...d,...j,...e?{chainId:Number(e)}:{},...f?{expirationTime:new Date(f)}:{},...g?{issuedAt:new Date(g)}:{},...h?{notBefore:new Date(h)}:{},...i?{requestId:i}:{},...k?{resources:k}:{},...b?{scheme:b}:{},...c?{statement:c}:{}}}(e);if(!k.address||!function(a){let{address:b,domain:c,message:d,nonce:e,scheme:f,time:g=new Date}=a;if(c&&d.domain!==c||e&&d.nonce!==e||f&&d.scheme!==f||d.expirationTime&&g>=d.expirationTime||d.notBefore&&g<d.notBefore)return!1;try{if(!d.address||!(0,da.isAddress)(d.address,{strict:!1})||b&&!(0,az.isAddressEqual)(d.address,b))return!1}catch{return!1}return!0}({address:c,domain:d,message:k,nonce:f,scheme:g,time:i}))return!1;let l=c2(e);return cZ(a,{address:k.address,hash:l,signature:h,...j})}var dn=a.i(895893),dp=a.i(337246),dq=a.i(22981),dr=a.i(415168);async function ds(a,{serializedTransaction:b,throwOnReceiptRevert:c,timeout:d}){let e=await a.request({method:"eth_sendRawTransactionSync",params:d?[b,(0,g.numberToHex)(d)]:[b]},{retryCount:0}),f=(a.chain?.formatters?.transactionReceipt?.format||dr.formatTransactionReceipt)(e);if("reverted"===f.status&&c)throw new dq.TransactionReceiptRevertedError({receipt:f});return f}function dt(a){return{call:b=>(0,R.call)(a,b),createAccessList:b=>X(a,b),createBlockFilter:()=>Z(a),createContractEventFilter:b=>ai(a,b),createEventFilter:b=>aj(a,b),createPendingTransactionFilter:()=>ak(a),estimateContractGas:b=>an(a,b),estimateGas:b=>(0,am.estimateGas)(a,b),getBalance:b=>(0,ar.getBalance)(a,b),getBlobBaseFee:()=>as(a),getBlock:b=>(0,at.getBlock)(a,b),getBlockNumber:b=>(0,au.getBlockNumber)(a,b),getBlockTransactionCount:b=>aw(a,b),getBytecode:b=>ay(a,b),getChainId:()=>(0,ax.getChainId)(a),getCode:b=>ay(a,b),getContractEvents:b=>aI(a,b),getEip712Domain:b=>aL(a,b),getEnsAddress:b=>u(a,b),getEnsAvatar:b=>O(a,b),getEnsName:b=>P(a,b),getEnsResolver:b=>Q(a,b),getEnsText:b=>N(a,b),getFeeHistory:b=>aN(a,b),estimateFeesPerGas:b=>(0,ao.estimateFeesPerGas)(a,b),getFilterChanges:b=>aO(a,b),getFilterLogs:b=>aP(a,b),getGasPrice:()=>(0,aQ.getGasPrice)(a),getLogs:b=>aH(a,b),getProof:b=>aR(a,b),estimateMaxPriorityFeePerGas:b=>(0,ap.estimateMaxPriorityFeePerGas)(a,b),fillTransaction:b=>(0,aq.fillTransaction)(a,b),getStorageAt:b=>aS(a,b),getTransaction:b=>(0,aT.getTransaction)(a,b),getTransactionConfirmations:b=>aU(a,b),getTransactionCount:b=>(0,aV.getTransactionCount)(a,b),getTransactionReceipt:b=>(0,aW.getTransactionReceipt)(a,b),multicall:b=>(0,aX.multicall)(a,b),prepareTransactionRequest:b=>(0,dn.prepareTransactionRequest)(a,b),readContract:b=>(0,t.readContract)(a,b),sendRawTransaction:b=>(0,dp.sendRawTransaction)(a,b),sendRawTransactionSync:b=>ds(a,b),simulate:b=>a1(a,b),simulateBlocks:b=>a1(a,b),simulateCalls:b=>ck(a,b),simulateContract:b=>cl(a,b),verifyHash:b=>cZ(a,b),verifyMessage:b=>c3(a,b),verifySiweMessage:b=>dm(a,b),verifyTypedData:b=>de(a,b),uninstallFilter:b=>cm(a,b),waitForTransactionReceipt:b=>(0,df.waitForTransactionReceipt)(a,b),watchBlocks:b=>(function(a,{blockTag:b=a.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:d=!1,onBlock:e,onError:f,includeTransactions:g,poll:h,pollingInterval:i=a.pollingInterval}){let j,k,l,m,n,o=void 0!==h?h:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),p=g??!1;return o?(k=(0,c5.stringify)(["watchBlocks",a.uid,b,c,d,p,i]),(0,dh.observe)(k,{onBlock:e,onError:f},e=>(0,di.poll)(async()=>{try{let d=await (0,s.getAction)(a,at.getBlock,"getBlock")({blockTag:b,includeTransactions:p});if(null!==d.number&&j?.number!=null){if(d.number===j.number)return;if(d.number-j.number>1&&c)for(let b=j?.number+1n;b<d.number;b++){let c=await (0,s.getAction)(a,at.getBlock,"getBlock")({blockNumber:b,includeTransactions:p});e.onBlock(c,j),j=c}}(j?.number==null||"pending"===b&&d?.number==null||null!==d.number&&d.number>j.number)&&(e.onBlock(d,j),j=d)}catch(a){e.onError?.(a)}},{emitOnBegin:d,interval:i}))):(l=!0,m=!0,n=()=>l=!1,(async()=>{try{d&&(0,s.getAction)(a,at.getBlock,"getBlock")({blockTag:b,includeTransactions:p}).then(a=>{!l||m&&(e(a,void 0),m=!1)}).catch(f);let c=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:g}=await c.subscribe({params:["newHeads"],async onData(b){if(!l)return;let c=await (0,s.getAction)(a,at.getBlock,"getBlock")({blockNumber:b.result?.number,includeTransactions:p}).catch(()=>{});l&&(e(c,j),m=!1,j=c)},onError(a){f?.(a)}});n=g,l||n()}catch(a){f?.(a)}})(),()=>n())})(a,b),watchBlockNumber:b=>(0,dg.watchBlockNumber)(a,b),watchContractEvent:b=>(function(a,b){let c,d,e,f,g,{abi:h,address:i,args:j,batch:k=!0,eventName:l,fromBlock:m,onError:n,onLogs:o,poll:p,pollingInterval:q=a.pollingInterval,strict:r}=b;return(void 0!==p?p:"bigint"==typeof m||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?(c=r??!1,d=(0,c5.stringify)(["watchContractEvent",i,j,k,a.uid,l,q,c,m]),(0,dh.observe)(d,{onLogs:o,onError:n},b=>{let d,e;void 0!==m&&(d=m-1n);let f=!1,g=(0,di.poll)(async()=>{if(!f){try{e=await (0,s.getAction)(a,ai,"createContractEventFilter")({abi:h,address:i,args:j,eventName:l,strict:c,fromBlock:m})}catch{}f=!0;return}try{let f;if(e)f=await (0,s.getAction)(a,aO,"getFilterChanges")({filter:e});else{let b=await (0,s.getAction)(a,au.getBlockNumber,"getBlockNumber")({});f=d&&d<b?await (0,s.getAction)(a,aI,"getContractEvents")({abi:h,address:i,args:j,eventName:l,fromBlock:d+1n,toBlock:b,strict:c}):[],d=b}if(0===f.length)return;if(k)b.onLogs(f);else for(let a of f)b.onLogs([a])}catch(a){e&&a instanceof dj.InvalidInputRpcError&&(f=!1),b.onError?.(a)}},{emitOnBegin:!0,interval:q});return async()=>{e&&await (0,s.getAction)(a,cm,"uninstallFilter")({filter:e}),g()}})):(e=(0,c5.stringify)(["watchContractEvent",i,j,k,a.uid,l,q,r??!1]),f=!0,g=()=>f=!1,(0,dh.observe)(e,{onLogs:o,onError:n},b=>((async()=>{try{let c=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),d=l?ag({abi:h,eventName:l,args:j}):[],{unsubscribe:e}=await c.subscribe({params:["logs",{address:i,topics:d}],onData(a){if(!f)return;let c=a.result;try{let{eventName:a,args:d}=aE({abi:h,data:c.data,topics:c.topics,strict:r}),e=(0,aG.formatLog)(c,{args:d,eventName:a});b.onLogs([e])}catch(f){let a,d;if(f instanceof $.DecodeLogDataMismatch||f instanceof $.DecodeLogTopicsMismatch){if(r)return;a=f.abiItem.name,d=f.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let e=(0,aG.formatLog)(c,{args:d?[]:{},eventName:a});b.onLogs([e])}},onError(a){b.onError?.(a)}});g=e,f||g()}catch(a){n?.(a)}})(),()=>g())))})(a,b),watchEvent:b=>(function(a,{address:b,args:c,batch:d=!0,event:e,events:f,fromBlock:g,onError:h,onLogs:i,poll:j,pollingInterval:k=a.pollingInterval,strict:l}){let m,n,o,p=void 0!==j?j:"bigint"==typeof g||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),q=l??!1;return p?(m=(0,c5.stringify)(["watchEvent",b,c,d,a.uid,e,k,g]),(0,dh.observe)(m,{onLogs:i,onError:h},h=>{let i,j;void 0!==g&&(i=g-1n);let l=!1,m=(0,di.poll)(async()=>{if(!l){try{j=await (0,s.getAction)(a,aj,"createEventFilter")({address:b,args:c,event:e,events:f,strict:q,fromBlock:g})}catch{}l=!0;return}try{let g;if(j)g=await (0,s.getAction)(a,aO,"getFilterChanges")({filter:j});else{let d=await (0,s.getAction)(a,au.getBlockNumber,"getBlockNumber")({});g=i&&i!==d?await (0,s.getAction)(a,aH,"getLogs")({address:b,args:c,event:e,events:f,fromBlock:i+1n,toBlock:d}):[],i=d}if(0===g.length)return;if(d)h.onLogs(g);else for(let a of g)h.onLogs([a])}catch(a){j&&a instanceof dj.InvalidInputRpcError&&(l=!1),h.onError?.(a)}},{emitOnBegin:!0,interval:k});return async()=>{j&&await (0,s.getAction)(a,cm,"uninstallFilter")({filter:j}),m()}})):(n=!0,o=()=>n=!1,(async()=>{try{let d=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),g=f??(e?[e]:void 0),j=[];g&&(j=[g.flatMap(a=>ag({abi:[a],eventName:a.name,args:c}))],e&&(j=j[0]));let{unsubscribe:k}=await d.subscribe({params:["logs",{address:b,topics:j}],onData(a){if(!n)return;let b=a.result;try{let{eventName:a,args:c}=aE({abi:g??[],data:b.data,topics:b.topics,strict:q}),d=(0,aG.formatLog)(b,{args:c,eventName:a});i([d])}catch(e){let a,c;if(e instanceof $.DecodeLogDataMismatch||e instanceof $.DecodeLogTopicsMismatch){if(l)return;a=e.abiItem.name,c=e.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let d=(0,aG.formatLog)(b,{args:c?[]:{},eventName:a});i([d])}},onError(a){h?.(a)}});o=k,n||o()}catch(a){h?.(a)}})(),()=>o())})(a,b),watchPendingTransactions:b=>(function(a,{batch:b=!0,onError:c,onTransactions:d,poll:e,pollingInterval:f=a.pollingInterval}){let g,h,i;return(void 0!==e?e:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type)?(g=(0,c5.stringify)(["watchPendingTransactions",a.uid,b,f]),(0,dh.observe)(g,{onTransactions:d,onError:c},c=>{let d,e=(0,di.poll)(async()=>{try{if(!d)try{d=await (0,s.getAction)(a,ak,"createPendingTransactionFilter")({});return}catch(a){throw e(),a}let f=await (0,s.getAction)(a,aO,"getFilterChanges")({filter:d});if(0===f.length)return;if(b)c.onTransactions(f);else for(let a of f)c.onTransactions([a])}catch(a){c.onError?.(a)}},{emitOnBegin:!0,interval:f});return async()=>{d&&await (0,s.getAction)(a,cm,"uninstallFilter")({filter:d}),e()}})):(h=!0,i=()=>h=!1,(async()=>{try{let{unsubscribe:b}=await a.transport.subscribe({params:["newPendingTransactions"],onData(a){if(!h)return;let b=a.result;d([b])},onError(a){c?.(a)}});i=b,h||i()}catch(a){c?.(a)}})(),()=>i())})(a,b)}}a.s(["publicActions",()=>dt],915822)}];

//# sourceMappingURL=7dfae_viem__esm_clients_decorators_public_7453c139.js.map