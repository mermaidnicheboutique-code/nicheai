{"version":3,"file":"Name.js","sources":["../../../src/identity/components/Name.tsx"],"sourcesContent":["'use client';\nimport { useIdentityContext } from '@/identity/components/IdentityProvider';\nimport { useName } from '@/identity/hooks/useName';\nimport type { NameProps } from '@/identity/types';\nimport { getSlicedAddress } from '@/identity/utils/getSlicedAddress';\nimport { findComponent } from '@/internal/utils/findComponent';\nimport { Children, useMemo } from 'react';\nimport { cn, text } from '../../styles/theme';\nimport { Badge } from './Badge';\nimport { DisplayBadge } from './DisplayBadge';\n\n/**\n * Name is a React component that renders the user name from an Ethereum address.\n */\nexport function Name({\n  address = null,\n  className,\n  children,\n  chain,\n  name: nameOverride,\n  ...props\n}: NameProps) {\n  const { address: contextAddress, chain: contextChain } = useIdentityContext();\n\n  const accountAddress = address ?? contextAddress;\n  const accountChain = chain ?? contextChain;\n\n  const { data: name, isLoading } = useName({\n    address: accountAddress,\n    chain: accountChain,\n  });\n\n  const badge = useMemo(() => {\n    return Children.toArray(children).find(findComponent(Badge));\n  }, [children]);\n\n  const ariaLabel = useMemo(() => {\n    if (name) {\n      return `User identity: ${name}, verified name`;\n    }\n    return `User identity: ${accountAddress}, Ethereum address`;\n  }, [accountAddress, name]);\n\n  if (!contextAddress && !address) {\n    console.error(\n      'Name: an Ethereum address must be provided to the Identity or Name component.',\n    );\n    return null;\n  }\n\n  if (isLoading) {\n    return <span className={className} />;\n  }\n\n  return (\n    <div className=\"flex items-center gap-1\">\n      <span\n        data-testid=\"ockIdentity_Text\"\n        className={cn(text.headline, 'text-ock-foreground', className)}\n        {...props}\n        aria-label={ariaLabel}\n      >\n        {nameOverride || name || getSlicedAddress(accountAddress)}\n      </span>\n      {badge && <DisplayBadge address={accountAddress}>{badge}</DisplayBadge>}\n    </div>\n  );\n}\n"],"names":["Name","address","className","children","chain","name","nameOverride","props","contextAddress","contextChain","useIdentityContext","accountAddress","accountChain","data","isLoading","useName","badge","useMemo","Children","toArray","find","findComponent","Badge","ariaLabel","console","error","cn","text","headline","getSlicedAddress"],"mappings":";;;;;;;;;AAcO,SAASA,KAAK;AAAA,EACnBC,UAAU;AAAA,EACVC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC,MAAMC;AAAAA,EACN,GAAGC;AACM,GAAG;AACN,QAAA;AAAA,IAAEN,SAASO;AAAAA,IAAgBJ,OAAOK;AAAAA,MAAiBC,mBAAmB;AAE5E,QAAMC,iBAAiBV,WAAWO;AAClC,QAAMI,eAAeR,SAASK;AAExB,QAAA;AAAA,IAAEI,MAAMR;AAAAA,IAAMS;AAAAA,MAAcC,QAAQ;AAAA,IACxCd,SAASU;AAAAA,IACTP,OAAOQ;AAAAA,EAAAA,CACR;AAEKI,QAAAA,QAAQC,QAAQ,MAAM;AAC1B,WAAOC,SAASC,QAAQhB,QAAQ,EAAEiB,KAAKC,cAAcC,KAAK,CAAC;AAAA,EAAA,GAC1D,CAACnB,QAAQ,CAAC;AAEPoB,QAAAA,YAAYN,QAAQ,MAAM;AAC9B,QAAIZ,MAAM;AACR,aAAO,kBAAkBA,IAAI;AAAA,IAAA;AAE/B,WAAO,kBAAkBM,cAAc;AAAA,EAAA,GACtC,CAACA,gBAAgBN,IAAI,CAAC;AAErB,MAAA,CAACG,kBAAkB,CAACP,SAAS;AAC/BuB,YAAQC,MACN,+EACF;AACO,WAAA;AAAA,EAAA;AAGT,MAAIX,WAAW;AACN,WAAA,oBAAC,UAAK,WAAwB;AAAA,EAAA;AAIrC,SAAA,qBAAC,OAAI,EAAA,WAAU,uCACb,UAAA;AAAA,IAAA,oBAAC,UACC,eAAY,oBACZ,WAAWY,GAAGC,KAAKC,UAAQ,2BAAyB1B,SAAS,GACzDK,GAAAA,OACJ,cAAYgB,WAEXjB,0BAAgBD,QAAQwB,iBAAiBlB,cAAc,GAC1D;AAAA,IACCK,SAAS,oBAAC,cAAa,EAAA,SAASL,gBAAiBK,UAAM,MAAA,CAAA;AAAA,EAAA,GAC1D;AAEJ;"}