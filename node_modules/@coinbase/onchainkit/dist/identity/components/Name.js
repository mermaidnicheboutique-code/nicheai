'use client';
import { jsx, jsxs } from "react/jsx-runtime";
import { useIdentityContext } from "./IdentityProvider.js";
import { useName } from "../hooks/useName.js";
import { getSlicedAddress } from "../utils/getSlicedAddress.js";
import { findComponent } from "../../internal/utils/findComponent.js";
import { useMemo, Children } from "react";
import { cn, text } from "../../styles/theme.js";
import { Badge } from "./Badge.js";
import { DisplayBadge } from "./DisplayBadge.js";
function Name({
  address = null,
  className,
  children,
  chain,
  name: nameOverride,
  ...props
}) {
  const {
    address: contextAddress,
    chain: contextChain
  } = useIdentityContext();
  const accountAddress = address ?? contextAddress;
  const accountChain = chain ?? contextChain;
  const {
    data: name,
    isLoading
  } = useName({
    address: accountAddress,
    chain: accountChain
  });
  const badge = useMemo(() => {
    return Children.toArray(children).find(findComponent(Badge));
  }, [children]);
  const ariaLabel = useMemo(() => {
    if (name) {
      return `User identity: ${name}, verified name`;
    }
    return `User identity: ${accountAddress}, Ethereum address`;
  }, [accountAddress, name]);
  if (!contextAddress && !address) {
    console.error("Name: an Ethereum address must be provided to the Identity or Name component.");
    return null;
  }
  if (isLoading) {
    return /* @__PURE__ */ jsx("span", { className });
  }
  return /* @__PURE__ */ jsxs("div", { className: "ock:flex ock:items-center ock:gap-1", children: [
    /* @__PURE__ */ jsx("span", { "data-testid": "ockIdentity_Text", className: cn(text.headline, "ock:text-ock-foreground", className), ...props, "aria-label": ariaLabel, children: nameOverride || name || getSlicedAddress(accountAddress) }),
    badge && /* @__PURE__ */ jsx(DisplayBadge, { address: accountAddress, children: badge })
  ] });
}
export {
  Name
};
//# sourceMappingURL=Name.js.map
