{"version":3,"file":"getSocials.js","sources":["../../../src/identity/utils/getSocials.ts"],"sourcesContent":["import { getChainPublicClient } from '@/core/network/getChainPublicClient';\nimport type { GetSocialsReturnType } from '@/identity/types';\nimport type { Chain } from 'viem';\nimport { mainnet } from 'viem/chains';\nimport { normalize } from 'viem/ens';\n\nexport type GetSocials = {\n  ensName: string;\n  chain?: Chain;\n};\n\nexport const getSocials = async ({\n  ensName,\n}: GetSocials): Promise<GetSocialsReturnType> => {\n  const client = getChainPublicClient(mainnet);\n  const normalizedName = normalize(ensName);\n\n  const fetchTextRecord = async (key: string) => {\n    try {\n      const result = await client.getEnsText({\n        name: normalizedName,\n        key,\n      });\n      return result || null;\n    } catch (error) {\n      console.warn(`Failed to fetch ENS text record for ${key}:`, error);\n      return null;\n    }\n  };\n\n  const [twitter, github, farcaster, website] = await Promise.all([\n    fetchTextRecord('com.twitter'),\n    fetchTextRecord('com.github'),\n    fetchTextRecord('xyz.farcaster'),\n    fetchTextRecord('url'),\n  ]);\n\n  return { twitter, github, farcaster, website };\n};\n"],"names":["getSocials","ensName","client","getChainPublicClient","mainnet","normalizedName","normalize","fetchTextRecord","key","result","getEnsText","name","error","console","warn","twitter","github","farcaster","website","Promise","all"],"mappings":";;;AAWO,MAAMA,aAAa,OAAO;AAAA,EAC/BC;AACU,MAAqC;AACzCC,QAAAA,SAASC,qBAAqBC,OAAO;AACrCC,QAAAA,iBAAiBC,UAAUL,OAAO;AAElCM,QAAAA,kBAAkB,OAAOC,QAAgB;AACzC,QAAA;AACIC,YAAAA,SAAS,MAAMP,OAAOQ,WAAW;AAAA,QACrCC,MAAMN;AAAAA,QACNG;AAAAA,MAAAA,CACD;AACD,aAAOC,UAAU;AAAA,aACVG,OAAO;AACdC,cAAQC,KAAK,uCAAuCN,GAAG,KAAKI,KAAK;AAC1D,aAAA;AAAA,IAAA;AAAA,EAEX;AAEM,QAAA,CAACG,SAASC,QAAQC,WAAWC,OAAO,IAAI,MAAMC,QAAQC,IAAI,CAC9Db,gBAAgB,aAAa,GAC7BA,gBAAgB,YAAY,GAC5BA,gBAAgB,eAAe,GAC/BA,gBAAgB,KAAK,CAAC,CACvB;AAEM,SAAA;AAAA,IAAEQ;AAAAA,IAASC;AAAAA,IAAQC;AAAAA,IAAWC;AAAAA,EAAQ;AAC/C;"}