{"version":3,"file":"getAttestations.js","sources":["../../../src/identity/utils/getAttestations.ts"],"sourcesContent":["import { getAttestationsByFilter } from '@/core/network/attestations';\nimport type { Attestation, GetAttestationsParams } from '@/identity/types';\nimport type { Address, Chain } from 'viem';\nimport { isChainSupported } from './easSupportedChains';\n\n/**\n * Fetches Ethereum Attestation Service (EAS) attestations for a given address and chain,\n * optionally filtered by schemas associated with the attestation.\n */\nexport async function getAttestations(\n  address: Address,\n  chain: Chain,\n  options?: GetAttestationsParams,\n): Promise<Attestation[]> {\n  if (!address) {\n    console.log('Error in getAttestation: Address is not provided');\n    return [];\n  }\n\n  if (!isChainSupported(chain)) {\n    console.log('Error in getAttestation: Chain is not supported');\n    return [];\n  }\n  try {\n    // Default query filter values\n    const defaultQueryVariablesFilter = {\n      revoked: false,\n      expirationTime: Math.round(Date.now() / 1000),\n      limit: 10,\n    };\n    const queryVariablesFilter = { ...defaultQueryVariablesFilter, ...options };\n    return await getAttestationsByFilter(address, chain, queryVariablesFilter);\n  } catch (error) {\n    console.log(`Error in getAttestation: ${(error as Error).message}`);\n    return [];\n  }\n}\n"],"names":["getAttestations","address","chain","options","console","log","isChainSupported","defaultQueryVariablesFilter","revoked","expirationTime","Math","round","Date","now","limit","queryVariablesFilter","getAttestationsByFilter","error","message"],"mappings":";;AASsBA,eAAAA,gBACpBC,SACAC,OACAC,SACwB;AACxB,MAAI,CAACF,SAAS;AACZG,YAAQC,IAAI,kDAAkD;AAC9D,WAAO,CAAE;AAAA,EAAA;AAGP,MAAA,CAACC,iBAAiBJ,KAAK,GAAG;AAC5BE,YAAQC,IAAI,iDAAiD;AAC7D,WAAO,CAAE;AAAA,EAAA;AAEP,MAAA;AAEF,UAAME,8BAA8B;AAAA,MAClCC,SAAS;AAAA,MACTC,gBAAgBC,KAAKC,MAAMC,KAAKC,IAAAA,IAAQ,GAAI;AAAA,MAC5CC,OAAO;AAAA,IACT;AACA,UAAMC,uBAAuB;AAAA,MAAE,GAAGR;AAAAA,MAA6B,GAAGJ;AAAAA,IAAQ;AAC1E,WAAO,MAAMa,wBAAwBf,SAASC,OAAOa,oBAAoB;AAAA,WAClEE,OAAO;AACdb,YAAQC,IAAI,4BAA6BY,MAAgBC,OAAO,EAAE;AAClE,WAAO,CAAE;AAAA,EAAA;AAEb;"}