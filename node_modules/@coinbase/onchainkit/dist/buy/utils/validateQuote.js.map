{"version":3,"file":"validateQuote.js","sources":["../../../src/buy/utils/validateQuote.ts"],"sourcesContent":["import type { GetSwapQuoteResponse } from '@/api/types';\nimport type { LifecycleStatusUpdate } from '@/internal/types';\nimport type { LifecycleStatus, SwapUnit } from '@/swap/types';\nimport { isSwapError } from '../../swap/utils/isSwapError';\n\ntype ValidateQuoteParams = {\n  responseETH?: GetSwapQuoteResponse;\n  responseUSDC?: GetSwapQuoteResponse;\n  responseFrom?: GetSwapQuoteResponse;\n  updateLifecycleStatus: (\n    status: LifecycleStatusUpdate<LifecycleStatus>,\n  ) => void;\n  to: SwapUnit;\n};\n\nexport function validateQuote({\n  to,\n  responseETH,\n  responseUSDC,\n  responseFrom,\n  updateLifecycleStatus,\n}: ValidateQuoteParams) {\n  if (!isSwapError(responseETH) && responseETH?.toAmountUSD) {\n    to.setAmountUSD(responseETH?.toAmountUSD);\n  } else if (!isSwapError(responseUSDC) && responseUSDC?.toAmountUSD) {\n    to.setAmountUSD(responseUSDC.toAmountUSD);\n  } else if (!isSwapError(responseFrom) && responseFrom?.toAmountUSD) {\n    to.setAmountUSD(responseFrom.toAmountUSD);\n  } else {\n    updateLifecycleStatus({\n      statusName: 'error',\n      statusData: {\n        code: 'TmBPc01',\n        error: 'No valid quote found',\n        message: '',\n      },\n    });\n    return { isValid: false };\n  }\n  return { isValid: true };\n}\n"],"names":["validateQuote","to","responseETH","responseUSDC","responseFrom","updateLifecycleStatus","isSwapError","toAmountUSD","setAmountUSD","statusName","statusData","code","error","message","isValid"],"mappings":";AAeO,SAASA,cAAc;AAAA,EAC5BC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACmB,GAAG;AACtB,MAAI,CAACC,YAAYJ,WAAW,MAAKA,2CAAaK,cAAa;AACtDC,OAAAA,aAAaN,2CAAaK,WAAW;AAAA,aAC/B,CAACD,YAAYH,YAAY,MAAKA,6CAAcI,cAAa;AAC/DC,OAAAA,aAAaL,aAAaI,WAAW;AAAA,aAC/B,CAACD,YAAYF,YAAY,MAAKA,6CAAcG,cAAa;AAC/DC,OAAAA,aAAaJ,aAAaG,WAAW;AAAA,EAAA,OACnC;AACiB,0BAAA;AAAA,MACpBE,YAAY;AAAA,MACZC,YAAY;AAAA,QACVC,MAAM;AAAA,QACNC,OAAO;AAAA,QACPC,SAAS;AAAA,MAAA;AAAA,IACX,CACD;AACM,WAAA;AAAA,MAAEC,SAAS;AAAA,IAAM;AAAA,EAAA;AAEnB,SAAA;AAAA,IAAEA,SAAS;AAAA,EAAK;AACzB;"}