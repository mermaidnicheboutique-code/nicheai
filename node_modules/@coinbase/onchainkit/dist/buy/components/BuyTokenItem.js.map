{"version":3,"file":"BuyTokenItem.js","sources":["../../../src/buy/components/BuyTokenItem.tsx"],"sourcesContent":["'use client';\nimport { useCallback, useMemo } from 'react';\nimport { getRoundedAmount } from '../../internal/utils/getRoundedAmount';\nimport { cn, pressable, text } from '../../styles/theme';\nimport type { SwapUnit } from '../../swap/types';\nimport { TokenImage } from '../../token';\nimport { useBuyContext } from './BuyProvider';\n\nexport function BuyTokenItem({ swapUnit }: { swapUnit: SwapUnit }) {\n  const { handleSubmit, setIsDropdownOpen } = useBuyContext();\n\n  const handleClick = useCallback(() => {\n    setIsDropdownOpen(false);\n    handleSubmit(swapUnit);\n  }, [handleSubmit, swapUnit, setIsDropdownOpen]);\n\n  const hasInsufficientBalance =\n    !swapUnit?.balance ||\n    Number.parseFloat(swapUnit.balance) < Number.parseFloat(swapUnit.amount);\n\n  const roundedAmount = useMemo(() => {\n    if (!swapUnit?.amount) {\n      return '';\n    }\n    return getRoundedAmount(swapUnit.amount, 10);\n  }, [swapUnit?.amount]);\n\n  const roundedBalance = useMemo(() => {\n    return getRoundedAmount(swapUnit?.balance || '0', 3);\n  }, [swapUnit?.balance]);\n\n  if (!swapUnit.token) {\n    return null;\n  }\n\n  return (\n    <button\n      className={cn(\n        'flex items-center gap-2 rounded-lg p-2',\n        !hasInsufficientBalance && pressable.default,\n        text.label2,\n      )}\n      onClick={handleClick}\n      type=\"button\"\n      disabled={hasInsufficientBalance}\n    >\n      <TokenImage token={swapUnit.token} size={36} />\n      <div\n        className={cn(\n          'flex flex-col items-start',\n          hasInsufficientBalance\n            ? 'text-ock-foreground-muted'\n            : 'text-ock-foreground',\n        )}\n      >\n        <div>\n          {roundedAmount} {swapUnit.token.name}\n        </div>\n        <div\n          className={cn(\n            'text-xs',\n            hasInsufficientBalance\n              ? 'text-ock-error'\n              : 'text-ock-foreground-muted',\n          )}\n        >{`${\n          hasInsufficientBalance ? 'Insufficient balance' : 'Balance'\n        }: ${roundedBalance}`}</div>\n      </div>\n    </button>\n  );\n}\n"],"names":["BuyTokenItem","swapUnit","handleSubmit","setIsDropdownOpen","useBuyContext","handleClick","useCallback","hasInsufficientBalance","balance","Number","parseFloat","amount","roundedAmount","useMemo","getRoundedAmount","roundedBalance","token","cn","pressable","default","text","label2","name"],"mappings":";;;;;;;;;;;;AAQO,SAASA,aAAa;AAAA,EAAEC;AAAiC,GAAG;AAC3D,QAAA;AAAA,IAAEC;AAAAA,IAAcC;AAAAA,MAAsBC,cAAc;AAEpDC,QAAAA,cAAcC,YAAY,MAAM;AACpCH,sBAAkB,KAAK;AACvBD,iBAAaD,QAAQ;AAAA,EACpB,GAAA,CAACC,cAAcD,UAAUE,iBAAiB,CAAC;AAE9C,QAAMI,yBACJ,EAACN,qCAAUO,YACXC,OAAOC,WAAWT,SAASO,OAAO,IAAIC,OAAOC,WAAWT,SAASU,MAAM;AAEnEC,QAAAA,gBAAgBC,QAAQ,MAAM;AAC9B,QAAA,EAACZ,qCAAUU,SAAQ;AACd,aAAA;AAAA,IAAA;AAEFG,WAAAA,iBAAiBb,SAASU,QAAQ,EAAE;AAAA,EAAA,GAC1C,CAACV,qCAAUU,MAAM,CAAC;AAEfI,QAAAA,iBAAiBF,QAAQ,MAAM;AACnC,WAAOC,kBAAiBb,qCAAUO,YAAW,KAAK,CAAC;AAAA,EAAA,GAClD,CAACP,qCAAUO,OAAO,CAAC;AAElB,MAAA,CAACP,SAASe,OAAO;AACZ,WAAA;AAAA,EAAA;AAGT,8BACG,UACC,EAAA,WAAWC,GAET,8DAAA,CAACV,0BAA0BW,UAAUC,SACrCC,KAAKC,MACP,GACA,SAAShB,aACT,MAAK,UACL,UAAUE,wBAEV,UAAA;AAAA,IAAA,oBAAC,YAAW,EAAA,OAAON,SAASe,OAAO,MAAM,IAAG;AAAA,IAC5C,qBAAC,SACC,WAAWC,GAETV,yCAAAA,yBAGF,kCAAA,yBAAA,GAEA,UAAA;AAAA,MAAA,qBAAC,OACEK,EAAAA,UAAAA;AAAAA,QAAAA;AAAAA,QAAc;AAAA,QAAEX,SAASe,MAAMM;AAAAA,MAAAA,GAClC;AAAA,MACC,oBAAA,OAAA,EACC,WAAWL,GAAE,eAEXV,yBAAsB,uBAAA,+BAGxB,GACA,aACAA,yBAAyB,yBAAyB,SAAS,KACxDQ,cAAc,GAAG,CAAA;AAAA,IAAA,EACxB,CAAA;AAAA,EAAA,GACF;AAEJ;"}