{"version":3,"file":"BuyOnrampItem.js","sources":["../../../src/buy/components/BuyOnrampItem.tsx"],"sourcesContent":["'use client';\nimport type { SwapUnit } from '@/swap/types';\nimport { usdcToken } from '@/token/constants';\nimport { useCallback, useMemo } from 'react';\nimport { applePaySvg } from '../../internal/svg/applePaySvg';\nimport { cardSvg } from '../../internal/svg/cardSvg';\nimport { coinbaseLogoSvg } from '../../internal/svg/coinbaseLogoSvg';\nimport { cn, pressable, text } from '../../styles/theme';\nimport { useBuyContext } from './BuyProvider';\n\ntype OnrampItemProps = {\n  name: string;\n  description: string;\n  onClick: () => void;\n  svg?: React.ReactNode;\n  icon: string;\n  to?: SwapUnit;\n};\n\nconst ONRAMP_ICON_MAP: Record<string, React.ReactNode> = {\n  applePay: applePaySvg,\n  coinbasePay: coinbaseLogoSvg,\n  creditCard: cardSvg,\n};\n\nexport function BuyOnrampItem({\n  name,\n  description,\n  onClick,\n  icon,\n  to,\n}: OnrampItemProps) {\n  const { setIsDropdownOpen } = useBuyContext();\n\n  const handleClick = useCallback(() => {\n    setIsDropdownOpen(false);\n    onClick();\n  }, [onClick, setIsDropdownOpen]);\n\n  const fiatAmount = useMemo(() => {\n    // if token is USDC the usd estimate\n    // can be slightly off (4.9999999) so\n    // use amount instead to prevent disabling of onramp\n    if (\n      to?.token?.address?.toLowerCase() === usdcToken?.address.toLowerCase()\n    ) {\n      return to?.amount;\n    }\n    return to?.amountUSD;\n  }, [to]);\n\n  // Debit and Apple Pay have a minimum purchase amount of $5\n  const isDisabled =\n    !fiatAmount || (Number.parseFloat(fiatAmount) < 5 && name !== 'Coinbase');\n\n  const message = useMemo(() => {\n    if (isDisabled) {\n      return 'Minimum purchase amount is $5';\n    }\n    return description;\n  }, [isDisabled, description]);\n\n  return (\n    <button\n      className={cn(\n        'flex items-center gap-2 rounded-lg p-2',\n        text.label2,\n        !isDisabled && pressable.default,\n        isDisabled && 'text-ock-foreground-muted',\n      )}\n      onClick={handleClick}\n      type=\"button\"\n      data-testid={`ock-${icon}OnrampItem`}\n      disabled={isDisabled}\n    >\n      <div className=\"flex h-9 w-9 items-center justify-center\">\n        {ONRAMP_ICON_MAP[icon]}\n      </div>\n      <div className=\"flex flex-col items-start\">\n        <div className=\"relative flex items-center gap-1\">\n          <div>{name}</div>\n        </div>\n        <div className={cn('text-xs', 'text-ock-foreground-muted')}>\n          {message}\n        </div>\n      </div>\n    </button>\n  );\n}\n"],"names":["ONRAMP_ICON_MAP","applePay","applePaySvg","coinbasePay","coinbaseLogoSvg","creditCard","cardSvg","BuyOnrampItem","name","description","onClick","icon","to","setIsDropdownOpen","useBuyContext","handleClick","useCallback","fiatAmount","useMemo","token","address","toLowerCase","usdcToken","amount","amountUSD","isDisabled","Number","parseFloat","message","cn","text","label2","pressable","default"],"mappings":";;;;;;;;AAmBA,MAAMA,kBAAmD;AAAA,EACvDC,UAAUC;AAAAA,EACVC,aAAaC;AAAAA,EACbC,YAAYC;AACd;AAEO,SAASC,cAAc;AAAA,EAC5BC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACe,GAAG;AACZ,QAAA;AAAA,IAAEC;AAAAA,MAAsBC,cAAc;AAEtCC,QAAAA,cAAcC,YAAY,MAAM;AACpCH,sBAAkB,KAAK;AACf,YAAA;AAAA,EAAA,GACP,CAACH,SAASG,iBAAiB,CAAC;AAEzBI,QAAAA,aAAaC,QAAQ,MAAM;;AAK7BN,UAAAA,oCAAIO,UAAJP,mBAAWQ,YAAXR,mBAAoBS,qBAAkBC,sCAAWF,QAAQC,gBACzD;AACA,aAAOT,yBAAIW;AAAAA,IAAAA;AAEb,WAAOX,yBAAIY;AAAAA,EAAAA,GACV,CAACZ,EAAE,CAAC;AAGDa,QAAAA,aACJ,CAACR,cAAeS,OAAOC,WAAWV,UAAU,IAAI,KAAKT,SAAS;AAE1DoB,QAAAA,UAAUV,QAAQ,MAAM;AAC5B,QAAIO,YAAY;AACP,aAAA;AAAA,IAAA;AAEFhB,WAAAA;AAAAA,EAAAA,GACN,CAACgB,YAAYhB,WAAW,CAAC;AAG1B,SAAA,qBAAC,YACC,WAAWoB,iEAETC,KAAKC,QACL,CAACN,cAAcO,UAAUC,SACzBR,cAAU,+BACZ,GACA,SAASV,aACT,MAAK,UACL,eAAa,OAAOJ,IAAI,cACxB,UAAUc,YAEV,UAAA;AAAA,IAAA,oBAAC,OAAI,EAAA,WAAU,gEACZzB,UAAAA,gBAAgBW,IAAI,GACvB;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,yCACb,UAAA;AAAA,MAAA,oBAAC,SAAI,WAAU,oDACb,UAAC,oBAAA,OAAA,EAAKH,gBAAK,EACb,CAAA;AAAA,0BACC,OAAI,EAAA,WAAWqB,GAAyC,eAAA,+BAAA,GACtDD,UACH,QAAA,CAAA;AAAA,IAAA,EACF,CAAA;AAAA,EAAA,GACF;AAEJ;"}