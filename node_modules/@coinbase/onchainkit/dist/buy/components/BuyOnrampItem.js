'use client';
import { jsxs, jsx } from "react/jsx-runtime";
import { usdcToken } from "../../token/constants.js";
import { useCallback, useMemo } from "react";
import { applePaySvg } from "../../internal/svg/applePaySvg.js";
import { cardSvg } from "../../internal/svg/cardSvg.js";
import { coinbaseLogoSvg } from "../../internal/svg/coinbaseLogoSvg.js";
import { cn, pressable, text } from "../../styles/theme.js";
import { useBuyContext } from "./BuyProvider.js";
const ONRAMP_ICON_MAP = {
  applePay: applePaySvg,
  coinbasePay: coinbaseLogoSvg,
  creditCard: cardSvg
};
function BuyOnrampItem({
  name,
  description,
  onClick,
  icon,
  to
}) {
  const {
    setIsDropdownOpen
  } = useBuyContext();
  const handleClick = useCallback(() => {
    setIsDropdownOpen(false);
    onClick();
  }, [onClick, setIsDropdownOpen]);
  const fiatAmount = useMemo(() => {
    var _a, _b, _c;
    if (((_b = (_a = to == null ? void 0 : to.token) == null ? void 0 : _a.address) == null ? void 0 : _b.toLowerCase()) === ((_c = usdcToken) == null ? void 0 : _c.address.toLowerCase())) {
      return to == null ? void 0 : to.amount;
    }
    return to == null ? void 0 : to.amountUSD;
  }, [to]);
  const isDisabled = !fiatAmount || Number.parseFloat(fiatAmount) < 5 && name !== "Coinbase";
  const message = useMemo(() => {
    if (isDisabled) {
      return "Minimum purchase amount is $5";
    }
    return description;
  }, [isDisabled, description]);
  return /* @__PURE__ */ jsxs("button", { className: cn("ock:flex ock:items-center ock:gap-2 ock:rounded-lg ock:p-2", text.label2, !isDisabled && pressable.default, isDisabled && "ock:text-ock-foreground-muted"), onClick: handleClick, type: "button", "data-testid": `ock-${icon}OnrampItem`, disabled: isDisabled, children: [
    /* @__PURE__ */ jsx("div", { className: "ock:flex ock:h-9 ock:w-9 ock:items-center ock:justify-center", children: ONRAMP_ICON_MAP[icon] }),
    /* @__PURE__ */ jsxs("div", { className: "ock:flex ock:flex-col ock:items-start", children: [
      /* @__PURE__ */ jsx("div", { className: "ock:relative ock:flex ock:items-center ock:gap-1", children: /* @__PURE__ */ jsx("div", { children: name }) }),
      /* @__PURE__ */ jsx("div", { className: cn("ock:text-xs", "ock:text-ock-foreground-muted"), children: message })
    ] })
  ] });
}
export {
  BuyOnrampItem
};
//# sourceMappingURL=BuyOnrampItem.js.map
