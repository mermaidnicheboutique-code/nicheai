'use client';
import { jsxs, jsx } from "react/jsx-runtime";
import { useCallback, useMemo } from "react";
import { getRoundedAmount } from "../../internal/utils/getRoundedAmount.js";
import { cn, text, pressable } from "../../styles/theme.js";
import { TokenImage } from "../../token/components/TokenImage.js";
import "../../token/components/TokenRow.js";
import "../../styles/constants.js";
import "@radix-ui/react-dropdown-menu";
import "../../internal/components/LayerConfigProvider.js";
import "../../token/components/TokenSelectButton.js";
import "viem";
import { useBuyContext } from "./BuyProvider.js";
function BuyTokenItem({
  swapUnit
}) {
  const {
    handleSubmit,
    setIsDropdownOpen
  } = useBuyContext();
  const handleClick = useCallback(() => {
    setIsDropdownOpen(false);
    handleSubmit(swapUnit);
  }, [handleSubmit, swapUnit, setIsDropdownOpen]);
  const hasInsufficientBalance = !(swapUnit == null ? void 0 : swapUnit.balance) || Number.parseFloat(swapUnit.balance) < Number.parseFloat(swapUnit.amount);
  const roundedAmount = useMemo(() => {
    if (!(swapUnit == null ? void 0 : swapUnit.amount)) {
      return "";
    }
    return getRoundedAmount(swapUnit.amount, 10);
  }, [swapUnit == null ? void 0 : swapUnit.amount]);
  const roundedBalance = useMemo(() => {
    return getRoundedAmount((swapUnit == null ? void 0 : swapUnit.balance) || "0", 3);
  }, [swapUnit == null ? void 0 : swapUnit.balance]);
  if (!swapUnit.token) {
    return null;
  }
  return /* @__PURE__ */ jsxs("button", { className: cn("ock:flex ock:items-center ock:gap-2 ock:rounded-lg ock:p-2", !hasInsufficientBalance && pressable.default, text.label2), onClick: handleClick, type: "button", disabled: hasInsufficientBalance, children: [
    /* @__PURE__ */ jsx(TokenImage, { token: swapUnit.token, size: 36 }),
    /* @__PURE__ */ jsxs("div", { className: cn("ock:flex ock:flex-col ock:items-start", hasInsufficientBalance ? "ock:text-ock-foreground-muted" : "ock:text-ock-foreground"), children: [
      /* @__PURE__ */ jsxs("div", { children: [
        roundedAmount,
        " ",
        swapUnit.token.name
      ] }),
      /* @__PURE__ */ jsx("div", { className: cn("ock:text-xs", hasInsufficientBalance ? "ock:text-ock-error" : "ock:text-ock-foreground-muted"), children: `${hasInsufficientBalance ? "Insufficient balance" : "Balance"}: ${roundedBalance}` })
    ] })
  ] });
}
export {
  BuyTokenItem
};
//# sourceMappingURL=BuyTokenItem.js.map
