{"version":3,"file":"sendSwapTransactions.js","sources":["../../../src/swap/utils/sendSwapTransactions.ts"],"sourcesContent":["import { normalizeTransactionId } from '@/internal/utils/normalizeWagmi';\nimport { Capabilities } from '@/core/constants';\nimport type { SendSwapTransactionParams } from '../types';\nimport { sendSingleTransactions } from './sendSingleTransactions';\n\nexport async function sendSwapTransactions({\n  config,\n  isSponsored,\n  paymaster,\n  sendCallsAsync,\n  sendTransactionAsync,\n  updateLifecycleStatus,\n  walletCapabilities,\n  transactions,\n}: SendSwapTransactionParams) {\n  if (walletCapabilities[Capabilities.AtomicBatch]?.supported) {\n    // For batched transactions, we'll use `SwapProvider` to listen for calls to emit the `success` state\n    updateLifecycleStatus({\n      statusName: 'transactionPending',\n    });\n    const data = await sendCallsAsync({\n      calls: transactions.map(({ transaction }) => transaction),\n      capabilities: isSponsored\n        ? {\n            paymasterService: {\n              url: paymaster,\n            },\n          }\n        : {},\n    });\n    updateLifecycleStatus({\n      statusName: 'transactionApproved',\n      statusData: {\n        callsId: normalizeTransactionId(data) as `0x${string}`,\n        transactionType: 'Batched',\n      },\n    });\n  } else {\n    await sendSingleTransactions({\n      config,\n      sendTransactionAsync,\n      transactions,\n      updateLifecycleStatus,\n    });\n  }\n}\n"],"names":["sendSwapTransactions","config","isSponsored","paymaster","sendCallsAsync","sendTransactionAsync","updateLifecycleStatus","walletCapabilities","transactions","Capabilities","AtomicBatch","supported","statusName","data","calls","map","transaction","capabilities","paymasterService","url","statusData","callsId","normalizeTransactionId","transactionType","sendSingleTransactions"],"mappings":";;;AAKA,eAAsBA,qBAAqB;AAAA,EACzCC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACyB,GAAG;;AAC5B,OAAID,wBAAmBE,aAAaC,WAAW,MAA3CH,mBAA8CI,WAAW;AAErC,0BAAA;AAAA,MACpBC,YAAY;AAAA,IAAA,CACb;AACKC,UAAAA,OAAO,MAAMT,eAAe;AAAA,MAChCU,OAAON,aAAaO,IAAI,CAAC;AAAA,QAAEC;AAAAA,YAAkBA,WAAW;AAAA,MACxDC,cAAcf,cACV;AAAA,QACEgB,kBAAkB;AAAA,UAChBC,KAAKhB;AAAAA,QAAAA;AAAAA,MACP,IAEF,CAAA;AAAA,IAAC,CACN;AACqB,0BAAA;AAAA,MACpBS,YAAY;AAAA,MACZQ,YAAY;AAAA,QACVC,SAASC,uBAAuBT,IAAI;AAAA,QACpCU,iBAAiB;AAAA,MAAA;AAAA,IACnB,CACD;AAAA,EAAA,OACI;AACL,UAAMC,uBAAuB;AAAA,MAC3BvB;AAAAA,MACAI;AAAAA,MACAG;AAAAA,MACAF;AAAAA,IAAAA,CACD;AAAA,EAAA;AAEL;"}