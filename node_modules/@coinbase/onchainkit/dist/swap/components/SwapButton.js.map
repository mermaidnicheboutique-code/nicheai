{"version":3,"file":"SwapButton.js","sources":["../../../src/swap/components/SwapButton.tsx"],"sourcesContent":["'use client';\nimport { Spinner } from '@/internal/components/Spinner';\nimport { cn, pressable, text } from '@/styles/theme';\nimport { ConnectWallet } from '@/wallet/components/ConnectWallet';\nimport type { SwapButtonProps } from '../types';\nimport { useSwapContext } from './SwapProvider';\n\nexport function SwapButton({\n  className,\n  label = 'Swap',\n  disabled = false,\n  render,\n}: SwapButtonProps) {\n  const { address, to, from, lifecycleStatus, handleSubmit } = useSwapContext();\n\n  const statusName = lifecycleStatus.statusName;\n\n  const isLoading =\n    to.loading ||\n    from.loading ||\n    statusName === 'transactionPending' ||\n    statusName === 'transactionApproved';\n\n  const isDisabled =\n    !from.amount ||\n    !from.token ||\n    !to.amount ||\n    !to.token ||\n    disabled ||\n    isLoading;\n\n  // disable swap if to and from token are the same\n  const isSwapInvalid = to.token?.address === from.token?.address;\n\n  if (render) {\n    return render({\n      onSubmit: handleSubmit,\n      isLoading,\n      lifecycleStatus,\n      isDisabled,\n      isSwapInvalid,\n    });\n  }\n\n  // prompt user to connect wallet\n  if (!isDisabled && !address) {\n    return <ConnectWallet className={cn('mt-4 w-full', className)} />;\n  }\n\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        'bg-ock-primary',\n        'rounded-ock-default',\n        'w-full rounded-xl',\n        'mt-4 px-4 py-3',\n        isDisabled && pressable.disabled,\n        text.headline,\n        className,\n      )}\n      onClick={() => handleSubmit()}\n      disabled={isDisabled || isSwapInvalid}\n      data-testid=\"ockSwapButton_Button\"\n    >\n      {isLoading ? (\n        <Spinner />\n      ) : (\n        <span className={cn(text.headline, 'text-ock-foreground-inverse')}>\n          {label}\n        </span>\n      )}\n    </button>\n  );\n}\n"],"names":["SwapButton","className","label","disabled","render","address","to","from","lifecycleStatus","handleSubmit","useSwapContext","statusName","isLoading","loading","isDisabled","amount","token","isSwapInvalid","onSubmit","cn","pressable","text","headline"],"mappings":";;;;;AAOO,SAASA,WAAW;AAAA,EACzBC;AAAAA,EACAC,QAAQ;AAAA,EACRC,WAAW;AAAA,EACXC;AACe,GAAG;;AACZ,QAAA;AAAA,IAAEC;AAAAA,IAASC;AAAAA,IAAIC;AAAAA,IAAMC;AAAAA,IAAiBC;AAAAA,MAAiBC,eAAe;AAE5E,QAAMC,aAAaH,gBAAgBG;AAEnC,QAAMC,YACJN,GAAGO,WACHN,KAAKM,WACLF,eAAe,wBACfA,eAAe;AAEjB,QAAMG,aACJ,CAACP,KAAKQ,UACN,CAACR,KAAKS,SACN,CAACV,GAAGS,UACJ,CAACT,GAAGU,SACJb,YACAS;AAGF,QAAMK,kBAAgBX,QAAGU,UAAHV,mBAAUD,eAAYE,UAAKS,UAALT,mBAAYF;AAExD,MAAID,QAAQ;AACV,WAAOA,OAAO;AAAA,MACZc,UAAUT;AAAAA,MACVG;AAAAA,MACAJ;AAAAA,MACAM;AAAAA,MACAG;AAAAA,IAAAA,CACD;AAAA,EAAA;AAIC,MAAA,CAACH,cAAc,CAACT,SAAS;AAC3B,+BAAQ,eAAc,EAAA,WAAWc,GAAkBlB,uBAAAA,SAAS,GAAK;AAAA,EAAA;AAGnE,6BACG,UACC,EAAA,MAAK,UACL,WAAWkB,GAKTL,sBAAAA,2BAAAA,6BAAAA,8BAAAA,cAAcM,UAAUjB,UACxBkB,KAAKC,UACLrB,SACF,GACA,SAAS,MAAMQ,gBACf,UAAUK,cAAcG,eACxB,eAAY,wBAEXL,UAAAA,gCACE,SAAU,CAAA,CAAA,IAEV,oBAAA,QAAA,EAAK,WAAWO,GAAGE,KAAKC,UAAQ,iCAA+B,GAC7DpB,gBACH,CAAA,GAEJ;AAEJ;"}