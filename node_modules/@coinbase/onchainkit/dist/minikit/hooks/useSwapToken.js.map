{"version":3,"file":"useSwapToken.js","sources":["../../../src/minikit/hooks/useSwapToken.ts"],"sourcesContent":["import sdk from '@farcaster/miniapp-sdk';\nimport { useMutation } from '@tanstack/react-query';\n\ntype SwapTokenParams = {\n  /**\n   * Token to sell, formatted as a CAIP-19 asset ID.\n   * @example\n   * ```\n   * // Base USDC\n   * \"eip155:8453/erc20:0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913\"\n   * ```\n   */\n  sellToken?: string;\n  /**\n   * Token to buy, formatted as a CAIP-19 asset ID.\n   * @example\n   * ```\n   * // OP ETH\n   * \"eip155:10/native\"\n   * ```\n   */\n  buyToken?: string;\n  /**\n   * Amount to sell, formatted as a numeric string including decimals.\n   * @example\n   * ```\n   * // 1 USDC (1_000_000)\n   * \"1000000\"\n   * ```\n   */\n  sellAmount?: string;\n};\n\ntype SwapTokenReturnOriginal = ReturnType<\n  typeof useMutation<\n    Awaited<ReturnType<typeof sdk.actions.swapToken>>,\n    Error,\n    SwapTokenParams\n  >\n>;\n\ntype SwapTokenReturn = Omit<\n  SwapTokenReturnOriginal,\n  'mutate' | 'mutateAsync'\n> & {\n  swapToken: SwapTokenReturnOriginal['mutate'];\n  swapTokenAsync: SwapTokenReturnOriginal['mutateAsync'];\n};\n\n/**\n * Opens the swap form with the tokens pre-selected. The user will be able to modify the swap before submitting the transaction.\n */\nexport function useSwapToken(): SwapTokenReturn {\n  const { mutate, mutateAsync, ...rest } = useMutation({\n    mutationFn: async (params: SwapTokenParams) => {\n      return await sdk.actions.swapToken(params);\n    },\n  });\n\n  return {\n    ...rest,\n    swapToken: mutate,\n    swapTokenAsync: mutateAsync,\n  };\n}\n"],"names":["useSwapToken","mutate","mutateAsync","rest","useMutation","mutationFn","params","sdk","actions","swapToken","swapTokenAsync"],"mappings":";;AAoDO,SAASA,eAAgC;AACxC,QAAA;AAAA,IAAEC;AAAAA,IAAQC;AAAAA,IAAa,GAAGC;AAAAA,MAASC,YAAY;AAAA,IACnDC,YAAY,OAAOC,WAA4B;AAC7C,aAAO,MAAMC,IAAIC,QAAQC,UAAUH,MAAM;AAAA,IAAA;AAAA,EAC3C,CACD;AAEM,SAAA;AAAA,IACL,GAAGH;AAAAA,IACHM,WAAWR;AAAAA,IACXS,gBAAgBR;AAAAA,EAClB;AACF;"}