{"version":3,"file":"useComposeCast.js","sources":["../../../src/minikit/hooks/useComposeCast.tsx"],"sourcesContent":["import sdk, { ComposeCast } from '@farcaster/miniapp-sdk';\nimport { useMutation } from '@tanstack/react-query';\n\ntype ComposeCastParams<TClose extends boolean | undefined = undefined> = {\n  /** Text used to prepopulate the cast body. */\n  text?: string;\n  /** Suggested embeds. Max two. */\n  embeds?: [] | [string] | [string, string];\n  /** Parent cast to reply to. */\n  parent?: {\n    type: 'cast';\n    hash: string;\n  };\n  /** Whether the app should be closed after this action is called. */\n  close?: TClose;\n  /** Channel key to post the cast to. */\n  channelKey?: string;\n};\n\n/**\n * Opens the cast composer with the suggested text and embeds.\n */\nexport function useComposeCast() {\n  const { mutate, mutateAsync, ...rest } = useMutation({\n    mutationFn: async (\n      params: ComposeCastParams,\n    ): Promise<ComposeCast.Result> => {\n      return await sdk.actions.composeCast(params);\n    },\n  });\n\n  return {\n    ...rest,\n    composeCast: mutate,\n    composeCastAsync: mutateAsync,\n  };\n}\n"],"names":["useComposeCast","mutate","mutateAsync","rest","useMutation","mutationFn","params","sdk","actions","composeCast","composeCastAsync"],"mappings":";;AAsBO,SAASA,iBAAiB;AACzB,QAAA;AAAA,IAAEC;AAAAA,IAAQC;AAAAA,IAAa,GAAGC;AAAAA,MAASC,YAAY;AAAA,IACnDC,YAAY,OACVC,WACgC;AAChC,aAAO,MAAMC,IAAIC,QAAQC,YAAYH,MAAM;AAAA,IAAA;AAAA,EAC7C,CACD;AAEM,SAAA;AAAA,IACL,GAAGH;AAAAA,IACHM,aAAaR;AAAAA,IACbS,kBAAkBR;AAAAA,EACpB;AACF;"}