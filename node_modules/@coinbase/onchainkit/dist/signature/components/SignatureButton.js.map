{"version":3,"file":"SignatureButton.js","sources":["../../../src/signature/components/SignatureButton.tsx"],"sourcesContent":["import { type ReactNode, useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport { Button } from '@/ui/Button';\nimport { ConnectWallet } from '@/wallet';\nimport {\n  type SignatureContextType,\n  useSignatureContext,\n} from './SignatureProvider';\nimport { WithRenderProps } from '@/internal/types';\n\ntype SignatureButtonProps = WithRenderProps<{\n  /** CSS class to apply to the button */\n  className?: string;\n  /** Whether the button is disabled */\n  disabled?: boolean;\n  /** Text displayed on the button in pending state */\n  label?: ReactNode;\n  /** Text displayed when signature fails */\n  errorLabel?: ReactNode;\n  /** Text displayed after successful signature */\n  successLabel?: ReactNode;\n  /** Text displayed while waiting for signature */\n  pendingLabel?: ReactNode;\n  /** Text displayed when wallet is disconnected */\n  disconnectedLabel?: ReactNode;\n  /** Custom render function for complete control of button rendering */\n  render?: ({\n    label,\n    onClick,\n    context,\n  }: {\n    label: ReactNode;\n    onClick: () => void;\n    context: SignatureContextType;\n  }) => ReactNode;\n}>;\n\nexport function SignatureButton({\n  className,\n  disabled = false,\n  label = 'Sign',\n  errorLabel = 'Try again',\n  successLabel = 'Signed',\n  pendingLabel = 'Signing...',\n  disconnectedLabel,\n  render,\n}: SignatureButtonProps) {\n  const { address } = useAccount();\n\n  const context = useSignatureContext();\n\n  const {\n    handleSign,\n    lifecycleStatus: { statusName },\n  } = context;\n\n  const buttonLabel = useMemo(() => {\n    if (statusName === 'pending') return pendingLabel;\n    if (statusName === 'error') return errorLabel;\n    if (statusName === 'success') return successLabel;\n    return label;\n  }, [statusName, label, errorLabel, successLabel, pendingLabel]);\n\n  if (!address) return <ConnectWallet disconnectedLabel={disconnectedLabel} />;\n\n  if (render) {\n    return render({\n      label: buttonLabel,\n      onClick: handleSign,\n      context,\n    });\n  }\n\n  return (\n    <Button onClick={handleSign} disabled={disabled} className={className}>\n      {buttonLabel}\n    </Button>\n  );\n}\n"],"names":["SignatureButton","className","disabled","label","errorLabel","successLabel","pendingLabel","disconnectedLabel","render","address","useAccount","context","useSignatureContext","handleSign","lifecycleStatus","statusName","buttonLabel","useMemo","onClick"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCO,SAASA,gBAAgB;AAAA,EAC9BC;AAAAA,EACAC,WAAW;AAAA,EACXC,QAAQ;AAAA,EACRC,aAAa;AAAA,EACbC,eAAe;AAAA,EACfC,eAAe;AAAA,EACfC;AAAAA,EACAC;AACoB,GAAG;AACjB,QAAA;AAAA,IAAEC;AAAAA,MAAYC,WAAW;AAE/B,QAAMC,UAAUC,oBAAoB;AAE9B,QAAA;AAAA,IACJC;AAAAA,IACAC,iBAAiB;AAAA,MAAEC;AAAAA,IAAAA;AAAAA,EAAW,IAC5BJ;AAEEK,QAAAA,cAAcC,QAAQ,MAAM;AAC5BF,QAAAA,eAAe,UAAkBT,QAAAA;AACjCS,QAAAA,eAAe,QAAgBX,QAAAA;AAC/BW,QAAAA,eAAe,UAAkBV,QAAAA;AAC9BF,WAAAA;AAAAA,EAAAA,GACN,CAACY,YAAYZ,OAAOC,YAAYC,cAAcC,YAAY,CAAC;AAE9D,MAAI,CAACG,QAAgB,QAAA,oBAAC,iBAAc,kBAAwC,CAAA;AAE5E,MAAID,QAAQ;AACV,WAAOA,OAAO;AAAA,MACZL,OAAOa;AAAAA,MACPE,SAASL;AAAAA,MACTF;AAAAA,IAAAA,CACD;AAAA,EAAA;AAGH,6BACG,QAAO,EAAA,SAASE,YAAY,UAAoB,WAC9CG,UACH,aAAA;AAEJ;"}