{"version":3,"file":"Signature.js","sources":["../../../src/signature/components/Signature.tsx"],"sourcesContent":["import type {\n  SignMessageParameters,\n  SignTypedDataParameters,\n} from 'wagmi/actions';\nimport { useIsMounted } from '@/internal/hooks/useIsMounted';\nimport { cn } from '@/styles/theme';\nimport type { APIError } from '@/api/types';\nimport type { LifecycleStatus } from '../types';\nimport { SignatureButton } from './SignatureButton';\nimport { SignatureProvider } from './SignatureProvider';\nimport { SignatureStatus } from './SignatureStatus';\nimport { SignatureToast } from './SignatureToast';\n\nexport type SignatureProps = {\n  chainId?: number;\n  className?: string;\n  onSuccess?: (signature: string) => void;\n  onStatus?: (status: LifecycleStatus) => void;\n  onError?: (error: APIError) => void;\n  resetAfter?: number;\n} & (\n  | {\n      message: SignTypedDataParameters['message'];\n      domain?: SignTypedDataParameters['domain'];\n      types: SignTypedDataParameters['types'];\n      primaryType: SignTypedDataParameters['primaryType'];\n    }\n  | {\n      message: SignMessageParameters['message'];\n      domain?: never;\n      types?: never;\n      primaryType?: never;\n    }\n) &\n  (\n    | {\n        children: React.ReactNode;\n        label?: never;\n        disabled?: never;\n      }\n    | {\n        children?: never;\n        label?: React.ReactNode;\n        disabled?: boolean;\n      }\n  );\n\nfunction DefaultChildren({\n  label,\n  disabled,\n}: Pick<SignatureProps, 'label' | 'disabled'>) {\n  return (\n    <>\n      <SignatureButton label={label} disabled={disabled} />\n      <SignatureStatus />\n      <SignatureToast />\n    </>\n  );\n}\n\nexport function Signature({\n  className,\n  domain,\n  types,\n  message,\n  primaryType,\n  children,\n  label,\n  disabled,\n  onSuccess,\n  onStatus,\n  onError,\n  resetAfter,\n}: SignatureProps) {\n  const isMounted = useIsMounted();\n\n  if (!isMounted) return null;\n\n  return (\n    <SignatureProvider\n      onSuccess={onSuccess}\n      onStatus={onStatus}\n      onError={onError}\n      domain={domain}\n      types={types}\n      message={message}\n      primaryType={primaryType}\n      resetAfter={resetAfter}\n    >\n      <div className={cn('flex w-full flex-col gap-2', className)}>\n        {children ?? <DefaultChildren label={label} disabled={disabled} />}\n      </div>\n    </SignatureProvider>\n  );\n}\n"],"names":["DefaultChildren","label","disabled","Signature","className","domain","types","message","primaryType","children","onSuccess","onStatus","onError","resetAfter","isMounted","useIsMounted","cn"],"mappings":";;;;;;;AA+CA,SAASA,gBAAgB;AAAA,EACvBC;AAAAA,EACAC;AAC0C,GAAG;AAC7C,SAEI,qBAAA,UAAA,EAAA,UAAA;AAAA,IAAC,oBAAA,iBAAA,EAAgB,OAAc,SAAmB,CAAA;AAAA,wBACjD,iBAAe,EAAA;AAAA,wBACf,gBAAc,CAAA,CAAA;AAAA,EAAA,GACjB;AAEJ;AAEO,SAASC,UAAU;AAAA,EACxBC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAR;AAAAA,EACAC;AAAAA,EACAQ;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACc,GAAG;AACjB,QAAMC,YAAYC,aAAa;AAE3B,MAAA,CAACD,UAAkB,QAAA;AAGrB,SAAA,oBAAC,qBACC,WACA,UACA,SACA,QACA,OACA,SACA,aACA,YAEA,UAAA,oBAAC,SAAI,WAAWE,GAAE,8CAA+BZ,SAAS,GACvDK,UAAAA,gCAAa,iBAAgB,EAAA,OAAc,SAAsB,CAAA,EAAA,CACpE,EACF,CAAA;AAEJ;"}