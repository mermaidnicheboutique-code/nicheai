{"version":3,"file":"useBuildWithdrawFromMorphoTx.js","sources":["../../../src/earn/hooks/useBuildWithdrawFromMorphoTx.ts"],"sourcesContent":["'use client';\nimport { useMorphoVault } from '@/earn/hooks/useMorphoVault';\nimport { buildWithdrawFromMorphoTx } from '@/earn/utils/buildWithdrawFromMorphoTx';\nimport type { Call } from '@/transaction/types';\nimport { type Address, parseUnits } from 'viem';\n\nexport type UseBuildWithdrawFromMorphoTxParams = {\n  vaultAddress: Address;\n  recipientAddress?: Address;\n  amount: string;\n  tokenDecimals: number | undefined;\n};\n\n/**\n * Generates Call[] for a Morpho withdraw transaction\n * to be used with <Transaction />\n */\nexport function useBuildWithdrawFromMorphoTx({\n  vaultAddress,\n  amount,\n  recipientAddress,\n  tokenDecimals,\n}: UseBuildWithdrawFromMorphoTxParams): {\n  calls: Call[];\n} {\n  const { asset, balance, vaultDecimals } = useMorphoVault({\n    vaultAddress,\n    recipientAddress,\n  });\n\n  const amountIsGreaterThanBalance = Number(amount) > Number(balance);\n\n  if (\n    !asset ||\n    balance === undefined ||\n    !vaultDecimals ||\n    !recipientAddress ||\n    amountIsGreaterThanBalance ||\n    tokenDecimals === undefined\n  ) {\n    return {\n      calls: [],\n    };\n  }\n\n  const parsedAmount = parseUnits(amount, tokenDecimals);\n\n  const calls = buildWithdrawFromMorphoTx({\n    recipientAddress,\n    vaultAddress,\n    amount: parsedAmount,\n  });\n\n  return {\n    calls,\n  };\n}\n"],"names":["useBuildWithdrawFromMorphoTx","vaultAddress","amount","recipientAddress","tokenDecimals","asset","balance","vaultDecimals","useMorphoVault","amountIsGreaterThanBalance","Number","undefined","calls","parsedAmount","parseUnits","buildWithdrawFromMorphoTx"],"mappings":";;;AAiBO,SAASA,6BAA6B;AAAA,EAC3CC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACkC,GAElC;AACM,QAAA;AAAA,IAAEC;AAAAA,IAAOC;AAAAA,IAASC;AAAAA,MAAkBC,eAAe;AAAA,IACvDP;AAAAA,IACAE;AAAAA,EAAAA,CACD;AAED,QAAMM,6BAA6BC,OAAOR,MAAM,IAAIQ,OAAOJ,OAAO;AAGhE,MAAA,CAACD,SACDC,YAAYK,UACZ,CAACJ,iBACD,CAACJ,oBACDM,8BACAL,kBAAkBO,QAClB;AACO,WAAA;AAAA,MACLC,OAAO,CAAA;AAAA,IACT;AAAA,EAAA;AAGIC,QAAAA,eAAeC,WAAWZ,QAAQE,aAAa;AAErD,QAAMQ,QAAQG,0BAA0B;AAAA,IACtCZ;AAAAA,IACAF;AAAAA,IACAC,QAAQW;AAAAA,EAAAA,CACT;AAEM,SAAA;AAAA,IACLD;AAAAA,EACF;AACF;"}