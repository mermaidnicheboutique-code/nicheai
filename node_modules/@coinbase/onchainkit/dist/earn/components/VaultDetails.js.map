{"version":3,"file":"VaultDetails.js","sources":["../../../src/earn/components/VaultDetails.tsx"],"sourcesContent":["'use client';\nimport { getTruncatedAmount } from '@/earn/utils/getTruncatedAmount';\nimport { Popover } from '@/internal/components/Popover';\nimport { Skeleton } from '@/internal/components/Skeleton';\nimport { etherscanSvg } from '@/internal/svg/etherscanSvg';\nimport { infoSvg } from '@/internal/svg/infoSvg';\nimport { cn, text } from '@/styles/theme';\nimport { TokenImage } from '@/token';\nimport { useState } from 'react';\nimport { useEarnContext } from './EarnProvider';\nimport { PopoverTrigger } from '@radix-ui/react-popover';\n\nfunction Row({ label, value }: { label: string; value: React.ReactNode }) {\n  return (\n    <div className=\"flex items-center justify-between gap-8\">\n      <div>{label}</div>\n      <div className=\"font-semibold\">{value}</div>\n    </div>\n  );\n}\n\nexport function VaultDetails() {\n  const [isOpen, setIsOpen] = useState(false);\n  const { vaultToken, vaultName, deposits, liquidity, vaultAddress } =\n    useEarnContext();\n\n  if (!vaultToken || !vaultName) {\n    return <Skeleton className=\"!rounded-full h-7 min-w-28\" />;\n  }\n\n  return (\n    <Popover\n      open={isOpen}\n      onOpenChange={setIsOpen}\n      side=\"bottom\"\n      align=\"start\"\n      sideOffset={4}\n      anchor={\n        <div\n          className={cn(\n            text.label1,\n            'text-ock-foreground-muted',\n            'bg-ock-background-alternate',\n            'flex items-center justify-center gap-2 rounded-full p-1 px-3',\n          )}\n          data-testid=\"ock-vaultDetails\"\n        >\n          <TokenImage token={vaultToken} size={16} />\n          <span className=\"max-w-24 truncate\" title={vaultName}>\n            {vaultName}\n          </span>\n          <PopoverTrigger asChild>\n            <button\n              type=\"button\"\n              data-testid=\"ock-vaultDetailsButton\"\n              className={cn(\n                'size-3 [&_path]:fill-ock-foreground-muted [&_path]:transition-colors [&_path]:ease-in-out [&_path]:hover:fill-ock-foreground',\n                isOpen && '[&_path]:fill-ock-foreground',\n              )}\n              onClick={() => setIsOpen(!isOpen)}\n            >\n              {infoSvg}\n            </button>\n          </PopoverTrigger>\n        </div>\n      }\n    >\n      <div\n        className={cn(\n          'bg-ock-background',\n          'text-ock-foreground',\n          'border-ock-background-active',\n          'bg-ock-background',\n          'flex min-w-40 flex-col gap-3 rounded-lg border p-3 text-sm',\n          'fade-in animate-in duration-200',\n        )}\n      >\n        <div className=\"font-semibold\">{vaultName}</div>\n        <div className=\"flex flex-col gap-2\">\n          <Row\n            label=\"Token\"\n            value={\n              <div className=\"flex items-center gap-1\">\n                <TokenImage token={vaultToken} size={16} />\n                <span className=\"max-w-24 truncate\">{vaultToken.symbol}</span>\n              </div>\n            }\n          />\n          {deposits ? (\n            <Row\n              label=\"Total deposits\"\n              value={`${getTruncatedAmount(deposits, 1, 'compact')} ${\n                vaultToken.symbol\n              }`}\n            />\n          ) : null}\n          {liquidity ? (\n            <Row\n              label=\"Liquidity\"\n              value={`${getTruncatedAmount(liquidity, 1, 'compact')} ${\n                vaultToken.symbol\n              }`}\n            />\n          ) : null}\n        </div>\n        <a\n          href={`https://basescan.org/address/${vaultAddress}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className={cn(\n            'text-ock-primary',\n            'flex max-w-fit items-center gap-1 hover:opacity-80',\n          )}\n          data-testid=\"ock-vaultDetailsBaseScanLink\"\n        >\n          <div>View on BaseScan</div>\n          <div className=\"h-3 w-3\">{etherscanSvg}</div>\n        </a>\n      </div>\n    </Popover>\n  );\n}\n"],"names":["Row","label","value","VaultDetails","isOpen","setIsOpen","useState","vaultToken","vaultName","deposits","liquidity","vaultAddress","useEarnContext","cn","text","label1","infoSvg","symbol","getTruncatedAmount","etherscanSvg"],"mappings":";;;;;;;;;;;;;;;;;AAYA,SAASA,IAAI;AAAA,EAAEC;AAAAA,EAAOC;AAAiD,GAAG;AAEtE,SAAA,qBAAC,OAAI,EAAA,WAAU,2DACb,UAAA;AAAA,IAAA,oBAAC,SAAKD,UAAM,MAAA,CAAA;AAAA,IACX,oBAAA,OAAA,EAAI,WAAU,qBAAiBC,UAAM,MAAA,CAAA;AAAA,EAAA,GACxC;AAEJ;AAEO,SAASC,eAAe;AAC7B,QAAM,CAACC,QAAQC,SAAS,IAAIC,SAAS,KAAK;AACpC,QAAA;AAAA,IAAEC;AAAAA,IAAYC;AAAAA,IAAWC;AAAAA,IAAUC;AAAAA,IAAWC;AAAAA,MAClDC,eAAe;AAEb,MAAA,CAACL,cAAc,CAACC,WAAW;AACtB,WAAA,oBAAC,UAAS,EAAA,WAAU,yCAA+B,CAAA;AAAA,EAAA;AAI1D,SAAA,oBAAC,SACC,EAAA,MAAMJ,QACN,cAAcC,WACd,MAAK,UACL,OAAM,SACN,YAAY,GACZ,QACG,qBAAA,OAAA,EACC,WAAWQ,GACTC,KAAKC,QAAM,iCAAA,mCAAA,0FAIb,GACA,eAAY,oBAEZ,UAAA;AAAA,IAAA,oBAAC,YAAW,EAAA,OAAOR,YAAY,MAAM,IAAG;AAAA,wBACvC,QAAK,EAAA,WAAU,6BAAoB,OAAOC,WACxCA,UACH,WAAA;AAAA,IACA,oBAAC,kBAAe,SAAO,MACrB,8BAAC,UACC,EAAA,MAAK,UACL,eAAY,0BACZ,WAAWK,GAETT,oJAAAA,UACF,kCAAA,GACA,SAAS,MAAMC,UAAU,CAACD,MAAM,GAE/BY,UAAAA,QACH,CAAA,EACF,CAAA;AAAA,EAAA,EACF,CAAA,GAGF,UAAC,qBAAA,OAAA,EACC,WAAWH,GAOX,yBAAA,2BAAA,oCAAA,yBAAA,8FAAA,6CAAA,GAEA,UAAA;AAAA,IAAC,oBAAA,OAAA,EAAI,WAAU,qBAAiBL,UAAU,WAAA;AAAA,IAC1C,qBAAC,OAAI,EAAA,WAAU,mCACb,UAAA;AAAA,MAAA,oBAAC,OACC,OAAM,SACN,OACG,qBAAA,OAAA,EAAI,WAAU,uCACb,UAAA;AAAA,QAAA,oBAAC,YAAW,EAAA,OAAOD,YAAY,MAAM,IAAG;AAAA,QACvC,oBAAA,QAAA,EAAK,WAAU,6BAAqBA,qBAAWU,OAAO,CAAA;AAAA,MAAA,EAAA,CACzD,EACD,CAAA;AAAA,MAEFR,WACE,oBAAA,KAAA,EACC,OAAM,kBACN,OAAO,GAAGS,mBAAmBT,UAAU,GAAG,SAAS,CAAC,IAClDF,WAAWU,MAAM,GAChB,CAAA,IAEH;AAAA,MACHP,YACE,oBAAA,KAAA,EACC,OAAM,aACN,OAAO,GAAGQ,mBAAmBR,WAAW,GAAG,SAAS,CAAC,IACnDH,WAAWU,MAAM,IAChB,IAEH;AAAA,IAAA,GACN;AAAA,yBACC,KACC,EAAA,MAAM,gCAAgCN,YAAY,IAClD,QAAO,UACP,KAAI,uBACJ,WAAWE,GAAE,wBAAA,wEAGb,GACA,eAAY,gCAEZ,UAAA;AAAA,MAAA,oBAAC,SAAI,UAAgB,mBAAA,CAAA;AAAA,MACpB,oBAAA,OAAA,EAAI,WAAU,mBAAWM,UAAa,aAAA,CAAA;AAAA,IAAA,EACzC,CAAA;AAAA,EAAA,EAAA,CACF,EACF,CAAA;AAEJ;"}