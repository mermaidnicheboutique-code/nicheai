{"version":3,"file":"WithdrawBalance.js","sources":["../../../src/earn/components/WithdrawBalance.tsx"],"sourcesContent":["'use client';\nimport { getTruncatedAmount } from '@/earn/utils/getTruncatedAmount';\nimport { Skeleton } from '@/internal/components/Skeleton';\nimport { useCallback, useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport type { WithdrawBalanceProps } from '../types';\nimport { EarnBalance } from './EarnBalance';\nimport { useEarnContext } from './EarnProvider';\n\nexport function WithdrawBalance({ className }: WithdrawBalanceProps) {\n  const {\n    depositedBalance,\n    depositedBalanceStatus: status,\n    setWithdrawAmount,\n    vaultToken,\n  } = useEarnContext();\n  const { address } = useAccount();\n\n  const handleMaxPress = useCallback(() => {\n    if (depositedBalance) {\n      setWithdrawAmount(depositedBalance);\n    }\n  }, [depositedBalance, setWithdrawAmount]);\n\n  const balance = useMemo(() => {\n    if (!depositedBalance) {\n      return '0';\n    }\n    return getTruncatedAmount(depositedBalance.toString(), 4);\n  }, [depositedBalance]);\n\n  const title = useMemo(() => {\n    if (!address) {\n      return 'Wallet not connected';\n    }\n    if (!vaultToken) {\n      return <Skeleton className=\"h-6 w-24\" />;\n    }\n    if (status === 'pending') {\n      return (\n        <div className=\"flex gap-1\">\n          <Skeleton className=\"bg-ock-background-alternate-active h-6 w-12\" />\n          <span>{vaultToken?.symbol}</span>\n        </div>\n      );\n    }\n    return `${balance} ${vaultToken?.symbol}`;\n  }, [balance, vaultToken, address, status]);\n\n  const subtitle = useMemo(() => {\n    if (!address) {\n      return 'Connect wallet to withdraw';\n    }\n    return 'Available to withdraw';\n  }, [address]);\n\n  return (\n    <EarnBalance\n      className={className}\n      title={title}\n      subtitle={subtitle}\n      onActionPress={handleMaxPress}\n      showAction={balance !== '0'}\n    />\n  );\n}\n"],"names":["WithdrawBalance","className","depositedBalance","depositedBalanceStatus","status","setWithdrawAmount","vaultToken","useEarnContext","address","useAccount","handleMaxPress","useCallback","balance","useMemo","getTruncatedAmount","toString","title","symbol","subtitle"],"mappings":";;;;;;;AASO,SAASA,gBAAgB;AAAA,EAAEC;AAAgC,GAAG;AAC7D,QAAA;AAAA,IACJC;AAAAA,IACAC,wBAAwBC;AAAAA,IACxBC;AAAAA,IACAC;AAAAA,MACEC,eAAe;AACb,QAAA;AAAA,IAAEC;AAAAA,MAAYC,WAAW;AAEzBC,QAAAA,iBAAiBC,YAAY,MAAM;AACvC,QAAIT,kBAAkB;AACpBG,wBAAkBH,gBAAgB;AAAA,IAAA;AAAA,EACpC,GACC,CAACA,kBAAkBG,iBAAiB,CAAC;AAElCO,QAAAA,UAAUC,QAAQ,MAAM;AAC5B,QAAI,CAACX,kBAAkB;AACd,aAAA;AAAA,IAAA;AAET,WAAOY,mBAAmBZ,iBAAiBa,SAAS,GAAG,CAAC;AAAA,EAAA,GACvD,CAACb,gBAAgB,CAAC;AAEfc,QAAAA,QAAQH,QAAQ,MAAM;AAC1B,QAAI,CAACL,SAAS;AACL,aAAA;AAAA,IAAA;AAET,QAAI,CAACF,YAAY;AACR,aAAA,oBAAC,UAAS,EAAA,WAAU,mBAAa,CAAA;AAAA,IAAA;AAE1C,QAAIF,WAAW,WAAW;AAEtB,aAAA,qBAAC,OAAI,EAAA,WAAU,sBACb,UAAA;AAAA,QAAC,oBAAA,UAAA,EAAS,WAAU,0DAA6C,CAAA;AAAA,QACjE,oBAAC,QAAME,EAAAA,UAAAA,yCAAYW,OAAO,CAAA;AAAA,MAAA,GAC5B;AAAA,IAAA;AAGJ,WAAO,GAAGL,OAAO,IAAIN,yCAAYW,MAAM;AAAA,KACtC,CAACL,SAASN,YAAYE,SAASJ,MAAM,CAAC;AAEnCc,QAAAA,WAAWL,QAAQ,MAAM;AAC7B,QAAI,CAACL,SAAS;AACL,aAAA;AAAA,IAAA;AAEF,WAAA;AAAA,EAAA,GACN,CAACA,OAAO,CAAC;AAGV,SAAA,oBAAC,eACC,WACA,OACA,UACA,eAAeE,gBACf,YAAYE,YAAY,IACxB,CAAA;AAEN;"}