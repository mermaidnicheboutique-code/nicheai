{"version":3,"file":"DepositBalance.js","sources":["../../../src/earn/components/DepositBalance.tsx"],"sourcesContent":["'use client';\nimport { getTruncatedAmount } from '@/earn/utils/getTruncatedAmount';\nimport { Skeleton } from '@/internal/components/Skeleton';\nimport { useCallback, useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport type { DepositBalanceProps } from '../types';\nimport { EarnBalance } from './EarnBalance';\nimport { useEarnContext } from './EarnProvider';\n\nexport function DepositBalance({ className }: DepositBalanceProps) {\n  const { address } = useAccount();\n  const {\n    setDepositAmount,\n    vaultToken,\n    walletBalance,\n    walletBalanceStatus: status,\n  } = useEarnContext();\n\n  const handleMaxPress = useCallback(() => {\n    if (walletBalance) {\n      setDepositAmount(walletBalance);\n    }\n  }, [walletBalance, setDepositAmount]);\n\n  const balance = useMemo(() => {\n    if (!walletBalance) {\n      return '0';\n    }\n    return getTruncatedAmount(walletBalance.toString(), 6);\n  }, [walletBalance]);\n\n  const title = useMemo(() => {\n    if (!address) {\n      return 'Wallet not connected';\n    }\n    // Fetching vault token, but user is connected\n    if (!vaultToken) {\n      return (\n        <Skeleton className=\"bg-ock-background-alternate-active h-6 w-24\" />\n      );\n    }\n\n    if (status === 'pending') {\n      return (\n        <div className=\"flex gap-1\">\n          <Skeleton className=\"bg-ock-background-alternate-active h-6 w-12\" />\n          <span>{vaultToken?.symbol}</span>\n        </div>\n      );\n    }\n    return `${balance} ${vaultToken?.symbol}`;\n  }, [balance, vaultToken, address, status]);\n\n  const subtitle = useMemo(() => {\n    if (!address) {\n      return 'Connect wallet to deposit';\n    }\n    return 'Available to deposit';\n  }, [address]);\n\n  return (\n    <EarnBalance\n      className={className}\n      title={title}\n      subtitle={subtitle}\n      onActionPress={handleMaxPress}\n      showAction={!!walletBalance}\n    />\n  );\n}\n"],"names":["DepositBalance","className","address","useAccount","setDepositAmount","vaultToken","walletBalance","walletBalanceStatus","status","useEarnContext","handleMaxPress","useCallback","balance","useMemo","getTruncatedAmount","toString","title","symbol","subtitle"],"mappings":";;;;;;;AASO,SAASA,eAAe;AAAA,EAAEC;AAA+B,GAAG;AAC3D,QAAA;AAAA,IAAEC;AAAAA,MAAYC,WAAW;AACzB,QAAA;AAAA,IACJC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC,qBAAqBC;AAAAA,MACnBC,eAAe;AAEbC,QAAAA,iBAAiBC,YAAY,MAAM;AACvC,QAAIL,eAAe;AACjBF,uBAAiBE,aAAa;AAAA,IAAA;AAAA,EAChC,GACC,CAACA,eAAeF,gBAAgB,CAAC;AAE9BQ,QAAAA,UAAUC,QAAQ,MAAM;AAC5B,QAAI,CAACP,eAAe;AACX,aAAA;AAAA,IAAA;AAET,WAAOQ,mBAAmBR,cAAcS,SAAS,GAAG,CAAC;AAAA,EAAA,GACpD,CAACT,aAAa,CAAC;AAEZU,QAAAA,QAAQH,QAAQ,MAAM;AAC1B,QAAI,CAACX,SAAS;AACL,aAAA;AAAA,IAAA;AAGT,QAAI,CAACG,YAAY;AAEb,aAAA,oBAAC,UAAS,EAAA,WAAU,0DAAgD,CAAA;AAAA,IAAA;AAIxE,QAAIG,WAAW,WAAW;AAEtB,aAAA,qBAAC,OAAI,EAAA,WAAU,sBACb,UAAA;AAAA,QAAC,oBAAA,UAAA,EAAS,WAAU,0DAA6C,CAAA;AAAA,QACjE,oBAAC,QAAMH,EAAAA,UAAAA,yCAAYY,OAAO,CAAA;AAAA,MAAA,GAC5B;AAAA,IAAA;AAGJ,WAAO,GAAGL,OAAO,IAAIP,yCAAYY,MAAM;AAAA,KACtC,CAACL,SAASP,YAAYH,SAASM,MAAM,CAAC;AAEnCU,QAAAA,WAAWL,QAAQ,MAAM;AAC7B,QAAI,CAACX,SAAS;AACL,aAAA;AAAA,IAAA;AAEF,WAAA;AAAA,EAAA,GACN,CAACA,OAAO,CAAC;AAGV,SAAA,oBAAC,aACC,EAAA,WACA,OACA,UACA,eAAeQ,gBACf,YAAY,CAAC,CAACJ,cACd,CAAA;AAEN;"}