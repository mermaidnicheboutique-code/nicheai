{"version":3,"file":"NFTCard.js","sources":["../../../src/nft/components/NFTCard.tsx"],"sourcesContent":["'use client';\nimport { useIsMounted } from '@/internal/hooks/useIsMounted';\nimport { NFTLifecycleProvider } from '@/nft/components/NFTLifecycleProvider';\nimport { NFTProvider } from '@/nft/components/NFTProvider';\nimport { useNFTData as defaultUseNFTData } from '@/nft/hooks/useNFTData';\nimport { Lifecycle, type NFTCardProps } from '@/nft/types';\nimport { useCallback } from 'react';\nimport { useAccount } from 'wagmi';\nimport { cn, pressable } from '../../styles/theme';\nimport NFTErrorBoundary from './NFTErrorBoundary';\nimport { NFTErrorFallback } from './NFTErrorFallback';\nimport {\n  NFTLastSoldPrice,\n  NFTMedia,\n  NFTNetwork,\n  NFTOwner,\n  NFTTitle,\n} from './view';\n\nfunction NFTCardDefaultContent() {\n  return (\n    <>\n      <NFTMedia />\n      <NFTTitle />\n      <NFTOwner />\n      <NFTLastSoldPrice />\n      <NFTNetwork />\n    </>\n  );\n}\n\nexport function NFTCard({\n  children = <NFTCardDefaultContent />,\n  className,\n  contractAddress,\n  tokenId,\n  useNFTData = defaultUseNFTData,\n  onStatus,\n  onError,\n  onSuccess,\n}: NFTCardProps) {\n  const isMounted = useIsMounted();\n\n  const { chain } = useAccount();\n\n  const handleOnClick = useCallback(() => {\n    const network = chain?.name.toLowerCase() ?? 'base';\n    const zoraUrl = `https://zora.co/collect/${network}:${contractAddress}/${tokenId}`;\n    window.open(zoraUrl, '_blank', 'noopener,noreferrer');\n  }, [chain, contractAddress, tokenId]);\n\n  // prevents SSR hydration issue\n  if (!isMounted) {\n    return null;\n  }\n\n  return (\n    <NFTErrorBoundary fallback={NFTErrorFallback}>\n      <NFTLifecycleProvider\n        type={Lifecycle.VIEW}\n        onStatus={onStatus}\n        onError={onError}\n        onSuccess={onSuccess}\n      >\n        <NFTProvider\n          contractAddress={contractAddress}\n          tokenId={tokenId}\n          useNFTData={useNFTData}\n        >\n          <button\n            type=\"button\"\n            className={cn(\n              'text-ock-foreground',\n              pressable.default,\n              'rounded-ock-default',\n              'flex w-full max-w-[500px] flex-col items-stretch gap-1.5 border p-4 text-left',\n              'hover:border-(--color-ock-background-active)',\n              className,\n            )}\n            data-testid=\"ockNFTCard_Container\"\n            onClick={handleOnClick}\n          >\n            {children}\n          </button>\n        </NFTProvider>\n      </NFTLifecycleProvider>\n    </NFTErrorBoundary>\n  );\n}\n"],"names":["NFTCardDefaultContent","NFTCard","children","className","contractAddress","tokenId","useNFTData","defaultUseNFTData","onStatus","onError","onSuccess","isMounted","useIsMounted","chain","useAccount","handleOnClick","useCallback","network","name","toLowerCase","zoraUrl","open","NFTErrorFallback","Lifecycle","VIEW","cn","pressable","default"],"mappings":";;;;;;;;;;;;;;;;AAmBA,SAASA,wBAAwB;AAC/B,SAEI,qBAAA,UAAA,EAAA,UAAA;AAAA,IAAA,oBAAC,UAAQ,EAAA;AAAA,wBACR,UAAQ,EAAA;AAAA,wBACR,UAAQ,EAAA;AAAA,wBACR,kBAAgB,EAAA;AAAA,wBAChB,YAAU,CAAA,CAAA;AAAA,EAAA,GACb;AAEJ;AAEO,SAASC,QAAQ;AAAA,EACtBC,+BAAY,uBAAwB,EAAA;AAAA,EACpCC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC,YAAAA,eAAaC;AAAAA,EACbC;AAAAA,EACAC;AAAAA,EACAC;AACY,GAAG;AACf,QAAMC,YAAYC,aAAa;AAEzB,QAAA;AAAA,IAAEC;AAAAA,MAAUC,WAAW;AAEvBC,QAAAA,gBAAgBC,YAAY,MAAM;AACtC,UAAMC,WAAUJ,+BAAOK,KAAKC,kBAAiB;AAC7C,UAAMC,UAAU,2BAA2BH,OAAO,IAAIb,eAAe,IAAIC,OAAO;AACzEgB,WAAAA,KAAKD,SAAS,UAAU,qBAAqB;AAAA,EACnD,GAAA,CAACP,OAAOT,iBAAiBC,OAAO,CAAC;AAGpC,MAAI,CAACM,WAAW;AACP,WAAA;AAAA,EAAA;AAGT,6BACG,kBAAiB,EAAA,UAAUW,kBAC1B,UAAA,oBAAC,wBACC,MAAMC,UAAUC,MAChB,UACA,SACA,WAEA,UAAA,oBAAC,eACC,iBACA,SACAlB,YAAAA,cAEA,UAAC,oBAAA,UAAA,EACC,MAAK,UACL,WAAWmB,GAAE,2BAEXC,UAAUC,SAAO,2BAAA,qHAAA,oDAIjBxB,SACF,GACA,eAAY,wBACZ,SAASY,eAERb,UACH,EAAA,CACF,EACF,CAAA,GACF;AAEJ;"}