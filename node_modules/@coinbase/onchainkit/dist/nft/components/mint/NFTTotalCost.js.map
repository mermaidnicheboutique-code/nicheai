{"version":3,"file":"NFTTotalCost.js","sources":["../../../../src/nft/components/mint/NFTTotalCost.tsx"],"sourcesContent":["import { infoSvg } from '@/internal/svg/infoSvg';\nimport { multiplyFloats } from '@/internal/utils/multiplyFloats';\nimport { useNFTContext } from '@/nft/components/NFTProvider';\nimport { cn, text } from '@/styles/theme';\nimport { formatAmount } from '@/token/utils/formatAmount';\nimport { type ReactNode, useCallback, useMemo, useState } from 'react';\n\ntype NFTTotalCostProps = {\n  className?: string;\n  label?: ReactNode;\n};\n\nexport function NFTTotalCost({\n  className,\n  label = 'Total cost',\n}: NFTTotalCostProps) {\n  const [isOverlayVisible, setIsOverlayVisible] = useState(false);\n  const { price, mintFee, quantity } = useNFTContext();\n\n  const toggleOverlay = useCallback(() => {\n    setIsOverlayVisible((prev) => !prev);\n  }, []);\n\n  const showOverlay = useCallback(() => {\n    setIsOverlayVisible(true);\n  }, []);\n\n  const hideOverlay = useCallback(() => {\n    setIsOverlayVisible(false);\n  }, []);\n\n  const overlay = useMemo(() => {\n    // only show overlay if mintFee\n    if (\n      price?.amount === undefined ||\n      price?.amountUSD === undefined ||\n      mintFee?.amount === undefined ||\n      mintFee.amountUSD === undefined\n    ) {\n      return null;\n    }\n\n    return (\n      <div\n        className={cn(\n          'bg-ock-background',\n          'rounded-ock-default',\n          'border-ock-background-active',\n          'absolute z-10 w-full border',\n        )}\n      >\n        <div\n          className={cn(\n            text.label2,\n            'flex items-center justify-between px-4 py-2',\n          )}\n        >\n          <div>NFT cost</div>\n          <div>\n            $\n            {formatAmount(\n              `${multiplyFloats(Number(price.amountUSD), quantity)}`,\n              {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n              },\n            )}\n          </div>\n        </div>\n        <div\n          className={cn(\n            'flex items-center justify-between px-4 py-2',\n            text.label2,\n          )}\n        >\n          <div>Mint fee</div>\n          <div>\n            $\n            {formatAmount(\n              `${multiplyFloats(Number(mintFee.amountUSD), quantity)}`,\n              {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n              },\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }, [mintFee, price, quantity]);\n\n  if (\n    !price?.amount ||\n    !price?.currency ||\n    !price?.amountUSD ||\n    !mintFee?.amount ||\n    !mintFee.amountUSD\n  ) {\n    return null;\n  }\n\n  return (\n    <div className=\"relative\">\n      <div\n        className={cn(\n          text.label2,\n          'flex items-center justify-between',\n          className,\n        )}\n      >\n        <div>{label}</div>\n        <div className=\"flex items-center gap-2\">\n          <div>\n            $\n            {formatAmount(\n              `${multiplyFloats(Number(price.amountUSD), quantity)}`,\n              {\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n              },\n            )}\n          </div>\n          {overlay && (\n            <button\n              type=\"button\"\n              data-testid=\"ockNFTTotalCostInfo\"\n              className=\"h-2.5 w-2.5 cursor-pointer object-cover\"\n              onClick={toggleOverlay}\n              onMouseEnter={showOverlay}\n              onMouseLeave={hideOverlay}\n            >\n              {infoSvg}\n            </button>\n          )}\n        </div>\n      </div>\n      {isOverlayVisible && overlay}\n    </div>\n  );\n}\n"],"names":["NFTTotalCost","className","label","isOverlayVisible","setIsOverlayVisible","useState","price","mintFee","quantity","useNFTContext","toggleOverlay","useCallback","prev","showOverlay","hideOverlay","overlay","useMemo","amount","undefined","amountUSD","cn","text","label2","formatAmount","multiplyFloats","Number","minimumFractionDigits","maximumFractionDigits","currency","infoSvg"],"mappings":";;;;;;;AAYO,SAASA,aAAa;AAAA,EAC3BC;AAAAA,EACAC,QAAQ;AACS,GAAG;AACpB,QAAM,CAACC,kBAAkBC,mBAAmB,IAAIC,SAAS,KAAK;AACxD,QAAA;AAAA,IAAEC;AAAAA,IAAOC;AAAAA,IAASC;AAAAA,MAAaC,cAAc;AAE7CC,QAAAA,gBAAgBC,YAAY,MAAM;AACjBC,wBAAAA,CAAAA,SAAS,CAACA,IAAI;AAAA,EACrC,GAAG,EAAE;AAECC,QAAAA,cAAcF,YAAY,MAAM;AACpCP,wBAAoB,IAAI;AAAA,EAC1B,GAAG,EAAE;AAECU,QAAAA,cAAcH,YAAY,MAAM;AACpCP,wBAAoB,KAAK;AAAA,EAC3B,GAAG,EAAE;AAECW,QAAAA,UAAUC,QAAQ,MAAM;AAG1BV,SAAAA,+BAAOW,YAAWC,WAClBZ,+BAAOa,eAAcD,WACrBX,mCAASU,YAAWC,UACpBX,QAAQY,cAAcD,QACtB;AACO,aAAA;AAAA,IAAA;AAIP,WAAA,qBAAC,SACC,WAAWE,GAKX,yBAAA,2BAAA,oCAAA,6CAAA,GAEA,UAAA;AAAA,MAAA,qBAAC,SACC,WAAWA,GACTC,KAAKC,QAAM,iEAEb,GAEA,UAAA;AAAA,QAAA,oBAAC,SAAI,UAAQ,WAAA,CAAA;AAAA,6BACZ,OAAG,EAAA,UAAA;AAAA,UAAA;AAAA,UAEDC,aACC,GAAGC,eAAeC,OAAOnB,MAAMa,SAAS,GAAGX,QAAQ,CAAC,IACpD;AAAA,YACEkB,uBAAuB;AAAA,YACvBC,uBAAuB;AAAA,UAE3B,CAAA;AAAA,QAAA,EACF,CAAA;AAAA,MAAA,GACF;AAAA,2BACC,OACC,EAAA,WAAWP,GAAE,mEAEXC,KAAKC,MACP,GAEA,UAAA;AAAA,QAAA,oBAAC,SAAI,UAAQ,WAAA,CAAA;AAAA,6BACZ,OAAG,EAAA,UAAA;AAAA,UAAA;AAAA,UAEDC,aACC,GAAGC,eAAeC,OAAOlB,QAAQY,SAAS,GAAGX,QAAQ,CAAC,IACtD;AAAA,YACEkB,uBAAuB;AAAA,YACvBC,uBAAuB;AAAA,UAE3B,CAAA;AAAA,QAAA,EACF,CAAA;AAAA,MAAA,EACF,CAAA;AAAA,IAAA,GACF;AAAA,EAED,GAAA,CAACpB,SAASD,OAAOE,QAAQ,CAAC;AAE7B,MACE,EAACF,+BAAOW,WACR,EAACX,+BAAOsB,aACR,EAACtB,+BAAOa,cACR,EAACZ,mCAASU,WACV,CAACV,QAAQY,WACT;AACO,WAAA;AAAA,EAAA;AAIP,SAAA,qBAAC,OAAI,EAAA,WAAU,gBACb,UAAA;AAAA,IAAA,qBAAC,SACC,WAAWC,GACTC,KAAKC,QAELrB,iDAAAA,SACF,GAEA,UAAA;AAAA,MAAA,oBAAC,SAAKC,UAAM,MAAA,CAAA;AAAA,MACZ,qBAAC,OAAI,EAAA,WAAU,uCACb,UAAA;AAAA,QAAA,qBAAC,OAAG,EAAA,UAAA;AAAA,UAAA;AAAA,UAEDqB,aACC,GAAGC,eAAeC,OAAOnB,MAAMa,SAAS,GAAGX,QAAQ,CAAC,IACpD;AAAA,YACEkB,uBAAuB;AAAA,YACvBC,uBAAuB;AAAA,UAE3B,CAAA;AAAA,QAAA,GACF;AAAA,QACCZ,WACC,oBAAC,UACC,EAAA,MAAK,UACL,eAAY,uBACZ,WAAU,2DACV,SAASL,eACT,cAAcG,aACd,cAAcC,aAEbe,UACH,QAAA,CAAA;AAAA,MAAA,EAEJ,CAAA;AAAA,IAAA,GACF;AAAA,IACC1B,oBAAoBY;AAAAA,EAAAA,GACvB;AAEJ;"}