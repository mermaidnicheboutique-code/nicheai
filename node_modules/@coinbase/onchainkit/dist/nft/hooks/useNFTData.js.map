{"version":3,"file":"useNFTData.js","sources":["../../../src/nft/hooks/useNFTData.ts"],"sourcesContent":["import type { ContractType, NFTError } from '@/api/types';\nimport { RequestContext } from '@/core/network/constants';\nimport { convertIpfsToHttps } from '@/nft/utils/ipfs';\nimport { useEffect, useState } from 'react';\nimport { useNFTLifecycleContext } from '../components/NFTLifecycleProvider';\nimport type { NFTData } from '../types';\nimport { useTokenDetails } from './useTokenDetails';\n\nexport function useNFTData(\n  contractAddress: `0x${string}`,\n  tokenId?: string,\n): NFTData | NFTError {\n  const { updateLifecycleStatus } = useNFTLifecycleContext();\n  const [error, setError] = useState<NFTError | null>(null);\n\n  useEffect(() => {\n    if (error) {\n      updateLifecycleStatus({\n        statusName: 'error',\n        statusData: error,\n      });\n    }\n  }, [error, updateLifecycleStatus]);\n\n  const { error: tokenError, data: tokenDetails } = useTokenDetails(\n    {\n      contractAddress,\n      tokenId: tokenId,\n    },\n    RequestContext.NFT,\n  );\n\n  if (tokenError && !error) {\n    setError({\n      code: 'NmND01',\n      message: tokenError.message,\n      error: 'Error fetching NFT data',\n    });\n    return tokenError;\n  }\n\n  return {\n    name: tokenDetails?.name,\n    description: tokenDetails?.description,\n    imageUrl: convertIpfsToHttps(tokenDetails?.imageUrl),\n    animationUrl: convertIpfsToHttps(tokenDetails?.animationUrl),\n    mimeType: tokenDetails?.mimeType,\n    ownerAddress: tokenDetails?.ownerAddress as `0x${string}`,\n    lastSoldPrice: tokenDetails?.lastSoldPrice,\n    contractType: tokenDetails?.contractType as ContractType,\n  };\n}\n"],"names":["useNFTData","contractAddress","tokenId","updateLifecycleStatus","useNFTLifecycleContext","error","setError","useState","useEffect","statusName","statusData","tokenError","data","tokenDetails","useTokenDetails","RequestContext","NFT","code","message","name","description","imageUrl","convertIpfsToHttps","animationUrl","mimeType","ownerAddress","lastSoldPrice","contractType"],"mappings":";;;;;AAQgBA,SAAAA,WACdC,iBACAC,SACoB;AACd,QAAA;AAAA,IAAEC;AAAAA,MAA0BC,uBAAuB;AACzD,QAAM,CAACC,OAAOC,QAAQ,IAAIC,SAA0B,IAAI;AAExDC,YAAU,MAAM;AACd,QAAIH,OAAO;AACa,4BAAA;AAAA,QACpBI,YAAY;AAAA,QACZC,YAAYL;AAAAA,MAAAA,CACb;AAAA,IAAA;AAAA,EACH,GACC,CAACA,OAAOF,qBAAqB,CAAC;AAE3B,QAAA;AAAA,IAAEE,OAAOM;AAAAA,IAAYC,MAAMC;AAAAA,MAAiBC,gBAChD;AAAA,IACEb;AAAAA,IACAC;AAAAA,EAAAA,GAEFa,eAAeC,GACjB;AAEIL,MAAAA,cAAc,CAACN,OAAO;AACf,aAAA;AAAA,MACPY,MAAM;AAAA,MACNC,SAASP,WAAWO;AAAAA,MACpBb,OAAO;AAAA,IAAA,CACR;AACMM,WAAAA;AAAAA,EAAAA;AAGF,SAAA;AAAA,IACLQ,MAAMN,6CAAcM;AAAAA,IACpBC,aAAaP,6CAAcO;AAAAA,IAC3BC,UAAUC,mBAAmBT,6CAAcQ,QAAQ;AAAA,IACnDE,cAAcD,mBAAmBT,6CAAcU,YAAY;AAAA,IAC3DC,UAAUX,6CAAcW;AAAAA,IACxBC,cAAcZ,6CAAcY;AAAAA,IAC5BC,eAAeb,6CAAca;AAAAA,IAC7BC,cAAcd,6CAAcc;AAAAA,EAC9B;AACF;"}