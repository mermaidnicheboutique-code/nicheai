{"version":3,"file":"WalletAdvancedQrReceive.js","sources":["../../../src/wallet/components/WalletAdvancedQrReceive.tsx"],"sourcesContent":["'use client';\n\nimport { CopyButton } from '@/internal/components/CopyButton';\nimport { PressableIcon } from '@/internal/components/PressableIcon';\nimport { QrCodeSvg } from '@/internal/components/QrCode/QrCodeSvg';\nimport { backArrowSvg } from '@/internal/svg/backArrowSvg';\nimport { copySvg } from '@/internal/svg/copySvg';\nimport { zIndex } from '@/styles/constants';\nimport { cn, pressable, text } from '@/styles/theme';\nimport { useCallback, useState } from 'react';\nimport { useWalletContext } from './WalletProvider';\nimport { useAccount } from 'wagmi';\n\nexport type WalletAdvancedQrReceiveProps = {\n  classNames?: {\n    container?: string;\n    header?: string;\n    copyButton?: string;\n  };\n};\n\nexport function WalletAdvancedQrReceive({\n  classNames,\n}: WalletAdvancedQrReceiveProps) {\n  const {\n    setActiveFeature,\n    isActiveFeatureClosing,\n    setIsActiveFeatureClosing,\n  } = useWalletContext();\n  const { address } = useAccount();\n\n  const [copyText, setCopyText] = useState('Copy');\n  const [copyButtonText, setCopyButtonText] = useState('Copy address');\n\n  const handleCloseQr = useCallback(() => {\n    setIsActiveFeatureClosing(true);\n  }, [setIsActiveFeatureClosing]);\n\n  const handleAnimationEnd = useCallback(() => {\n    if (isActiveFeatureClosing) {\n      setActiveFeature(null);\n      setIsActiveFeatureClosing(false);\n    }\n  }, [isActiveFeatureClosing, setActiveFeature, setIsActiveFeatureClosing]);\n\n  const resetAffordanceText = useCallback(() => {\n    setTimeout(() => {\n      setCopyText('Copy');\n      setCopyButtonText('Copy address');\n    }, 2000);\n  }, []);\n\n  const handleCopyButtonSuccess = useCallback(() => {\n    setCopyButtonText('Address copied');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  const handleCopyButtonError = useCallback(() => {\n    setCopyButtonText('Failed to copy address');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  const handleCopyIconSuccess = useCallback(() => {\n    setCopyText('Copied');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  const handleCopyIconError = useCallback(() => {\n    setCopyText('Failed to copy');\n    resetAffordanceText();\n  }, [resetAffordanceText]);\n\n  return (\n    <div\n      data-testid=\"ockWalletAdvancedQrReceive\"\n      className={cn(\n        'rounded-ock-default',\n        'text-ock-foreground',\n        text.headline,\n        'flex flex-col items-center justify-between',\n        'h-120 w-88 px-4 pt-3 pb-4',\n        isActiveFeatureClosing\n          ? 'fade-out slide-out-to-left-5 animate-out fill-mode-forwards ease-in-out'\n          : 'fade-in slide-in-from-left-5 linear animate-in duration-150',\n        classNames?.container,\n      )}\n      onAnimationEnd={handleAnimationEnd}\n    >\n      <div\n        className={cn(\n          'flex h-[34px] w-full flex-row items-center justify-between',\n          classNames?.header,\n        )}\n      >\n        <PressableIcon aria-label=\"Back button\" onClick={handleCloseQr}>\n          <div className=\"p-2\">{backArrowSvg}</div>\n        </PressableIcon>\n        <span>Scan to receive</span>\n        <div className=\"group relative\">\n          <CopyButton\n            label={copySvg}\n            copyValue={address ?? ''}\n            onSuccess={handleCopyIconSuccess}\n            onError={handleCopyIconError}\n            className={cn(\n              pressable.default,\n              'rounded-ock-inner',\n              'border-ock-background',\n              'flex items-center justify-center p-2',\n            )}\n            aria-label=\"Copy your address by clicking the icon\"\n          />\n          <CopyButton\n            label={copyText}\n            copyValue={address ?? ''}\n            onSuccess={handleCopyIconSuccess}\n            onError={handleCopyIconError}\n            className={cn(\n              pressable.alternate,\n              text.legal,\n              'text-ock-foreground',\n              'border-ock-background',\n              'rounded-ock-default',\n              zIndex.dropdown,\n              'absolute top-full right-0 mt-0.5 px-1.5 py-0.5 opacity-0 transition-opacity group-hover:opacity-100',\n            )}\n            aria-label=\"Copy your address by clicking the tooltip\"\n          />\n        </div>\n      </div>\n      <QrCodeSvg value={address} />\n      <CopyButton\n        copyValue={address ?? ''}\n        label={copyButtonText}\n        className={cn(\n          'rounded-ock-default',\n          pressable.alternate,\n          'w-full p-3',\n          classNames?.copyButton,\n        )}\n        onSuccess={handleCopyButtonSuccess}\n        onError={handleCopyButtonError}\n        aria-label=\"Copy your address by clicking the button\"\n      />\n    </div>\n  );\n}\n"],"names":["WalletAdvancedQrReceive","classNames","setActiveFeature","isActiveFeatureClosing","setIsActiveFeatureClosing","useWalletContext","address","useAccount","copyText","setCopyText","useState","copyButtonText","setCopyButtonText","handleCloseQr","useCallback","handleAnimationEnd","resetAffordanceText","setTimeout","handleCopyButtonSuccess","handleCopyButtonError","handleCopyIconSuccess","handleCopyIconError","cn","text","headline","container","header","backArrowSvg","copySvg","pressable","default","alternate","legal","zIndex","dropdown","copyButton"],"mappings":";;;;;;;;;;;AAqBO,SAASA,wBAAwB;AAAA,EACtCC;AAC4B,GAAG;AACzB,QAAA;AAAA,IACJC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,MACEC,iBAAiB;AACf,QAAA;AAAA,IAAEC;AAAAA,MAAYC,WAAW;AAE/B,QAAM,CAACC,UAAUC,WAAW,IAAIC,SAAS,MAAM;AAC/C,QAAM,CAACC,gBAAgBC,iBAAiB,IAAIF,SAAS,cAAc;AAE7DG,QAAAA,gBAAgBC,YAAY,MAAM;AACtCV,8BAA0B,IAAI;AAAA,EAAA,GAC7B,CAACA,yBAAyB,CAAC;AAExBW,QAAAA,qBAAqBD,YAAY,MAAM;AAC3C,QAAIX,wBAAwB;AAC1BD,uBAAiB,IAAI;AACrBE,gCAA0B,KAAK;AAAA,IAAA;AAAA,EAEhC,GAAA,CAACD,wBAAwBD,kBAAkBE,yBAAyB,CAAC;AAElEY,QAAAA,sBAAsBF,YAAY,MAAM;AAC5CG,eAAW,MAAM;AACfR,kBAAY,MAAM;AAClBG,wBAAkB,cAAc;AAAA,OAC/B,GAAI;AAAA,EACT,GAAG,EAAE;AAECM,QAAAA,0BAA0BJ,YAAY,MAAM;AAChDF,sBAAkB,gBAAgB;AACd,wBAAA;AAAA,EAAA,GACnB,CAACI,mBAAmB,CAAC;AAElBG,QAAAA,wBAAwBL,YAAY,MAAM;AAC9CF,sBAAkB,wBAAwB;AACtB,wBAAA;AAAA,EAAA,GACnB,CAACI,mBAAmB,CAAC;AAElBI,QAAAA,wBAAwBN,YAAY,MAAM;AAC9CL,gBAAY,QAAQ;AACA,wBAAA;AAAA,EAAA,GACnB,CAACO,mBAAmB,CAAC;AAElBK,QAAAA,sBAAsBP,YAAY,MAAM;AAC5CL,gBAAY,gBAAgB;AACR,wBAAA;AAAA,EAAA,GACnB,CAACO,mBAAmB,CAAC;AAExB,8BACG,OACC,EAAA,eAAY,8BACZ,WAAWM,GAAE,2BAAA,2BAGXC,KAAKC,UAAQ,8DAAA,iDAGbrB,yBAAsB,gGAAA,mFAGtBF,yCAAYwB,SACd,GACA,gBAAgBV,oBAEhB,UAAA;AAAA,IAAA,qBAAC,SACC,WAAWO,GAAE,sFAEXrB,yCAAYyB,MACd,GAEA,UAAA;AAAA,MAAC,oBAAA,eAAA,EAAc,cAAW,eAAc,SAASb,eAC/C,8BAAC,OAAI,EAAA,WAAU,WAAOc,UAAAA,aAAa,CAAA,GACrC;AAAA,MACA,oBAAC,UAAK,UAAe,kBAAA,CAAA;AAAA,MACrB,qBAAC,OAAI,EAAA,WAAU,0BACb,UAAA;AAAA,QAAA,oBAAC,cACC,OAAOC,SACP,WAAWtB,WAAW,IACtB,WAAWc,uBACX,SAASC,qBACT,WAAWC,GACTO,UAAUC,SAIZ,yBAAA,6BAAA,sDAAA,GACA,cAAW,0CAAwC;AAAA,QAErD,oBAAC,YACC,EAAA,OAAOtB,UACP,WAAWF,WAAW,IACtB,WAAWc,uBACX,SAASC,qBACT,WAAWC,GACTO,UAAUE,WACVR,KAAKS,OAAK,2BAAA,6BAAA,2BAIVC,OAAOC,UAAQ,yIAEjB,GACA,cAAW,4CAA2C,CAAA;AAAA,MAAA,EAE1D,CAAA;AAAA,IAAA,GACF;AAAA,IACA,oBAAC,WAAU,EAAA,OAAO5B,QAAQ,CAAA;AAAA,IAC1B,oBAAC,cACC,WAAWA,WAAW,IACtB,OAAOK,gBACP,WAAWW,GAETO,2BAAAA,UAAUE,WAAS,sBAEnB9B,yCAAYkC,UACd,GACA,WAAWjB,yBACX,SAASC,uBACT,cAAW,2CAA0C,CAAA;AAAA,EAAA,GAEzD;AAEJ;"}