'use client';
import { jsx, jsxs, Fragment } from "react/jsx-runtime";
import { Draggable } from "../../internal/components/Draggable/Draggable.js";
import { useIsMounted } from "../../internal/hooks/useIsMounted.js";
import { cn } from "../../styles/theme.js";
import { useRef } from "react";
import { getWalletDraggableProps } from "../utils/getWalletDraggableProps.js";
import { ConnectWallet } from "./ConnectWallet.js";
import { WalletDropdown } from "./WalletDropdown.js";
import { WalletProvider, useWalletContext } from "./WalletProvider.js";
import { Button } from "../../ui/Button.js";
function WalletContent({
  children,
  className,
  draggable,
  draggableStartingPosition
}) {
  const {
    isSubComponentOpen,
    isConnectModalOpen,
    connectRef,
    breakpoint
  } = useWalletContext();
  const walletContainerRef = useRef(null);
  if (draggable) {
    return /* @__PURE__ */ jsx("div", { ref: walletContainerRef, className: cn("ock:relative ock:w-fit ock:shrink-0", className), children: /* @__PURE__ */ jsx(Draggable, { startingPosition: draggableStartingPosition, disabled: isConnectModalOpen || breakpoint === "sm" && isSubComponentOpen, children: /* @__PURE__ */ jsx("div", { ref: connectRef, children }) }) });
  }
  return /* @__PURE__ */ jsx("div", { ref: walletContainerRef, className: cn("ock:relative ock:w-fit ock:shrink-0", className), children: /* @__PURE__ */ jsx("div", { ref: connectRef, children }) });
}
function Wallet({
  children = /* @__PURE__ */ jsxs(Fragment, { children: [
    /* @__PURE__ */ jsx(ConnectWallet, {}),
    /* @__PURE__ */ jsx(WalletDropdown, {})
  ] }),
  className,
  draggable,
  draggableStartingPosition,
  isSponsored
}) {
  const isMounted = useIsMounted();
  if (!isMounted) {
    return /* @__PURE__ */ jsx(Button, { disabled: true, children: "Connect Wallet" });
  }
  return /* @__PURE__ */ jsx(WalletProvider, { isSponsored, children: /* @__PURE__ */ jsx(WalletContent, { className, ...getWalletDraggableProps({
    draggable,
    draggableStartingPosition
  }), children }) });
}
export {
  Wallet
};
//# sourceMappingURL=Wallet.js.map
