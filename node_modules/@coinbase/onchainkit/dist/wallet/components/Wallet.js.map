{"version":3,"file":"Wallet.js","sources":["../../../src/wallet/components/Wallet.tsx"],"sourcesContent":["'use client';\nimport { Draggable } from '@/internal/components/Draggable/Draggable';\nimport { useIsMounted } from '@/internal/hooks/useIsMounted';\nimport { cn } from '@/styles/theme';\nimport { useRef } from 'react';\nimport { getWalletDraggableProps } from '../utils/getWalletDraggableProps';\nimport { ConnectWallet } from './ConnectWallet';\nimport { WalletDropdown } from './WalletDropdown';\nimport { WalletProvider, useWalletContext } from './WalletProvider';\nimport { Button } from '@/ui/Button';\n\nexport type WalletProps = {\n  children?: React.ReactNode;\n  /** Whether to sponsor transactions for Send feature of advanced wallet implementation */\n  isSponsored?: boolean;\n  className?: string;\n} & (\n  | { draggable?: true; draggableStartingPosition?: { x: number; y: number } }\n  | { draggable?: false; draggableStartingPosition?: never }\n);\n\nfunction WalletContent({\n  children,\n  className,\n  draggable,\n  draggableStartingPosition,\n}: WalletProps) {\n  const { isSubComponentOpen, isConnectModalOpen, connectRef, breakpoint } =\n    useWalletContext();\n  const walletContainerRef = useRef<HTMLDivElement>(null);\n\n  if (draggable) {\n    return (\n      <div\n        ref={walletContainerRef}\n        className={cn('relative w-fit shrink-0', className)}\n      >\n        <Draggable\n          startingPosition={draggableStartingPosition}\n          disabled={\n            isConnectModalOpen || (breakpoint === 'sm' && isSubComponentOpen)\n          }\n        >\n          <div ref={connectRef}>{children}</div>\n        </Draggable>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      ref={walletContainerRef}\n      className={cn('relative w-fit shrink-0', className)}\n    >\n      <div ref={connectRef}>{children}</div>\n    </div>\n  );\n}\n\nexport function Wallet({\n  children = (\n    <>\n      <ConnectWallet />\n      <WalletDropdown />\n    </>\n  ),\n  className,\n  draggable,\n  draggableStartingPosition,\n  isSponsored,\n}: WalletProps) {\n  const isMounted = useIsMounted();\n\n  // prevents SSR hydration issue\n  if (!isMounted) {\n    return <Button disabled>Connect Wallet</Button>;\n  }\n\n  return (\n    <WalletProvider isSponsored={isSponsored}>\n      <WalletContent\n        className={className}\n        {...getWalletDraggableProps({ draggable, draggableStartingPosition })}\n      >\n        {children}\n      </WalletContent>\n    </WalletProvider>\n  );\n}\n"],"names":["WalletContent","children","className","draggable","draggableStartingPosition","isSubComponentOpen","isConnectModalOpen","connectRef","breakpoint","useWalletContext","walletContainerRef","useRef","cn","Wallet","isSponsored","isMounted","useIsMounted","getWalletDraggableProps"],"mappings":";;;;;;;;;;AAqBA,SAASA,cAAc;AAAA,EACrBC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACW,GAAG;AACR,QAAA;AAAA,IAAEC;AAAAA,IAAoBC;AAAAA,IAAoBC;AAAAA,IAAYC;AAAAA,MAC1DC,iBAAiB;AACbC,QAAAA,qBAAqBC,OAAuB,IAAI;AAEtD,MAAIR,WAAW;AAEX,WAAA,oBAAC,OACC,EAAA,KAAKO,oBACL,WAAWE,GAA8BV,uCAAAA,SAAS,GAElD,UAAA,oBAAC,WACC,EAAA,kBAAkBE,2BAClB,UACEE,sBAAuBE,eAAe,QAAQH,oBAGhD,UAAA,oBAAC,SAAI,KAAKE,YAAaN,SAAS,CAAA,EAAA,CAClC,EACF,CAAA;AAAA,EAAA;AAIJ,SACG,oBAAA,OAAA,EACC,KAAKS,oBACL,WAAWE,GAA8BV,uCAAAA,SAAS,GAElD,UAAC,oBAAA,OAAA,EAAI,KAAKK,YAAaN,SAAS,CAAA,GAClC;AAEJ;AAEO,SAASY,OAAO;AAAA,EACrBZ,WAEI,qBAAA,UAAA,EAAA,UAAA;AAAA,IAAA,oBAAC,eAAa,EAAA;AAAA,wBACb,gBAAc,CAAA,CAAA;AAAA,EAAA,GACjB;AAAA,EAEFC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAU;AACW,GAAG;AACd,QAAMC,YAAYC,aAAa;AAG/B,MAAI,CAACD,WAAW;AACd,WAAQ,oBAAA,QAAA,EAAO,UAAQ,MAAC,UAAc,kBAAA;AAAA,EAAA;AAGxC,6BACG,gBAAe,EAAA,aACd,8BAAC,eACC,EAAA,WACIE,GAAAA,wBAAwB;AAAA,IAAEd;AAAAA,IAAWC;AAAAA,EAAAA,CAA2B,GAEnEH,SACH,CAAA,GACF;AAEJ;"}