{"version":3,"file":"defaultSendTxSuccessHandler.js","sources":["../../../../../src/wallet/components/wallet-advanced-send/utils/defaultSendTxSuccessHandler.ts"],"sourcesContent":["import { getChainExplorer } from '@/core/network/getChainExplorer';\nimport type { Address, Chain, TransactionReceipt } from 'viem';\nimport { useChainId } from 'wagmi';\n\nexport function defaultSendTxSuccessHandler({\n  transactionId,\n  transactionHash,\n  senderChain,\n  address,\n  onComplete,\n}: {\n  transactionId: string | undefined;\n  transactionHash: string | undefined;\n  senderChain: Chain | undefined;\n  address: Address | undefined;\n  onComplete?: () => void;\n}) {\n  return (receipt: TransactionReceipt | undefined) => {\n    const accountChainId = senderChain?.id ?? useChainId();\n\n    // SW will have txn id so open in wallet\n    if (\n      receipt &&\n      transactionId &&\n      transactionHash &&\n      senderChain?.id &&\n      address\n    ) {\n      const url = new URL('https://wallet.coinbase.com/assets/transactions');\n      url.searchParams.set('contentParams[txHash]', transactionHash);\n      url.searchParams.set(\n        'contentParams[chainId]',\n        JSON.stringify(senderChain?.id),\n      );\n      url.searchParams.set('contentParams[fromAddress]', address);\n      window.open(url, '_blank', 'noopener,noreferrer');\n    } else {\n      // EOA will not have txn id so open in explorer\n      const chainExplorer = getChainExplorer(accountChainId);\n      window.open(\n        `${chainExplorer}/tx/${transactionHash}`,\n        '_blank',\n        'noopener,noreferrer',\n      );\n    }\n\n    // After opening the transaction in the wallet or explorer, take an action (default: close the send modal)\n    onComplete?.();\n  };\n}\n"],"names":["defaultSendTxSuccessHandler","transactionId","transactionHash","senderChain","address","onComplete","receipt","accountChainId","id","useChainId","url","URL","searchParams","set","JSON","stringify","open","chainExplorer","getChainExplorer","window"],"mappings":";;AAIO,SAASA,4BAA4B;AAAA,EAC1CC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAOF,GAAG;AACD,SAAO,CAACC,YAA4C;AAC5CC,UAAAA,kBAAiBJ,2CAAaK,OAAMC,WAAW;AAGrD,QACEH,WACAL,iBACAC,oBACAC,2CAAaK,OACbJ,SACA;AACMM,YAAAA,MAAM,IAAIC,IAAI,iDAAiD;AACjEC,UAAAA,aAAaC,IAAI,yBAAyBX,eAAe;AAC7DQ,UAAIE,aAAaC,IACf,0BACAC,KAAKC,UAAUZ,2CAAaK,EAAE,CAChC;AACII,UAAAA,aAAaC,IAAI,8BAA8BT,OAAO;AACnDY,aAAAA,KAAKN,KAAK,UAAU,qBAAqB;AAAA,IAAA,OAC3C;AAECO,YAAAA,gBAAgBC,iBAAiBX,cAAc;AACrDY,aAAOH,KACL,GAAGC,aAAa,OAAOf,eAAe,IACtC,UACA,qBACF;AAAA,IAAA;AAIW;AAAA,EACf;AACF;"}