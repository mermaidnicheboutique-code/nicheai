{"version":3,"file":"SendTokenSelector.js","sources":["../../../../../src/wallet/components/wallet-advanced-send/components/SendTokenSelector.tsx"],"sourcesContent":["'use client';\n\nimport { cn, pressable, text } from '@/styles/theme';\nimport { TokenBalance } from '@/token';\nimport { formatUnits } from 'viem';\nimport { useSendContext } from './SendProvider';\nimport { RequestContext } from '@/core/network/constants';\nimport { useAccount } from 'wagmi';\nimport { usePortfolio } from '@/wallet/hooks/usePortfolio';\n\ntype SendTokenSelectorProps = {\n  classNames?: {\n    container?: string;\n    tokenName?: string;\n    tokenValue?: string;\n    fiatValue?: string;\n    action?: string;\n  };\n};\n\nexport function SendTokenSelector({ classNames }: SendTokenSelectorProps) {\n  const { address } = useAccount();\n  const { data: portfolioData } = usePortfolio(\n    { address },\n    RequestContext.Wallet,\n  );\n  const tokenBalances = portfolioData?.tokenBalances;\n\n  const {\n    selectedToken,\n    handleTokenSelection,\n    handleResetTokenSelection,\n    setSelectedInputType,\n    handleCryptoAmountChange,\n    handleFiatAmountChange,\n  } = useSendContext();\n\n  if (!selectedToken) {\n    return (\n      <div className=\"mt-4 flex max-h-80 flex-col gap-2\">\n        <span\n          className={cn(text.caption, 'text-ock-foreground-muted', 'uppercase')}\n        >\n          Select a token\n        </span>\n        <div className=\"scrollbar-hidden overflow-y-auto\">\n          {tokenBalances?.map((token) => (\n            <TokenBalance\n              key={token.address}\n              token={token}\n              onClick={handleTokenSelection}\n              subtitle=\"\"\n              classNames={{\n                container: cn(\n                  pressable.default,\n                  'rounded-ock-default',\n                  classNames?.container,\n                ),\n                ...classNames,\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <TokenBalance\n      token={selectedToken}\n      showImage={true}\n      subtitle=\"available\"\n      onClick={handleResetTokenSelection}\n      onActionPress={() => {\n        setSelectedInputType('crypto');\n        handleFiatAmountChange(String(selectedToken.fiatBalance));\n        handleCryptoAmountChange(\n          String(\n            formatUnits(\n              BigInt(selectedToken.cryptoBalance),\n              selectedToken.decimals,\n            ),\n          ),\n        );\n      }}\n      classNames={{\n        container: cn(\n          pressable.alternate,\n          'rounded-ock-default',\n          classNames?.container,\n        ),\n        ...classNames,\n      }}\n    />\n  );\n}\n"],"names":["SendTokenSelector","classNames","address","useAccount","data","portfolioData","usePortfolio","RequestContext","Wallet","tokenBalances","selectedToken","handleTokenSelection","handleResetTokenSelection","setSelectedInputType","handleCryptoAmountChange","handleFiatAmountChange","useSendContext","cn","text","caption","map","token","container","pressable","default","String","fiatBalance","formatUnits","BigInt","cryptoBalance","decimals","alternate"],"mappings":";;;;;;;;;;;;;;AAoBO,SAASA,kBAAkB;AAAA,EAAEC;AAAmC,GAAG;AAClE,QAAA;AAAA,IAAEC;AAAAA,MAAYC,WAAW;AACzB,QAAA;AAAA,IAAEC,MAAMC;AAAAA,MAAkBC,aAC9B;AAAA,IAAEJ;AAAAA,EAAAA,GACFK,eAAeC,MACjB;AACA,QAAMC,gBAAgBJ,+CAAeI;AAE/B,QAAA;AAAA,IACJC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,MACEC,eAAe;AAEnB,MAAI,CAACN,eAAe;AAEhB,WAAA,qBAAC,OAAI,EAAA,WAAU,yDACb,UAAA;AAAA,MAAC,oBAAA,QAAA,EACC,WAAWO,GAAGC,KAAKC,SAAO,iCAAA,eAA0C,GAAE,UAGxE,iBAAA,CAAA;AAAA,MACC,oBAAA,OAAA,EAAI,WAAU,4CACZV,yDAAeW,IAAKC,CAAAA,UAClB,oBAAA,cAAA,EAEC,OACA,SAASV,sBACT,UAAS,IACT,YAAY;AAAA,QACVW,WAAWL,GACTM,UAAUC,SACV,uBACAvB,yCAAYqB,SACd;AAAA,QACA,GAAGrB;AAAAA,MAAAA,KAVAoB,MAAMnB,UAcjB,CAAA;AAAA,IAAA,GACF;AAAA,EAAA;AAKF,SAAA,oBAAC,cACC,EAAA,OAAOQ,eACP,WAAW,MACX,UAAS,aACT,SAASE,2BACT,eAAe,MAAM;AACnBC,yBAAqB,QAAQ;AACNY,2BAAAA,OAAOf,cAAcgB,WAAW,CAAC;AAEtDD,6BAAAA,OACEE,YACEC,OAAOlB,cAAcmB,aAAa,GAClCnB,cAAcoB,QAChB,CACF,CACF;AAAA,KAEF,YAAY;AAAA,IACVR,WAAWL,GACTM,UAAUQ,WACV,uBACA9B,yCAAYqB,SACd;AAAA,IACA,GAAGrB;AAAAA,EAAAA,GAEL;AAEN;"}