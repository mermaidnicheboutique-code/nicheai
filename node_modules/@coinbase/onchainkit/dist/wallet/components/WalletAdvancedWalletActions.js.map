{"version":3,"file":"WalletAdvancedWalletActions.js","sources":["../../../src/wallet/components/WalletAdvancedWalletActions.tsx"],"sourcesContent":["'use client';\n\nimport { useAnalytics } from '@/core/analytics/hooks/useAnalytics';\nimport {\n  WalletEvent,\n  WalletOption,\n  WalletOptionType,\n} from '@/core/analytics/types';\nimport { PressableIcon } from '@/internal/components/PressableIcon';\nimport { baseScanSvg } from '@/internal/svg/baseScanSvg';\nimport { disconnectSvg } from '@/internal/svg/disconnectSvg';\nimport { qrIconSvg } from '@/internal/svg/qrIconSvg';\nimport { refreshSvg } from '@/internal/svg/refreshSvg';\nimport { cn } from '@/styles/theme';\nimport { useCallback } from 'react';\nimport { useAccount, useDisconnect } from 'wagmi';\nimport { useWalletContext } from './WalletProvider';\nimport { usePortfolio } from '../hooks/usePortfolio';\nimport { RequestContext } from '@/core/network/constants';\n\ntype WalletAdvancedWalletActionsProps = {\n  classNames?: {\n    container?: string;\n    baseScanIcon?: string;\n    qrIcon?: string;\n    disconnectIcon?: string;\n    refreshIcon?: string;\n  };\n};\n\nexport function WalletAdvancedWalletActions({\n  classNames,\n}: WalletAdvancedWalletActionsProps) {\n  const { address } = useAccount();\n  const { handleClose, setActiveFeature, animations } = useWalletContext();\n  const { disconnect, connectors } = useDisconnect();\n  const { sendAnalytics } = useAnalytics();\n\n  const { refetch: refetchPortfolioData } = usePortfolio(\n    { address },\n    RequestContext.Wallet,\n  );\n\n  const handleAnalyticsOptionSelected = useCallback(\n    (option: WalletOptionType) => {\n      sendAnalytics(WalletEvent.OptionSelected, {\n        option,\n      });\n    },\n    [sendAnalytics],\n  );\n\n  const handleAnalyticsDisconnect = useCallback(\n    (walletProvider: string) => {\n      sendAnalytics(WalletEvent.Disconnect, {\n        component: 'WalletAdvanced',\n        walletProvider,\n      });\n    },\n    [sendAnalytics],\n  );\n\n  const handleTransactions = useCallback(() => {\n    handleAnalyticsOptionSelected(WalletOption.Explorer);\n    window.open(`https://basescan.org/address/${address}`, '_blank');\n  }, [address, handleAnalyticsOptionSelected]);\n\n  const handleDisconnect = useCallback(() => {\n    const walletProvider = connectors[0]?.name || 'unknown';\n    handleAnalyticsDisconnect(walletProvider);\n\n    handleClose();\n    for (const connector of connectors) {\n      disconnect({ connector });\n    }\n  }, [disconnect, connectors, handleClose, handleAnalyticsDisconnect]);\n\n  const handleQr = useCallback(() => {\n    handleAnalyticsOptionSelected(WalletOption.QR);\n    setActiveFeature('qr');\n  }, [setActiveFeature, handleAnalyticsOptionSelected]);\n\n  const handleRefreshPortfolioData = useCallback(async () => {\n    handleAnalyticsOptionSelected(WalletOption.Refresh);\n    await refetchPortfolioData();\n  }, [refetchPortfolioData, handleAnalyticsOptionSelected]);\n\n  return (\n    <div\n      data-testid=\"ockWalletAdvanced_WalletActions\"\n      className={cn(\n        'flex w-88 items-center justify-between px-4 py-3',\n        animations.content,\n        classNames?.container,\n      )}\n    >\n      <div className=\"flex items-center\">\n        <PressableIcon\n          aria-label=\"Open transaction history\"\n          onClick={handleTransactions}\n        >\n          <div\n            data-testid=\"ockWalletAdvanced_TransactionsButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.baseScanIcon)}\n          >\n            {baseScanSvg}\n          </div>\n        </PressableIcon>\n        <PressableIcon aria-label=\"Show QR code\" onClick={handleQr}>\n          <div\n            data-testid=\"ockWalletAdvanced_QrButton\"\n            className={cn('h-7 w-7 scale-110', classNames?.qrIcon)}\n          >\n            {qrIconSvg}\n          </div>\n        </PressableIcon>\n      </div>\n      <div className=\"flex items-center\">\n        <PressableIcon\n          aria-label=\"Disconnect wallet\"\n          onClick={handleDisconnect}\n        >\n          <div\n            data-testid=\"ockWalletAdvanced_DisconnectButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.disconnectIcon)}\n          >\n            {disconnectSvg}\n          </div>\n        </PressableIcon>\n        <PressableIcon\n          aria-label=\"Refresh portfolio data\"\n          onClick={handleRefreshPortfolioData}\n        >\n          <div\n            data-testid=\"ockWalletAdvanced_RefreshButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.refreshIcon)}\n          >\n            {refreshSvg}\n          </div>\n        </PressableIcon>\n      </div>\n    </div>\n  );\n}\n"],"names":["WalletAdvancedWalletActions","classNames","address","useAccount","handleClose","setActiveFeature","animations","useWalletContext","disconnect","connectors","useDisconnect","sendAnalytics","useAnalytics","refetch","refetchPortfolioData","usePortfolio","RequestContext","Wallet","handleAnalyticsOptionSelected","useCallback","option","WalletEvent","OptionSelected","handleAnalyticsDisconnect","walletProvider","Disconnect","component","handleTransactions","WalletOption","Explorer","window","open","handleDisconnect","name","connector","handleQr","QR","handleRefreshPortfolioData","Refresh","cn","content","container","baseScanIcon","baseScanSvg","qrIcon","qrIconSvg","disconnectIcon","disconnectSvg","refreshIcon","refreshSvg"],"mappings":";;;;;;;;;;;;;;AA8BO,SAASA,4BAA4B;AAAA,EAC1CC;AACgC,GAAG;AAC7B,QAAA;AAAA,IAAEC;AAAAA,MAAYC,WAAW;AACzB,QAAA;AAAA,IAAEC;AAAAA,IAAaC;AAAAA,IAAkBC;AAAAA,MAAeC,iBAAiB;AACjE,QAAA;AAAA,IAAEC;AAAAA,IAAYC;AAAAA,MAAeC,cAAc;AAC3C,QAAA;AAAA,IAAEC;AAAAA,MAAkBC,aAAa;AAEjC,QAAA;AAAA,IAAEC,SAASC;AAAAA,MAAyBC,aACxC;AAAA,IAAEb;AAAAA,EAAAA,GACFc,eAAeC,MACjB;AAEMC,QAAAA,gCAAgCC,YACpC,CAACC,WAA6B;AAC5BT,kBAAcU,YAAYC,gBAAgB;AAAA,MACxCF;AAAAA,IAAAA,CACD;AAAA,EAAA,GAEH,CAACT,aAAa,CAChB;AAEMY,QAAAA,4BAA4BJ,YAChC,CAACK,mBAA2B;AAC1Bb,kBAAcU,YAAYI,YAAY;AAAA,MACpCC,WAAW;AAAA,MACXF;AAAAA,IAAAA,CACD;AAAA,EAAA,GAEH,CAACb,aAAa,CAChB;AAEMgB,QAAAA,qBAAqBR,YAAY,MAAM;AAC3CD,kCAA8BU,aAAaC,QAAQ;AACnDC,WAAOC,KAAK,gCAAgC7B,OAAO,IAAI,QAAQ;AAAA,EAAA,GAC9D,CAACA,SAASgB,6BAA6B,CAAC;AAErCc,QAAAA,mBAAmBb,YAAY,MAAM;;AACzC,UAAMK,mBAAiBf,gBAAW,CAAC,MAAZA,mBAAewB,SAAQ;AAC9CV,8BAA0BC,cAAc;AAE5B,gBAAA;AACZ,eAAWU,aAAazB,YAAY;AACvB,iBAAA;AAAA,QAAEyB;AAAAA,MAAAA,CAAW;AAAA,IAAA;AAAA,KAEzB,CAAC1B,YAAYC,YAAYL,aAAamB,yBAAyB,CAAC;AAE7DY,QAAAA,WAAWhB,YAAY,MAAM;AACjCD,kCAA8BU,aAAaQ,EAAE;AAC7C/B,qBAAiB,IAAI;AAAA,EAAA,GACpB,CAACA,kBAAkBa,6BAA6B,CAAC;AAE9CmB,QAAAA,6BAA6BlB,YAAY,YAAY;AACzDD,kCAA8BU,aAAaU,OAAO;AAClD,UAAMxB,qBAAqB;AAAA,EAAA,GAC1B,CAACA,sBAAsBI,6BAA6B,CAAC;AAGtD,SAAA,qBAAC,OACC,EAAA,eAAY,mCACZ,WAAWqB,GAETjC,4EAAAA,WAAWkC,SACXvC,yCAAYwC,SACd,GAEA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,6BACb,UAAA;AAAA,MAAA,oBAAC,iBACC,cAAW,4BACX,SAASd,oBAET,8BAAC,OACC,EAAA,eAAY,wCACZ,WAAWY,GAA4BtC,yCAAAA,yCAAYyC,YAAY,GAE9DC,sBACH,CAAA,GACF;AAAA,0BACC,eAAc,EAAA,cAAW,gBAAe,SAASR,UAChD,UAAC,oBAAA,OAAA,EACC,eAAY,8BACZ,WAAWI,GAAwBtC,iCAAAA,yCAAY2C,MAAM,GAEpDC,qBACH,EACF,CAAA;AAAA,IAAA,GACF;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,6BACb,UAAA;AAAA,MAAA,oBAAC,iBACC,cAAW,qBACX,SAASb,kBAET,8BAAC,OACC,EAAA,eAAY,sCACZ,WAAWO,GAA4BtC,yCAAAA,yCAAY6C,cAAc,GAEhEC,wBACH,CAAA,GACF;AAAA,0BACC,eACC,EAAA,cAAW,0BACX,SAASV,4BAET,UAAC,oBAAA,OAAA,EACC,eAAY,mCACZ,WAAWE,GAA4BtC,yCAAAA,yCAAY+C,WAAW,GAE7DC,sBACH,EACF,CAAA;AAAA,IAAA,EACF,CAAA;AAAA,EAAA,GACF;AAEJ;"}