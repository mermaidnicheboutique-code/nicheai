{"version":3,"file":"useAppchainConfig.js","sources":["../../../../src/appchain/bridge/hooks/useAppchainConfig.ts"],"sourcesContent":["'use client';\nimport { useReadContract } from 'wagmi';\nimport { DeployChainABI } from '../abi';\nimport { APPCHAIN_DEPLOY_CONTRACT_ADDRESS } from '../constants';\nimport type { AppchainConfig } from '../types';\n\nexport interface ChainConfigParams {\n  l2ChainId: number;\n  appchainChainId: number;\n}\n\nexport function useChainConfig(params: ChainConfigParams) {\n  const { data, isLoading, isError, error } = useReadContract({\n    abi: DeployChainABI,\n    functionName: 'deployAddresses',\n    args: [BigInt(params.appchainChainId)],\n    address:\n      APPCHAIN_DEPLOY_CONTRACT_ADDRESS[\n        params.l2ChainId as keyof typeof APPCHAIN_DEPLOY_CONTRACT_ADDRESS\n      ],\n    query: {\n      staleTime: 1000 * 60 * 60, // 1 hour\n      retry: 2,\n      enabled: !!params.l2ChainId && !!params.appchainChainId,\n      gcTime: 0,\n    },\n    // Read from the L2 contract\n    chainId: params.l2ChainId,\n  });\n\n  return {\n    config: error\n      ? undefined\n      : ({\n          chainId: params.appchainChainId,\n          contracts: data,\n        } as AppchainConfig),\n    isLoading,\n    isError,\n    error,\n  };\n}\n"],"names":["useChainConfig","params","data","isLoading","isError","error","useReadContract","abi","DeployChainABI","functionName","args","BigInt","appchainChainId","address","APPCHAIN_DEPLOY_CONTRACT_ADDRESS","l2ChainId","query","staleTime","retry","enabled","gcTime","chainId","config","undefined","contracts"],"mappings":";;;AAWO,SAASA,eAAeC,QAA2B;AAClD,QAAA;AAAA,IAAEC;AAAAA,IAAMC;AAAAA,IAAWC;AAAAA,IAASC;AAAAA,MAAUC,gBAAgB;AAAA,IAC1DC,KAAKC;AAAAA,IACLC,cAAc;AAAA,IACdC,MAAM,CAACC,OAAOV,OAAOW,eAAe,CAAC;AAAA,IACrCC,SACEC,iCACEb,OAAOc,SAA0D;AAAA,IAErEC,OAAO;AAAA,MACLC,WAAW,MAAO,KAAK;AAAA;AAAA,MACvBC,OAAO;AAAA,MACPC,SAAS,CAAC,CAAClB,OAAOc,aAAa,CAAC,CAACd,OAAOW;AAAAA,MACxCQ,QAAQ;AAAA,IACV;AAAA;AAAA,IAEAC,SAASpB,OAAOc;AAAAA,EAAAA,CACjB;AAEM,SAAA;AAAA,IACLO,QAAQjB,QACJkB,SACC;AAAA,MACCF,SAASpB,OAAOW;AAAAA,MAChBY,WAAWtB;AAAAA,IACb;AAAA,IACJC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,EACF;AACF;"}