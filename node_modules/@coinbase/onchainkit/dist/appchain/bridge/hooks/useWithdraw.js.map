{"version":3,"file":"useWithdraw.js","sources":["../../../../src/appchain/bridge/hooks/useWithdraw.ts"],"sourcesContent":["'use client';\nimport { useAnalytics } from '@/core/analytics/hooks/useAnalytics';\nimport { AppchainEvent } from '@/core/analytics/types';\nimport { useCallback, useState } from 'react';\nimport { type Hex, erc20Abi, keccak256, parseEther, parseUnits } from 'viem';\nimport { getWithdrawalHashStorageSlot, getWithdrawals } from 'viem/op-stack';\nimport { useAccount, useConfig, useSwitchChain, useWriteContract } from 'wagmi';\nimport {\n  getBlock,\n  getProof,\n  readContract,\n  waitForTransactionReceipt,\n} from 'wagmi/actions';\nimport {\n  L2OutputOracleABI,\n  L2_TO_L1_MESSAGE_PASSER_ABI,\n  OptimismPortalABI,\n  StandardBridgeABI,\n} from '../abi';\nimport {\n  APPCHAIN_BRIDGE_ADDRESS,\n  APPCHAIN_L2_TO_L1_MESSAGE_PASSER_ADDRESS,\n  EXTRA_DATA,\n  MIN_GAS_LIMIT,\n  OUTPUT_ROOT_PROOF_VERSION,\n} from '../constants';\nimport type { UseWithdrawParams } from '../types';\nimport { getOutput } from '../utils/getOutput';\nimport { isUserRejectedRequestError } from '../utils/isUserRejectedRequestError';\nimport { maybeAddProofNode } from '../utils/maybeAddProofNode';\n\nexport const useWithdraw = ({\n  config,\n  chain,\n  bridgeParams,\n}: UseWithdrawParams) => {\n  const { chainId } = useAccount();\n  const { switchChainAsync } = useSwitchChain();\n  const { writeContractAsync, data } = useWriteContract();\n  const wagmiConfig = useConfig();\n  const [withdrawStatus, setWithdrawStatus] = useState<\n    | 'idle'\n    | 'withdrawPending'\n    | 'withdrawSuccess'\n    | 'withdrawRejected'\n    | 'claimReady'\n    | 'claimPending'\n    | 'claimSuccess'\n    | 'claimRejected'\n    | 'error'\n  >('idle');\n  const [withdrawal, setWithdrawal] = useState<ReturnType<\n    typeof getWithdrawals\n  > | null>(null);\n  const [finalizedWithdrawalTxHash, setFinalizedWithdrawalTxHash] = useState<\n    Hex | undefined\n  >(undefined);\n  const { sendAnalytics } = useAnalytics();\n\n  const resetWithdrawStatus = useCallback(() => {\n    setWithdrawStatus('idle');\n    setWithdrawal(null);\n  }, []);\n\n  const withdraw = async () => {\n    if (!bridgeParams.recipient) {\n      throw new Error('Recipient is required');\n    }\n\n    sendAnalytics(AppchainEvent.AppchainBridgeWithdrawInitiated, {\n      amount: bridgeParams.amount,\n      tokenAddress: bridgeParams.token.address,\n      recipient: bridgeParams.recipient,\n    });\n\n    setWithdrawStatus('withdrawPending');\n    try {\n      // Switch networks to the appchain\n      if (chainId !== config.chainId) {\n        await switchChainAsync({ chainId: config.chainId });\n      }\n\n      let transactionHash: Hex = '0x';\n\n      // Custom gas token\n      if (bridgeParams.token.isCustomGasToken) {\n        transactionHash = await writeContractAsync({\n          abi: L2_TO_L1_MESSAGE_PASSER_ABI,\n          functionName: 'initiateWithdrawal',\n          args: [bridgeParams.recipient, BigInt(MIN_GAS_LIMIT), EXTRA_DATA],\n          address: APPCHAIN_L2_TO_L1_MESSAGE_PASSER_ADDRESS,\n          chainId: config.chainId,\n          value: parseEther(bridgeParams.amount),\n        });\n      } else if (bridgeParams.token.address === '') {\n        // Native ETH\n        transactionHash = await writeContractAsync({\n          abi: StandardBridgeABI,\n          functionName: 'bridgeETHTo',\n          args: [bridgeParams.recipient, MIN_GAS_LIMIT, EXTRA_DATA],\n          address: APPCHAIN_BRIDGE_ADDRESS,\n          value: parseEther(bridgeParams.amount),\n          chainId: config.chainId,\n        });\n      } else {\n        // ERC-20\n        if (!bridgeParams.token.remoteToken) {\n          throw new Error('Remote token is required');\n        }\n\n        const formattedAmount = parseUnits(\n          bridgeParams.amount,\n          bridgeParams.token.decimals,\n        );\n        const approveTx = await writeContractAsync({\n          abi: erc20Abi,\n          functionName: 'approve',\n          args: [APPCHAIN_BRIDGE_ADDRESS, formattedAmount],\n          address: bridgeParams.token.address,\n          chainId: config.chainId,\n        });\n\n        await waitForTransactionReceipt(wagmiConfig, {\n          hash: approveTx,\n          confirmations: 1,\n        });\n\n        transactionHash = await writeContractAsync({\n          abi: StandardBridgeABI,\n          functionName: 'bridgeERC20To',\n          args: [\n            bridgeParams.token.remoteToken,\n            bridgeParams.token.address,\n            bridgeParams.recipient,\n            formattedAmount,\n            MIN_GAS_LIMIT,\n            EXTRA_DATA,\n          ],\n          address: APPCHAIN_BRIDGE_ADDRESS,\n          chainId: config.chainId,\n        });\n      }\n\n      sendAnalytics(AppchainEvent.AppchainBridgeWithdrawSuccess, {\n        amount: bridgeParams.amount,\n        tokenAddress: bridgeParams.token.address,\n        recipient: bridgeParams.recipient,\n      });\n\n      setWithdrawStatus('withdrawSuccess');\n      return transactionHash;\n    } catch (error) {\n      if (isUserRejectedRequestError(error)) {\n        console.error('User rejected request');\n        setWithdrawStatus('withdrawRejected');\n      } else {\n        console.error('Error', error);\n        setWithdrawStatus('error');\n        /* v8 ignore next 3 */\n        sendAnalytics(AppchainEvent.AppchainBridgeWithdrawFailure, {\n          error: error instanceof Error ? error.message : 'Unknown error',\n        });\n      }\n    }\n  };\n\n  const waitForWithdrawal = async (txHash?: Hex) => {\n    const hash = txHash || data;\n    if (!hash) {\n      return;\n    }\n\n    const withdrawalReceipt = await waitForTransactionReceipt(wagmiConfig, {\n      // By default, use the withdrawal hash from Wagmi hook\n      // If the user has resumed a withdrawal transaction, use the txHash provided\n      hash,\n      confirmations: 1,\n      chainId: config.chainId,\n    });\n\n    // Poll until the required block number is reached\n    const pollInterval = 1000; // 1 second\n    const maxAttempts = 60; // Prevent infinite polling, poll for maximum 1 minute\n    let attempts = 0;\n\n    while (attempts < maxAttempts) {\n      const latestBlockNumber = await readContract(wagmiConfig, {\n        address: config.contracts.l2OutputOracle,\n        abi: L2OutputOracleABI,\n        functionName: 'latestBlockNumber',\n        chainId: chain.id,\n      });\n      if (latestBlockNumber >= withdrawalReceipt.blockNumber) {\n        setWithdrawStatus('claimReady');\n        const [_withdrawal] = getWithdrawals(withdrawalReceipt);\n        setWithdrawal([_withdrawal]);\n        return;\n      }\n      await new Promise((resolve) => setTimeout(resolve, pollInterval));\n      attempts++;\n      /* v8 ignore start */\n    }\n    sendAnalytics(AppchainEvent.AppchainBridgeWaitForClaimFailure, {\n      transactionHash: txHash || data || '0x',\n    });\n    /* v8 ignore stop */\n  };\n\n  /* v8 ignore start */\n  const proveAndFinalizeWithdrawal = async () => {\n    if (!withdrawal || withdrawal.length === 0) {\n      console.error('no withdrawals to prove');\n      return;\n    }\n    setWithdrawStatus('claimPending');\n\n    // Build proof\n    const output = await getOutput({\n      config,\n      chain,\n      wagmiConfig,\n    });\n    const slot = getWithdrawalHashStorageSlot({\n      withdrawalHash: withdrawal[0].withdrawalHash,\n    });\n    const [proof, block] = await Promise.all([\n      // On the L2ToL1MessagePasser on the appchain\n      getProof(wagmiConfig, {\n        address: APPCHAIN_L2_TO_L1_MESSAGE_PASSER_ADDRESS,\n        storageKeys: [slot],\n        blockNumber: output.l2BlockNumber,\n        chainId: config.chainId,\n      }),\n      getBlock(wagmiConfig, {\n        blockNumber: output.l2BlockNumber,\n        chainId: config.chainId,\n      }),\n    ]);\n    const args = {\n      l2OutputIndex: output.outputIndex,\n      outputRootProof: {\n        version: OUTPUT_ROOT_PROOF_VERSION,\n        stateRoot: block.stateRoot,\n        messagePasserStorageRoot: proof.storageHash,\n        latestBlockhash: block.hash,\n      },\n      withdrawalProof: maybeAddProofNode(\n        keccak256(slot),\n        proof.storageProof[0].proof,\n      ),\n      withdrawal: withdrawal[0],\n    };\n\n    try {\n      // Switch networks to Base\n      if (chainId !== chain.id) {\n        await switchChainAsync({ chainId: chain.id });\n      }\n\n      // Finalize the withdrawal\n      const _finalizedWithdrawalTxHash = await writeContractAsync({\n        abi: OptimismPortalABI,\n        address: config.contracts.optimismPortal,\n        functionName: 'proveAndFinalizeWithdrawalTransaction',\n        args: [\n          withdrawal[0],\n          args.l2OutputIndex,\n          args.outputRootProof,\n          args.withdrawalProof,\n        ],\n        chainId: chain.id,\n      });\n      await waitForTransactionReceipt(wagmiConfig, {\n        hash: _finalizedWithdrawalTxHash,\n        confirmations: 1,\n        chainId: chain.id,\n      });\n\n      setFinalizedWithdrawalTxHash(_finalizedWithdrawalTxHash);\n      setWithdrawStatus('claimSuccess');\n      sendAnalytics(AppchainEvent.AppchainBridgeClaimSuccess, {\n        amount: bridgeParams.amount,\n        tokenAddress: bridgeParams.token.address,\n      });\n    } catch (error) {\n      if (isUserRejectedRequestError(error)) {\n        console.error('User rejected request');\n        setWithdrawStatus('claimRejected');\n      } else {\n        setWithdrawStatus('error');\n        sendAnalytics(AppchainEvent.AppchainBridgeClaimFailure, {\n          error: error instanceof Error ? error.message : 'Unknown error',\n        });\n      }\n    }\n  };\n  /* v8 ignore stop */\n\n  return {\n    withdraw,\n    withdrawStatus,\n    waitForWithdrawal,\n    proveAndFinalizeWithdrawal,\n    finalizedWithdrawalTxHash,\n    resetWithdrawStatus,\n  };\n};\n"],"names":["useWithdraw","config","chain","bridgeParams","chainId","useAccount","switchChainAsync","useSwitchChain","writeContractAsync","data","useWriteContract","wagmiConfig","useConfig","withdrawStatus","setWithdrawStatus","useState","withdrawal","setWithdrawal","finalizedWithdrawalTxHash","setFinalizedWithdrawalTxHash","undefined","sendAnalytics","useAnalytics","resetWithdrawStatus","useCallback","withdraw","recipient","Error","AppchainEvent","AppchainBridgeWithdrawInitiated","amount","tokenAddress","token","address","transactionHash","isCustomGasToken","abi","L2_TO_L1_MESSAGE_PASSER_ABI","functionName","args","BigInt","MIN_GAS_LIMIT","EXTRA_DATA","APPCHAIN_L2_TO_L1_MESSAGE_PASSER_ADDRESS","value","parseEther","StandardBridgeABI","APPCHAIN_BRIDGE_ADDRESS","remoteToken","formattedAmount","parseUnits","decimals","approveTx","erc20Abi","waitForTransactionReceipt","hash","confirmations","AppchainBridgeWithdrawSuccess","error","isUserRejectedRequestError","console","AppchainBridgeWithdrawFailure","message","waitForWithdrawal","txHash","withdrawalReceipt","pollInterval","maxAttempts","attempts","latestBlockNumber","readContract","contracts","l2OutputOracle","L2OutputOracleABI","id","blockNumber","_withdrawal","getWithdrawals","Promise","resolve","setTimeout","AppchainBridgeWaitForClaimFailure","proveAndFinalizeWithdrawal","length","output","getOutput","slot","getWithdrawalHashStorageSlot","withdrawalHash","proof","block","all","getProof","storageKeys","l2BlockNumber","getBlock","l2OutputIndex","outputIndex","outputRootProof","version","OUTPUT_ROOT_PROOF_VERSION","stateRoot","messagePasserStorageRoot","storageHash","latestBlockhash","withdrawalProof","maybeAddProofNode","keccak256","storageProof","_finalizedWithdrawalTxHash","OptimismPortalABI","optimismPortal","AppchainBridgeClaimSuccess","AppchainBridgeClaimFailure"],"mappings":"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"}