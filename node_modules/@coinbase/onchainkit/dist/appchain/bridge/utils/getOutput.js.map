{"version":3,"file":"getOutput.js","sources":["../../../../src/appchain/bridge/utils/getOutput.ts"],"sourcesContent":["import type { Chain } from 'viem';\nimport type { Config } from 'wagmi';\nimport { readContract } from 'wagmi/actions';\nimport { L2OutputOracleABI } from '../abi';\nimport type { AppchainConfig } from '../types';\n\nexport const getOutput = async ({\n  config,\n  chain,\n  wagmiConfig,\n}: {\n  config: AppchainConfig;\n  chain: Chain;\n  wagmiConfig: Config;\n}) => {\n  const outputIndex = await readContract(wagmiConfig, {\n    address: config.contracts.l2OutputOracle,\n    abi: L2OutputOracleABI,\n    functionName: 'latestOutputIndex',\n    args: [],\n    chainId: chain.id,\n  });\n\n  const output = await readContract(wagmiConfig, {\n    address: config.contracts.l2OutputOracle,\n    abi: L2OutputOracleABI,\n    functionName: 'getL2Output',\n    args: [outputIndex],\n    chainId: chain.id,\n  });\n\n  return {\n    outputIndex,\n    ...output,\n  };\n};\n"],"names":["getOutput","config","chain","wagmiConfig","outputIndex","readContract","address","contracts","l2OutputOracle","abi","L2OutputOracleABI","functionName","args","chainId","id","output"],"mappings":";;AAMO,MAAMA,YAAY,OAAO;AAAA,EAC9BC;AAAAA,EACAC;AAAAA,EACAC;AAKF,MAAM;AACEC,QAAAA,cAAc,MAAMC,aAAaF,aAAa;AAAA,IAClDG,SAASL,OAAOM,UAAUC;AAAAA,IAC1BC,KAAKC;AAAAA,IACLC,cAAc;AAAA,IACdC,MAAM,CAAE;AAAA,IACRC,SAASX,MAAMY;AAAAA,EAAAA,CAChB;AAEKC,QAAAA,SAAS,MAAMV,aAAaF,aAAa;AAAA,IAC7CG,SAASL,OAAOM,UAAUC;AAAAA,IAC1BC,KAAKC;AAAAA,IACLC,cAAc;AAAA,IACdC,MAAM,CAACR,WAAW;AAAA,IAClBS,SAASX,MAAMY;AAAAA,EAAAA,CAChB;AAEM,SAAA;AAAA,IACLV;AAAAA,IACA,GAAGW;AAAAA,EACL;AACF;"}