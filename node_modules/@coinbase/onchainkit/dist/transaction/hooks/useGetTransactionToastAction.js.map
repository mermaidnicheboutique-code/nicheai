{"version":3,"file":"useGetTransactionToastAction.js","sources":["../../../src/transaction/hooks/useGetTransactionToastAction.tsx"],"sourcesContent":["import { useMemo } from 'react';\nimport type { ReactNode } from 'react';\nimport { useChainId } from 'wagmi';\nimport { useShowCallsStatus } from 'wagmi/experimental';\nimport { getChainExplorer } from '../../core/network/getChainExplorer';\nimport { cn, text } from '../../styles/theme';\nimport { useTransactionContext } from '../components/TransactionProvider';\n\nexport function useGetTransactionToastAction() {\n  const { chainId, errorMessage, onSubmit, transactionHash, transactionId } =\n    useTransactionContext();\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const accountChainId = chainId ?? useChainId();\n\n  const { showCallsStatus } = useShowCallsStatus();\n\n  return useMemo(() => {\n    const chainExplorer = getChainExplorer(accountChainId);\n\n    let actionElement: ReactNode = null;\n\n    // EOA will have txn hash\n    if (transactionHash) {\n      actionElement = (\n        <a\n          href={`${chainExplorer}/tx/${transactionHash}`}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <span className={cn(text.label1, 'text-ock-primary')}>\n            View transaction\n          </span>\n        </a>\n      );\n    }\n\n    // SW will have txn id\n    if (transactionId) {\n      actionElement = (\n        <button\n          onClick={() => showCallsStatus({ id: transactionId })}\n          type=\"button\"\n        >\n          <span className={cn(text.label1, 'text-ock-primary')}>\n            View transaction\n          </span>\n        </button>\n      );\n    }\n\n    if (errorMessage) {\n      actionElement = (\n        <button type=\"button\" onClick={onSubmit}>\n          <span className={cn(text.label1, 'text-ock-primary')}>Try again</span>\n        </button>\n      );\n    }\n\n    return { actionElement };\n  }, [\n    accountChainId,\n    errorMessage,\n    onSubmit,\n    showCallsStatus,\n    transactionHash,\n    transactionId,\n  ]);\n}\n"],"names":["useGetTransactionToastAction","chainId","errorMessage","onSubmit","transactionHash","transactionId","useTransactionContext","accountChainId","useChainId","showCallsStatus","useShowCallsStatus","useMemo","chainExplorer","getChainExplorer","actionElement","cn","text","label1","id"],"mappings":";;;;;;;AAQO,SAASA,+BAA+B;AACvC,QAAA;AAAA,IAAEC;AAAAA,IAASC;AAAAA,IAAcC;AAAAA,IAAUC;AAAAA,IAAiBC;AAAAA,MACxDC,sBAAsB;AAElBC,QAAAA,iBAAiBN,WAAWO,WAAW;AAEvC,QAAA;AAAA,IAAEC;AAAAA,MAAoBC,mBAAmB;AAE/C,SAAOC,QAAQ,MAAM;AACbC,UAAAA,gBAAgBC,iBAAiBN,cAAc;AAErD,QAAIO,gBAA2B;AAG/B,QAAIV,iBAAiB;AAEjB,sBAAA,oBAAC,OACC,MAAM,GAAGQ,aAAa,OAAOR,eAAe,IAC5C,QAAO,UACP,KAAI,cAEJ,UAAA,oBAAC,UAAK,WAAWW,GAAGC,KAAKC,QAAM,sBAAoB,GAAE,UAAA,mBAAA,CAErD,EACF,CAAA;AAAA,IAAA;AAKJ,QAAIZ,eAAe;AACjBS,sBACG,oBAAA,UAAA,EACC,SAAS,MAAML,gBAAgB;AAAA,QAAES,IAAIb;AAAAA,MAAAA,CAAe,GACpD,MAAK,UAEL,UAAC,oBAAA,QAAA,EAAK,WAAWU,GAAGC,KAAKC,QAAM,sBAAoB,GAAE,6BAErD,CAAA,GACF;AAAA,IAAA;AAIJ,QAAIf,cAAc;AAChBY,sBACG,oBAAA,UAAA,EAAO,MAAK,UAAS,SAASX,UAC7B,UAAA,oBAAC,QAAK,EAAA,WAAWY,GAAGC,KAAKC,QAA0B,sBAAA,GAAG,sBAAS,CAAA,GACjE;AAAA,IAAA;AAIG,WAAA;AAAA,MAAEH;AAAAA,IAAc;AAAA,EAAA,GACtB,CACDP,gBACAL,cACAC,UACAM,iBACAL,iBACAC,aAAa,CACd;AACH;"}