{"version":3,"file":"useSendCall.js","sources":["../../../src/transaction/hooks/useSendCall.ts"],"sourcesContent":["import type { Address } from 'viem';\nimport { useSendTransaction as useSendCallWagmi } from 'wagmi';\nimport { GENERIC_ERROR_MESSAGE } from '../constants';\nimport type { UseSendCallParams } from '../types';\nimport { isUserRejectedRequestError } from '../utils/isUserRejectedRequestError';\n\n/**\n * Wagmi hook for single transactions with calldata.\n * Supports both EOAs and Smart Wallets.\n * Does not support transaction batching or paymasters.\n */\nexport function useSendCall({\n  setLifecycleStatus,\n  transactionHashList,\n}: UseSendCallParams) {\n  const {\n    status,\n    sendTransactionAsync: sendCallAsync,\n    data,\n    reset,\n  } = useSendCallWagmi({\n    mutation: {\n      onError: (e) => {\n        const errorMessage = isUserRejectedRequestError(e)\n          ? 'Request denied.'\n          : GENERIC_ERROR_MESSAGE;\n        setLifecycleStatus({\n          statusName: 'error',\n          statusData: {\n            code: 'TmUSCh01', // Transaction module UseSendCall hook 01 error\n            error: e.message,\n            message: errorMessage,\n          },\n        });\n      },\n      onSuccess: (hash: Address) => {\n        setLifecycleStatus({\n          statusName: 'transactionLegacyExecuted',\n          statusData: {\n            transactionHashList: [...transactionHashList, hash],\n          },\n        });\n      },\n    },\n  });\n  return { status, sendCallAsync, data, reset };\n}\n"],"names":["useSendCall","setLifecycleStatus","transactionHashList","status","sendTransactionAsync","sendCallAsync","data","reset","useSendCallWagmi","mutation","onError","e","errorMessage","isUserRejectedRequestError","GENERIC_ERROR_MESSAGE","statusName","statusData","code","error","message","onSuccess","hash"],"mappings":";;;AAWO,SAASA,YAAY;AAAA,EAC1BC;AAAAA,EACAC;AACiB,GAAG;AACd,QAAA;AAAA,IACJC;AAAAA,IACAC,sBAAsBC;AAAAA,IACtBC;AAAAA,IACAC;AAAAA,MACEC,mBAAiB;AAAA,IACnBC,UAAU;AAAA,MACRC,SAAUC,CAAM,MAAA;AACd,cAAMC,eAAeC,2BAA2BF,CAAC,IAC7C,oBACAG;AACe,2BAAA;AAAA,UACjBC,YAAY;AAAA,UACZC,YAAY;AAAA,YACVC,MAAM;AAAA;AAAA,YACNC,OAAOP,EAAEQ;AAAAA,YACTA,SAASP;AAAAA,UAAAA;AAAAA,QACX,CACD;AAAA,MACH;AAAA,MACAQ,WAAWA,CAACC,SAAkB;AACT,2BAAA;AAAA,UACjBN,YAAY;AAAA,UACZC,YAAY;AAAA,YACVd,qBAAqB,CAAC,GAAGA,qBAAqBmB,IAAI;AAAA,UAAA;AAAA,QACpD,CACD;AAAA,MAAA;AAAA,IACH;AAAA,EACF,CACD;AACM,SAAA;AAAA,IAAElB;AAAAA,IAAQE;AAAAA,IAAeC;AAAAA,IAAMC;AAAAA,EAAM;AAC9C;"}