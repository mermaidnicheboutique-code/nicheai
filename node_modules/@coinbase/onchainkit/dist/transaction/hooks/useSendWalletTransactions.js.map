{"version":3,"file":"useSendWalletTransactions.js","sources":["../../../src/transaction/hooks/useSendWalletTransactions.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport type { ContractFunctionParameters } from 'viem';\nimport { useConfig } from 'wagmi';\nimport { Capabilities } from '../../core/constants';\nimport type { Call, UseSendWalletTransactionsParams } from '../types';\nimport { sendBatchedTransactions } from '../utils/sendBatchedTransactions';\nimport { sendSingleTransactions } from '../utils/sendSingleTransactions';\n\n/**\n * Sends transactions to the wallet using the appropriate hook based on Transaction props and wallet capabilities\n */\nexport const useSendWalletTransactions = ({\n  capabilities,\n  sendCallAsync,\n  sendCallsAsync,\n  walletCapabilities,\n}: UseSendWalletTransactionsParams) => {\n  const config = useConfig();\n  return useCallback(\n    async (\n      transactions?:\n        | Call[]\n        | ContractFunctionParameters[]\n        | Promise<Call[]>\n        | Promise<ContractFunctionParameters[]>\n        | Array<Call | ContractFunctionParameters>,\n    ) => {\n      if (!transactions) {\n        return;\n      }\n\n      const resolvedTransactions = await Promise.resolve(transactions);\n\n      if (walletCapabilities[Capabilities.AtomicBatch]?.supported) {\n        // Batched transactions\n        await sendBatchedTransactions({\n          capabilities,\n          sendCallsAsync,\n          transactions: resolvedTransactions,\n        });\n      } else {\n        // Non-batched transactions\n        await sendSingleTransactions({\n          config,\n          sendCallAsync,\n          transactions: resolvedTransactions,\n        });\n      }\n    },\n    [sendCallsAsync, sendCallAsync, capabilities, walletCapabilities, config],\n  );\n};\n"],"names":["useSendWalletTransactions","capabilities","sendCallAsync","sendCallsAsync","walletCapabilities","config","useConfig","useCallback","transactions","resolvedTransactions","Promise","resolve","Capabilities","AtomicBatch","supported","sendBatchedTransactions","sendSingleTransactions"],"mappings":";;;;;AAWO,MAAMA,4BAA4BA,CAAC;AAAA,EACxCC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAC+B,MAAM;AACrC,QAAMC,SAASC,UAAU;AAClBC,SAAAA,YACL,OACEC,iBAMG;;AACH,QAAI,CAACA,cAAc;AACjB;AAAA,IAAA;AAGF,UAAMC,uBAAuB,MAAMC,QAAQC,QAAQH,YAAY;AAE/D,SAAIJ,wBAAmBQ,aAAaC,WAAW,MAA3CT,mBAA8CU,WAAW;AAE3D,YAAMC,wBAAwB;AAAA,QAC5Bd;AAAAA,QACAE;AAAAA,QACAK,cAAcC;AAAAA,MAAAA,CACf;AAAA,IAAA,OACI;AAEL,YAAMO,uBAAuB;AAAA,QAC3BX;AAAAA,QACAH;AAAAA,QACAM,cAAcC;AAAAA,MAAAA,CACf;AAAA,IAAA;AAAA,EACH,GAEF,CAACN,gBAAgBD,eAAeD,cAAcG,oBAAoBC,MAAM,CAC1E;AACF;"}