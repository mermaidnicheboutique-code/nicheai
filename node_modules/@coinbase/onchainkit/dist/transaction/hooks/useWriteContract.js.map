{"version":3,"file":"useWriteContract.js","sources":["../../../src/transaction/hooks/useWriteContract.ts"],"sourcesContent":["import type { Address } from 'viem';\nimport { useWriteContract as useWriteContractWagmi } from 'wagmi';\nimport { GENERIC_ERROR_MESSAGE } from '../constants';\nimport type { UseWriteContractParams } from '../types';\nimport { isUserRejectedRequestError } from '../utils/isUserRejectedRequestError';\n\n/**\n * Wagmi hook for single contract transactions.\n * Supports both EOAs and Smart Wallets.\n * Does not support transaction batching or paymasters.\n */\nexport function useWriteContract({\n  setLifecycleStatus,\n  transactionHashList,\n}: UseWriteContractParams) {\n  const { status, writeContractAsync, data } = useWriteContractWagmi({\n    mutation: {\n      onError: (e) => {\n        const errorMessage = isUserRejectedRequestError(e)\n          ? 'Request denied.'\n          : GENERIC_ERROR_MESSAGE;\n        setLifecycleStatus({\n          statusName: 'error',\n          statusData: {\n            code: 'TmUWCh01', // Transaction module UseWriteContract hook 01 error\n            error: e.message,\n            message: errorMessage,\n          },\n        });\n      },\n      onSuccess: (hash: Address) => {\n        setLifecycleStatus({\n          statusName: 'transactionLegacyExecuted',\n          statusData: {\n            transactionHashList: [...transactionHashList, hash],\n          },\n        });\n      },\n    },\n  });\n  return { status, writeContractAsync, data };\n}\n"],"names":["useWriteContract","setLifecycleStatus","transactionHashList","status","writeContractAsync","data","useWriteContractWagmi","mutation","onError","e","errorMessage","isUserRejectedRequestError","GENERIC_ERROR_MESSAGE","statusName","statusData","code","error","message","onSuccess","hash"],"mappings":";;;AAWO,SAASA,iBAAiB;AAAA,EAC/BC;AAAAA,EACAC;AACsB,GAAG;AACnB,QAAA;AAAA,IAAEC;AAAAA,IAAQC;AAAAA,IAAoBC;AAAAA,MAASC,mBAAsB;AAAA,IACjEC,UAAU;AAAA,MACRC,SAAUC,CAAM,MAAA;AACd,cAAMC,eAAeC,2BAA2BF,CAAC,IAC7C,oBACAG;AACe,2BAAA;AAAA,UACjBC,YAAY;AAAA,UACZC,YAAY;AAAA,YACVC,MAAM;AAAA;AAAA,YACNC,OAAOP,EAAEQ;AAAAA,YACTA,SAASP;AAAAA,UAAAA;AAAAA,QACX,CACD;AAAA,MACH;AAAA,MACAQ,WAAWA,CAACC,SAAkB;AACT,2BAAA;AAAA,UACjBN,YAAY;AAAA,UACZC,YAAY;AAAA,YACVZ,qBAAqB,CAAC,GAAGA,qBAAqBiB,IAAI;AAAA,UAAA;AAAA,QACpD,CACD;AAAA,MAAA;AAAA,IACH;AAAA,EACF,CACD;AACM,SAAA;AAAA,IAAEhB;AAAAA,IAAQC;AAAAA,IAAoBC;AAAAA,EAAK;AAC5C;"}