{"version":3,"file":"useGetTransactionStatusLabel.js","sources":["../../../src/transaction/hooks/useGetTransactionStatusLabel.tsx"],"sourcesContent":["import { useMemo } from 'react';\nimport { useTransactionContext } from '../components/TransactionProvider';\nimport { prefixClassName } from '../../styles/theme';\n\nexport function useGetTransactionStatusLabel() {\n  const {\n    errorMessage,\n    isLoading,\n    receipt,\n    lifecycleStatus,\n    transactionHash,\n    transactionId,\n  } = useTransactionContext();\n  // user confirmed in wallet, txn in progress\n  const isInProgress = isLoading || !!transactionId || !!transactionHash;\n\n  // user started txn and needs to confirm in wallet\n  const isPending = lifecycleStatus.statusName === 'transactionPending';\n\n  // waiting for calls or contracts promise to resolve\n  const isBuildingTransaction =\n    lifecycleStatus.statusName === 'buildingTransaction';\n\n  return useMemo(() => {\n    let label = '';\n    let labelClassName: string = 'text-ock-foreground-muted';\n\n    if (isBuildingTransaction) {\n      label = 'Building transaction...';\n    }\n\n    if (isPending) {\n      label = 'Confirm in wallet.';\n    }\n\n    if (isInProgress) {\n      label = 'Transaction in progress...';\n    }\n\n    if (receipt) {\n      label = 'Successful';\n    }\n\n    if (errorMessage) {\n      label = errorMessage;\n      labelClassName = 'text-ock-error';\n    }\n\n    return { label, labelClassName: prefixClassName(labelClassName) };\n  }, [errorMessage, isBuildingTransaction, isInProgress, isPending, receipt]);\n}\n"],"names":["useGetTransactionStatusLabel","errorMessage","isLoading","receipt","lifecycleStatus","transactionHash","transactionId","useTransactionContext","isInProgress","isPending","statusName","isBuildingTransaction","useMemo","label","labelClassName","prefixClassName"],"mappings":";;;AAIO,SAASA,+BAA+B;AACvC,QAAA;AAAA,IACJC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,MACEC,sBAAsB;AAE1B,QAAMC,eAAeN,aAAa,CAAC,CAACI,iBAAiB,CAAC,CAACD;AAGjDI,QAAAA,YAAYL,gBAAgBM,eAAe;AAG3CC,QAAAA,wBACJP,gBAAgBM,eAAe;AAEjC,SAAOE,QAAQ,MAAM;AACnB,QAAIC,QAAQ;AACZ,QAAIC,iBAAyB;AAE7B,QAAIH,uBAAuB;AACjB,cAAA;AAAA,IAAA;AAGV,QAAIF,WAAW;AACL,cAAA;AAAA,IAAA;AAGV,QAAID,cAAc;AACR,cAAA;AAAA,IAAA;AAGV,QAAIL,SAAS;AACH,cAAA;AAAA,IAAA;AAGV,QAAIF,cAAc;AACRA,cAAAA;AACS,uBAAA;AAAA,IAAA;AAGZ,WAAA;AAAA,MAAEY;AAAAA,MAAOC,gBAAgBC,gBAAgBD,cAAc;AAAA,IAAE;AAAA,EAAA,GAC/D,CAACb,cAAcU,uBAAuBH,cAAcC,WAAWN,OAAO,CAAC;AAC5E;"}