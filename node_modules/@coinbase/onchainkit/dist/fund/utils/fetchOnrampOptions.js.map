{"version":3,"file":"fetchOnrampOptions.js","sources":["../../../src/fund/utils/fetchOnrampOptions.ts"],"sourcesContent":["import { convertSnakeToCamelCase } from '../../internal/utils/convertSnakeToCamelCase';\nimport { getApiKey } from '../../internal/utils/getApiKey';\nimport { ONRAMP_API_BASE_URL } from '../constants';\nimport type { OnrampOptionsResponseData } from '../types';\n\n/**\n * Returns supported fiat currencies and available crypto assets that can be passed into the Buy Quote API.\n *\n * @param country ISO 3166-1 two-digit country code string representing the purchasing user’s country of residence, e.g., US. `required`\n * @param subdivision ISO 3166-2 two-digit country subdivision code representing the purchasing user’s subdivision of residence within their country, e.g. `NY`.\n */\nexport async function fetchOnrampOptions({\n  country,\n  subdivision,\n  apiKey,\n}: {\n  country: string;\n  subdivision?: string;\n  apiKey?: string;\n}): Promise<OnrampOptionsResponseData> {\n  const cpdApiKey = apiKey || getApiKey();\n\n  let queryParams = `?country=${country}`;\n\n  if (subdivision) {\n    queryParams = `${queryParams}&subdivision=${subdivision}`;\n  }\n\n  const response = await fetch(\n    `${ONRAMP_API_BASE_URL}/buy/options${queryParams}`,\n    {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${cpdApiKey}`,\n      },\n    },\n  );\n\n  const responseJson = await response.json();\n\n  return convertSnakeToCamelCase<OnrampOptionsResponseData>(responseJson);\n}\n"],"names":["fetchOnrampOptions","country","subdivision","apiKey","cpdApiKey","getApiKey","queryParams","response","fetch","ONRAMP_API_BASE_URL","method","headers","Authorization","responseJson","json","convertSnakeToCamelCase"],"mappings":";;;AAWA,eAAsBA,mBAAmB;AAAA,EACvCC;AAAAA,EACAC;AAAAA,EACAC;AAKF,GAAuC;AAC/BC,QAAAA,YAAYD,UAAUE,UAAU;AAElCC,MAAAA,cAAc,YAAYL,OAAO;AAErC,MAAIC,aAAa;AACD,kBAAA,GAAGI,WAAW,gBAAgBJ,WAAW;AAAA,EAAA;AAGzD,QAAMK,WAAW,MAAMC,MACrB,GAAGC,mBAAmB,eAAeH,WAAW,IAChD;AAAA,IACEI,QAAQ;AAAA,IACRC,SAAS;AAAA,MACPC,eAAe,UAAUR,SAAS;AAAA,IAAA;AAAA,EACpC,CAEJ;AAEMS,QAAAA,eAAe,MAAMN,SAASO,KAAK;AAEzC,SAAOC,wBAAmDF,YAAY;AACxE;"}