{"version":3,"file":"getTokens.js","sources":["../../src/api/getTokens.ts"],"sourcesContent":["import { RequestContext, RequestContextType } from '@/core/network/constants';\nimport { CDP_LIST_SWAP_ASSETS } from '../core/network/definitions/swap';\nimport { sendRequest } from '../core/network/request';\nimport type { Token } from '../token/types';\nimport type { GetTokensOptions, GetTokensResponse } from './types';\nimport { ApiErrorCode } from './constants';\nimport { buildErrorStruct } from './utils/buildErrorStruct';\n\n/**\n * Retrieves a list of tokens on Base.\n */\nexport async function getTokens(\n  options?: GetTokensOptions,\n  _context: RequestContextType = RequestContext.API,\n): Promise<GetTokensResponse> {\n  // Default filter values\n  const defaultFilter: GetTokensOptions = {\n    limit: '50',\n    page: '1',\n  };\n  const filters = { ...defaultFilter, ...options };\n\n  try {\n    const res = await sendRequest<GetTokensOptions, Token[]>(\n      CDP_LIST_SWAP_ASSETS,\n      [filters],\n      _context,\n    );\n    if (res.error) {\n      return buildErrorStruct({\n        code: ApiErrorCode.AMGTa01,\n        error: res.error.code.toString(),\n        message: res.error.message,\n      });\n    }\n    return res.result;\n  } catch (error) {\n    return buildErrorStruct({\n      code: ApiErrorCode.AMGTa02,\n      error: JSON.stringify(error),\n      message: 'Request failed',\n    });\n  }\n}\n"],"names":["getTokens","options","_context","RequestContext","API","defaultFilter","limit","page","filters","res","sendRequest","CDP_LIST_SWAP_ASSETS","error","buildErrorStruct","code","ApiErrorCode","AMGTa01","toString","message","result","AMGTa02","JSON","stringify"],"mappings":";;;;;AAWA,eAAsBA,UACpBC,SACAC,WAA+BC,eAAeC,KAClB;AAE5B,QAAMC,gBAAkC;AAAA,IACtCC,OAAO;AAAA,IACPC,MAAM;AAAA,EACR;AACA,QAAMC,UAAU;AAAA,IAAE,GAAGH;AAAAA,IAAe,GAAGJ;AAAAA,EAAQ;AAE3C,MAAA;AACF,UAAMQ,MAAM,MAAMC,YAChBC,sBACA,CAACH,OAAO,GACRN,QACF;AACA,QAAIO,IAAIG,OAAO;AACb,aAAOC,iBAAiB;AAAA,QACtBC,MAAMC,aAAaC;AAAAA,QACnBJ,OAAOH,IAAIG,MAAME,KAAKG,SAAS;AAAA,QAC/BC,SAAST,IAAIG,MAAMM;AAAAA,MAAAA,CACpB;AAAA,IAAA;AAEH,WAAOT,IAAIU;AAAAA,WACJP,OAAO;AACd,WAAOC,iBAAiB;AAAA,MACtBC,MAAMC,aAAaK;AAAAA,MACnBR,OAAOS,KAAKC,UAAUV,KAAK;AAAA,MAC3BM,SAAS;AAAA,IAAA,CACV;AAAA,EAAA;AAEL;"}