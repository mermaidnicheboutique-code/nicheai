{"version":3,"file":"buildMintTransaction.js","sources":["../../src/api/buildMintTransaction.ts"],"sourcesContent":["import { RequestContext, RequestContextType } from '@/core/network/constants';\nimport { CDP_MINT_TOKEN } from '../core/network/definitions/nft';\nimport { sendRequest } from '../core/network/request';\nimport type {\n  BuildMintTransactionParams,\n  BuildMintTransactionResponse,\n} from './types';\nimport { buildErrorStruct } from './utils/buildErrorStruct';\nimport { ApiErrorCode } from './constants';\n\n/**\n * Retrieves contract to mint an NFT\n */\nexport async function buildMintTransaction(\n  params: BuildMintTransactionParams,\n  context: RequestContextType = RequestContext.API,\n): Promise<BuildMintTransactionResponse> {\n  const { mintAddress, tokenId, network = '', quantity, takerAddress } = params;\n\n  try {\n    const res = await sendRequest<\n      BuildMintTransactionParams,\n      BuildMintTransactionResponse\n    >(\n      CDP_MINT_TOKEN,\n      [\n        {\n          mintAddress,\n          network,\n          quantity,\n          takerAddress,\n          tokenId,\n        },\n      ],\n      context,\n    );\n    if (res.error) {\n      return buildErrorStruct({\n        code: `${res.error.code}`,\n        error: 'Error building mint transaction',\n        message: res.error.message,\n      });\n    }\n\n    return res.result;\n  } catch {\n    return buildErrorStruct({\n      code: ApiErrorCode.UncaughtNft,\n      error: 'Something went wrong',\n      message: 'Error building mint transaction',\n    });\n  }\n}\n"],"names":["buildMintTransaction","params","context","RequestContext","API","mintAddress","tokenId","network","quantity","takerAddress","res","sendRequest","CDP_MINT_TOKEN","error","buildErrorStruct","code","message","result","ApiErrorCode","UncaughtNft"],"mappings":";;;;;AAaA,eAAsBA,qBACpBC,QACAC,UAA8BC,eAAeC,KACN;AACjC,QAAA;AAAA,IAAEC;AAAAA,IAAaC;AAAAA,IAASC,UAAU;AAAA,IAAIC;AAAAA,IAAUC;AAAAA,EAAAA,IAAiBR;AAEnE,MAAA;AACF,UAAMS,MAAM,MAAMC,YAIhBC,gBACA,CACE;AAAA,MACEP;AAAAA,MACAE;AAAAA,MACAC;AAAAA,MACAC;AAAAA,MACAH;AAAAA,IACD,CAAA,GAEHJ,OACF;AACA,QAAIQ,IAAIG,OAAO;AACb,aAAOC,iBAAiB;AAAA,QACtBC,MAAM,GAAGL,IAAIG,MAAME,IAAI;AAAA,QACvBF,OAAO;AAAA,QACPG,SAASN,IAAIG,MAAMG;AAAAA,MAAAA,CACpB;AAAA,IAAA;AAGH,WAAON,IAAIO;AAAAA,EAAAA,QACL;AACN,WAAOH,iBAAiB;AAAA,MACtBC,MAAMG,aAAaC;AAAAA,MACnBN,OAAO;AAAA,MACPG,SAAS;AAAA,IAAA,CACV;AAAA,EAAA;AAEL;"}