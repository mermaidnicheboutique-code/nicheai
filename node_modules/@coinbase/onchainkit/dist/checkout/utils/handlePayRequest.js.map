{"version":3,"file":"handlePayRequest.js","sources":["../../../src/checkout/utils/handlePayRequest.ts"],"sourcesContent":["import { buildPayTransaction } from '@/api';\nimport type { BuildPayTransactionParams } from '@/api';\nimport { RequestContext } from '@/core/network/constants';\nimport type { HandlePayRequestParams } from '../types';\n\nexport const handlePayRequest = async ({\n  address,\n  chargeHandler,\n  productId,\n}: HandlePayRequestParams) => {\n  const buildPayTransactionParams: BuildPayTransactionParams = {\n    address,\n  };\n\n  if (chargeHandler) {\n    buildPayTransactionParams.chargeId = await chargeHandler();\n  } else if (productId) {\n    buildPayTransactionParams.productId = productId;\n  }\n\n  const response = await buildPayTransaction(\n    buildPayTransactionParams,\n    RequestContext.Checkout,\n  );\n\n  if ('error' in response) {\n    throw new Error(response.error);\n  }\n\n  return response;\n};\n"],"names":["handlePayRequest","address","chargeHandler","productId","buildPayTransactionParams","chargeId","response","buildPayTransaction","RequestContext","Checkout","Error","error"],"mappings":";;;;;AAKO,MAAMA,mBAAmB,OAAO;AAAA,EACrCC;AAAAA,EACAC;AAAAA,EACAC;AACsB,MAAM;AAC5B,QAAMC,4BAAuD;AAAA,IAC3DH;AAAAA,EACF;AAEA,MAAIC,eAAe;AACSG,8BAAAA,WAAW,MAAMH,cAAc;AAAA,aAChDC,WAAW;AACpBC,8BAA0BD,YAAYA;AAAAA,EAAAA;AAGxC,QAAMG,WAAW,MAAMC,oBACrBH,2BACAI,eAAeC,QACjB;AAEA,MAAI,WAAWH,UAAU;AACjB,UAAA,IAAII,MAAMJ,SAASK,KAAK;AAAA,EAAA;AAGzBL,SAAAA;AACT;"}