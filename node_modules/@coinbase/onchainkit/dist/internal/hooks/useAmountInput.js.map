{"version":3,"file":"useAmountInput.js","sources":["../../../src/internal/hooks/useAmountInput.tsx"],"sourcesContent":["import { truncateDecimalPlaces } from '@/internal/utils/truncateDecimalPlaces';\nimport { useCallback, useMemo } from 'react';\n\ntype UseAmountInputParams = {\n  setFiatAmount: (value: string) => void;\n  setCryptoAmount: (value: string) => void;\n  selectedInputType: 'fiat' | 'crypto';\n  exchangeRate: string;\n};\n\nexport const useAmountInput = ({\n  setFiatAmount,\n  setCryptoAmount,\n  selectedInputType,\n  exchangeRate,\n}: UseAmountInputParams) => {\n  const handleFiatChange = useCallback(\n    (value: string) => {\n      const fiatValue = truncateDecimalPlaces(value, 2);\n      setFiatAmount(fiatValue);\n\n      const calculatedCryptoValue = String(\n        Number(fiatValue) * Number(exchangeRate),\n      );\n      const resultCryptoValue = truncateDecimalPlaces(calculatedCryptoValue, 8);\n      setCryptoAmount(calculatedCryptoValue === '0' ? '' : resultCryptoValue);\n    },\n    [exchangeRate, setFiatAmount, setCryptoAmount],\n  );\n\n  const handleCryptoChange = useCallback(\n    (value: string) => {\n      const truncatedValue = truncateDecimalPlaces(value, 8);\n      setCryptoAmount(truncatedValue);\n\n      const calculatedFiatValue = String(\n        Number(truncatedValue) / Number(exchangeRate),\n      );\n\n      const resultFiatValue = truncateDecimalPlaces(calculatedFiatValue, 2);\n      setFiatAmount(resultFiatValue === '0' ? '' : resultFiatValue);\n    },\n    [exchangeRate, setFiatAmount, setCryptoAmount],\n  );\n\n  const handleChange = useCallback(\n    (value: string, onChange?: (value: string) => void) => {\n      if (selectedInputType === 'fiat') {\n        handleFiatChange(value);\n      } else {\n        handleCryptoChange(value);\n      }\n\n      onChange?.(value);\n    },\n    [handleFiatChange, handleCryptoChange, selectedInputType],\n  );\n\n  return useMemo(\n    () => ({\n      handleChange,\n      handleFiatChange,\n      handleCryptoChange,\n    }),\n    [handleChange, handleFiatChange, handleCryptoChange],\n  );\n};\n"],"names":["useAmountInput","setFiatAmount","setCryptoAmount","selectedInputType","exchangeRate","handleFiatChange","useCallback","value","fiatValue","truncateDecimalPlaces","calculatedCryptoValue","String","Number","resultCryptoValue","handleCryptoChange","truncatedValue","calculatedFiatValue","resultFiatValue","handleChange","onChange","useMemo"],"mappings":";;AAUO,MAAMA,iBAAiBA,CAAC;AAAA,EAC7BC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACoB,MAAM;AACpBC,QAAAA,mBAAmBC,YACvB,CAACC,UAAkB;AACXC,UAAAA,YAAYC,sBAAsBF,OAAO,CAAC;AAChDN,kBAAcO,SAAS;AAEvB,UAAME,wBAAwBC,OAC5BC,OAAOJ,SAAS,IAAII,OAAOR,YAAY,CACzC;AACMS,UAAAA,oBAAoBJ,sBAAsBC,uBAAuB,CAAC;AACxDA,oBAAAA,0BAA0B,MAAM,KAAKG,iBAAiB;AAAA,EAExE,GAAA,CAACT,cAAcH,eAAeC,eAAe,CAC/C;AAEMY,QAAAA,qBAAqBR,YACzB,CAACC,UAAkB;AACXQ,UAAAA,iBAAiBN,sBAAsBF,OAAO,CAAC;AACrDL,oBAAgBa,cAAc;AAE9B,UAAMC,sBAAsBL,OAC1BC,OAAOG,cAAc,IAAIH,OAAOR,YAAY,CAC9C;AAEMa,UAAAA,kBAAkBR,sBAAsBO,qBAAqB,CAAC;AACtDC,kBAAAA,oBAAoB,MAAM,KAAKA,eAAe;AAAA,EAE9D,GAAA,CAACb,cAAcH,eAAeC,eAAe,CAC/C;AAEA,QAAMgB,eAAeZ,YACnB,CAACC,OAAeY,aAAuC;AACrD,QAAIhB,sBAAsB,QAAQ;AAChCE,uBAAiBE,KAAK;AAAA,IAAA,OACjB;AACLO,yBAAmBP,KAAK;AAAA,IAAA;AAG1BY,yCAAWZ;AAAAA,EAEb,GAAA,CAACF,kBAAkBS,oBAAoBX,iBAAiB,CAC1D;AAEA,SAAOiB,QACL,OAAO;AAAA,IACLF;AAAAA,IACAb;AAAAA,IACAS;AAAAA,EAEF,IAAA,CAACI,cAAcb,kBAAkBS,kBAAkB,CACrD;AACF;"}