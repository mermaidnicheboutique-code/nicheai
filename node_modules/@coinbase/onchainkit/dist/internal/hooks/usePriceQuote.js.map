{"version":3,"file":"usePriceQuote.js","sources":["../../../src/internal/hooks/usePriceQuote.ts"],"sourcesContent":["import { getPriceQuote } from '@/api';\nimport type { GetPriceQuoteResponse, PriceQuoteToken } from '@/api/types';\nimport { RequestContext, RequestContextType } from '@/core/network/constants';\nimport { DEFAULT_QUERY_OPTIONS } from '@/internal/constants';\nimport { isApiError } from '@/internal/utils/isApiResponseError';\nimport {\n  type UseQueryOptions,\n  type UseQueryResult,\n  useQuery,\n} from '@tanstack/react-query';\n\ntype UsePriceQuoteParams<T> = {\n  token: PriceQuoteToken | undefined;\n  queryOptions?: Omit<UseQueryOptions<T>, 'queryKey' | 'queryFn'>;\n};\n\nexport function usePriceQuote(\n  params: UsePriceQuoteParams<GetPriceQuoteResponse>,\n  _context: RequestContextType = RequestContext.Hook,\n): UseQueryResult<GetPriceQuoteResponse> {\n  const { token, queryOptions } = params;\n\n  return useQuery({\n    queryKey: ['getPriceQuote', token],\n    queryFn: async () => {\n      if (!token) {\n        return {\n          priceQuotes: [],\n        };\n      }\n\n      const response = await getPriceQuote({ tokens: [token] }, _context);\n\n      if (isApiError(response)) {\n        throw response;\n      }\n\n      return response;\n    },\n    ...DEFAULT_QUERY_OPTIONS,\n    ...queryOptions,\n  });\n}\n"],"names":["usePriceQuote","params","_context","RequestContext","Hook","token","queryOptions","useQuery","queryKey","queryFn","priceQuotes","response","getPriceQuote","tokens","isApiError","DEFAULT_QUERY_OPTIONS"],"mappings":";;;;;;;;AAgBO,SAASA,cACdC,QACAC,WAA+BC,eAAeC,MACP;AACjC,QAAA;AAAA,IAAEC;AAAAA,IAAOC;AAAAA,EAAAA,IAAiBL;AAEhC,SAAOM,SAAS;AAAA,IACdC,UAAU,CAAC,iBAAiBH,KAAK;AAAA,IACjCI,SAAS,YAAY;AACnB,UAAI,CAACJ,OAAO;AACH,eAAA;AAAA,UACLK,aAAa,CAAA;AAAA,QACf;AAAA,MAAA;AAGIC,YAAAA,WAAW,MAAMC,cAAc;AAAA,QAAEC,QAAQ,CAACR,KAAK;AAAA,SAAKH,QAAQ;AAE9DY,UAAAA,WAAWH,QAAQ,GAAG;AAClBA,cAAAA;AAAAA,MAAAA;AAGDA,aAAAA;AAAAA,IACT;AAAA,IACA,GAAGI;AAAAA,IACH,GAAGT;AAAAA,EAAAA,CACJ;AACH;"}