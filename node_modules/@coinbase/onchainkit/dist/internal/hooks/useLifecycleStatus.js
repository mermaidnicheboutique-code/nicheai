import { useState, useCallback } from "react";
function useLifecycleStatus(initialState, options) {
  const [lifecycleStatus, setLifecycleStatus] = useState(initialState);
  const {
    onStatus
  } = options ?? {};
  const updateLifecycleStatus = useCallback((newStatus) => {
    setLifecycleStatus((prevStatus) => {
      const persistedStatusData = prevStatus.statusName === "error" ? (
        // eslint-disable-next-line @typescript-eslint/no-unused-vars
        (({
          error,
          code,
          message,
          ...statusData
        }) => statusData)(prevStatus.statusData)
      ) : prevStatus.statusData;
      const nextStatus = {
        statusName: newStatus.statusName,
        statusData: {
          ...persistedStatusData,
          ...newStatus.statusData
        }
      };
      onStatus == null ? void 0 : onStatus(nextStatus);
      return nextStatus;
    });
  }, [onStatus]);
  return [lifecycleStatus, updateLifecycleStatus];
}
export {
  useLifecycleStatus
};
//# sourceMappingURL=useLifecycleStatus.js.map
