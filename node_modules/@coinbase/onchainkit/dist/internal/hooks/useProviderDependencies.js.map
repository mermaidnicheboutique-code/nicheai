{"version":3,"file":"useProviderDependencies.js","sources":["../../../src/internal/hooks/useProviderDependencies.tsx"],"sourcesContent":["import { type QueryClient, useQueryClient } from '@tanstack/react-query';\nimport { useMemo } from 'react';\nimport { type Config, WagmiProviderNotFoundError, useConfig } from 'wagmi';\n\n/** useProviderDependencies will return the provided Wagmi configuration and QueryClient if they exist in the React context, otherwise it will return null\n * NotFound errors will fail gracefully\n * Unexpected errors will be logged to the console as an error, and will return null for the problematic dependency\n */\nexport function useProviderDependencies() {\n  /** Check the context for WagmiProvider\n   * Wagmi configuration defaults to the provided config if it exists\n   * Otherwise, use the OnchainKit-provided Wagmi configuration\n   */\n  let providedWagmiConfig: Config | null = null;\n  let providedQueryClient: QueryClient | null = null;\n\n  try {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    providedWagmiConfig = useConfig();\n  } catch (error) {\n    if (!(error instanceof WagmiProviderNotFoundError)) {\n      console.error('Error fetching WagmiProvider, using default:', error);\n    }\n  }\n\n  try {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    providedQueryClient = useQueryClient();\n  } catch (error) {\n    if (\n      !(\n        (error as Error).message ===\n        'No QueryClient set, use QueryClientProvider to set one'\n      )\n    ) {\n      console.error('Error fetching QueryClient, using default:', error);\n    }\n  }\n\n  return useMemo(() => {\n    return {\n      providedWagmiConfig,\n      providedQueryClient,\n    };\n  }, [providedWagmiConfig, providedQueryClient]);\n}\n"],"names":["useProviderDependencies","providedWagmiConfig","providedQueryClient","useConfig","error","WagmiProviderNotFoundError","useQueryClient","message","useMemo"],"mappings":";;;AAQO,SAASA,0BAA0B;AAKxC,MAAIC,sBAAqC;AACzC,MAAIC,sBAA0C;AAE1C,MAAA;AAEFD,0BAAsBE,UAAU;AAAA,WACzBC,OAAO;AACV,QAAA,EAAEA,iBAAiBC,6BAA6B;AAC1CD,cAAAA,MAAM,gDAAgDA,KAAK;AAAA,IAAA;AAAA,EACrE;AAGE,MAAA;AAEFF,0BAAsBI,eAAe;AAAA,WAC9BF,OAAO;AAEZ,QAAA,EACGA,MAAgBG,YACjB,2DAEF;AACQH,cAAAA,MAAM,8CAA8CA,KAAK;AAAA,IAAA;AAAA,EACnE;AAGF,SAAOI,QAAQ,MAAM;AACZ,WAAA;AAAA,MACLP;AAAAA,MACAC;AAAAA,IACF;AAAA,EAAA,GACC,CAACD,qBAAqBC,mBAAmB,CAAC;AAC/C;"}