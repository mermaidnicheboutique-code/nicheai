{"version":3,"file":"crypto.js","sources":["../../../src/internal/utils/crypto.ts"],"sourcesContent":["// Secure fallback using crypto.getRandomValues\nconst getRandomValues = (size: number) => {\n  const array = new Uint8Array(size);\n  crypto.getRandomValues(array);\n  return array;\n};\n\n/**\n * Generates a UUID using the crypto API if available, otherwise falls back to a\n * more insecure method. Only use this for non-critical purposes.\n *\n * @returns A UUID string that may not be cryptographically secure\n */\nexport const generateUUIDWithInsecureFallback = () => {\n  if (\n    typeof crypto !== 'undefined' &&\n    typeof crypto.randomUUID === 'function'\n  ) {\n    return crypto.randomUUID();\n  }\n\n  const bytes = getRandomValues(16);\n  // Format the random bytes into a UUID string\n  return (\n    bytes[0].toString(16).padStart(2, '0') +\n    bytes[1].toString(16).padStart(2, '0') +\n    bytes[2].toString(16).padStart(2, '0') +\n    bytes[3].toString(16).padStart(2, '0') +\n    '-' +\n    bytes[4].toString(16).padStart(2, '0') +\n    bytes[5].toString(16).padStart(2, '0') +\n    '-' +\n    ((bytes[6] & 0x0f) | 0x40).toString(16).padStart(2, '0') + // UUID version 4\n    bytes[7].toString(16).padStart(2, '0') +\n    '-' +\n    ((bytes[8] & 0x3f) | 0x80).toString(16).padStart(2, '0') + // UUID variant\n    bytes[9].toString(16).padStart(2, '0') +\n    '-' +\n    bytes[10].toString(16).padStart(2, '0') +\n    bytes[11].toString(16).padStart(2, '0') +\n    bytes[12].toString(16).padStart(2, '0') +\n    bytes[13].toString(16).padStart(2, '0') +\n    bytes[14].toString(16).padStart(2, '0') +\n    bytes[15].toString(16).padStart(2, '0')\n  );\n};\n"],"names":["getRandomValues","size","array","Uint8Array","crypto","generateUUIDWithInsecureFallback","randomUUID","bytes","toString","padStart"],"mappings":"AACA,MAAMA,kBAAkBA,CAACC,SAAiB;AAClCC,QAAAA,QAAQ,IAAIC,WAAWF,IAAI;AACjCG,SAAOJ,gBAAgBE,KAAK;AACrBA,SAAAA;AACT;AAQO,MAAMG,mCAAmCA,MAAM;AACpD,MACE,OAAOD,WAAW,eAClB,OAAOA,OAAOE,eAAe,YAC7B;AACA,WAAOF,OAAOE,WAAW;AAAA,EAAA;AAGrBC,QAAAA,QAAQP,gBAAgB,EAAE;AAEhC,SACEO,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrCF,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrCF,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrCF,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrC,MACAF,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrCF,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrC,OACEF,MAAM,CAAC,IAAI,KAAQ,IAAMC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG;AAAA,EACvDF,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrC,OACEF,MAAM,CAAC,IAAI,KAAQ,KAAMC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG;AAAA,EACvDF,MAAM,CAAC,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACrC,MACAF,MAAM,EAAE,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACtCF,MAAM,EAAE,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACtCF,MAAM,EAAE,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACtCF,MAAM,EAAE,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACtCF,MAAM,EAAE,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG,IACtCF,MAAM,EAAE,EAAEC,SAAS,EAAE,EAAEC,SAAS,GAAG,GAAG;AAE1C;"}