{"version":3,"file":"AmountInputTypeSwitch.js","sources":["../../../../src/internal/components/amount-input/AmountInputTypeSwitch.tsx"],"sourcesContent":["import { cn, pressable, text } from '@/styles/theme';\nimport { useCallback, useMemo } from 'react';\nimport { useIcon } from '../../hooks/useIcon';\nimport { formatFiatAmount } from '../../utils/formatFiatAmount';\nimport { truncateDecimalPlaces } from '../../utils/truncateDecimalPlaces';\nimport { Skeleton } from '../Skeleton';\n\ntype SelectedInputType = 'fiat' | 'crypto';\n\ntype AmountInputTypeSwitchProps = {\n  selectedInputType: SelectedInputType;\n  setSelectedInputType: (type: SelectedInputType) => void;\n  asset: string;\n  fiatAmount: string;\n  cryptoAmount: string;\n  exchangeRate: number;\n  exchangeRateLoading: boolean;\n  loadingDisplay?: React.ReactNode;\n  currency: string;\n  className?: string;\n};\n\nexport function AmountInputTypeSwitch({\n  selectedInputType,\n  setSelectedInputType,\n  asset,\n  fiatAmount,\n  cryptoAmount,\n  exchangeRate,\n  exchangeRateLoading,\n  currency,\n  loadingDisplay = <Skeleton className=\"h-[1.625rem]\" />,\n  className,\n}: AmountInputTypeSwitchProps) {\n  const iconSvg = useIcon({ icon: 'toggle' });\n\n  const handleToggle = useCallback(() => {\n    setSelectedInputType(selectedInputType === 'fiat' ? 'crypto' : 'fiat');\n  }, [selectedInputType, setSelectedInputType]);\n\n  const formatCrypto = useCallback(\n    (amount: string) => {\n      return `${truncateDecimalPlaces(amount || '0', 8)} ${asset}`;\n    },\n    [asset],\n  );\n\n  const amountLine = useMemo(() => {\n    return (\n      <span data-testid=\"ockAmountLine\" className={cn(text.label1)}>\n        {selectedInputType === 'fiat'\n          ? formatCrypto(cryptoAmount)\n          : formatFiatAmount({\n              amount: fiatAmount,\n              currency: currency,\n              minimumFractionDigits: 0,\n            })}\n      </span>\n    );\n  }, [cryptoAmount, fiatAmount, selectedInputType, formatCrypto, currency]);\n\n  if (exchangeRateLoading || !exchangeRate) {\n    return loadingDisplay;\n  }\n\n  return (\n    <div className={cn('flex items-center', className)}>\n      <button\n        type=\"button\"\n        aria-label=\"amount type switch\"\n        className={cn(\n          pressable.default,\n          'mr-1 rounded-full p-1 opacity-50 transition-opacity hover:opacity-100',\n        )}\n        data-testid=\"ockAmountTypeSwitch\"\n        onClick={handleToggle}\n      >\n        <div className=\"h-[1.125rem] w-[1.125rem]\">{iconSvg}</div>\n      </button>\n      <div className=\"w-full truncate\">{amountLine}</div>\n    </div>\n  );\n}\n"],"names":["AmountInputTypeSwitch","selectedInputType","setSelectedInputType","asset","fiatAmount","cryptoAmount","exchangeRate","exchangeRateLoading","currency","loadingDisplay","className","iconSvg","useIcon","icon","handleToggle","useCallback","formatCrypto","amount","truncateDecimalPlaces","amountLine","useMemo","cn","text","label1","formatFiatAmount","minimumFractionDigits","pressable","default"],"mappings":";;;;;;;AAsBO,SAASA,sBAAsB;AAAA,EACpCC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC,iBAAiB,oBAAC,UAAS,EAAA,WAAU,mBAAiB,CAAA;AAAA,EACtDC;AAC0B,GAAG;AAC7B,QAAMC,UAAUC,QAAQ;AAAA,IAAEC,MAAM;AAAA,EAAA,CAAU;AAEpCC,QAAAA,eAAeC,YAAY,MAAM;AAChBd,yBAAAA,sBAAsB,SAAS,WAAW,MAAM;AAAA,EAAA,GACpE,CAACA,mBAAmBC,oBAAoB,CAAC;AAEtCc,QAAAA,eAAeD,YACnB,CAACE,WAAmB;AAClB,WAAO,GAAGC,sBAAsBD,UAAU,KAAK,CAAC,CAAC,IAAId,KAAK;AAAA,EAAA,GAE5D,CAACA,KAAK,CACR;AAEMgB,QAAAA,aAAaC,QAAQ,MAAM;AAC/B,WACG,oBAAA,QAAA,EAAK,eAAY,iBAAgB,WAAWC,GAAGC,KAAKC,MAAM,GACxDtB,UAAsB,sBAAA,SACnBe,aAAaX,YAAY,IACzBmB,iBAAiB;AAAA,MACfP,QAAQb;AAAAA,MACRI;AAAAA,MACAiB,uBAAuB;AAAA,IACxB,CAAA,GACP;AAAA,EAAA,GAED,CAACpB,cAAcD,YAAYH,mBAAmBe,cAAcR,QAAQ,CAAC;AAEpED,MAAAA,uBAAuB,CAACD,cAAc;AACjCG,WAAAA;AAAAA,EAAAA;AAGT,8BACG,OAAI,EAAA,WAAWY,GAAE,6BAAsBX,SAAS,GAC/C,UAAA;AAAA,IAAC,oBAAA,UAAA,EACC,MAAK,UACL,cAAW,sBACX,WAAWW,GACTK,UAAUC,SAEZ,+FAAA,GACA,eAAY,uBACZ,SAASb,cAET,UAAA,oBAAC,SAAI,WAAU,qCAA6BH,mBAAQ,EACtD,CAAA;AAAA,IACC,oBAAA,OAAA,EAAI,WAAU,2BAAmBQ,UAAW,WAAA,CAAA;AAAA,EAAA,GAC/C;AAEJ;"}