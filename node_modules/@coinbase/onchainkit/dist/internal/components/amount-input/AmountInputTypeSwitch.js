import { jsx, jsxs } from "react/jsx-runtime";
import { cn, text, pressable } from "../../../styles/theme.js";
import { useCallback, useMemo } from "react";
import { useIcon } from "../../hooks/useIcon.js";
import { formatFiatAmount } from "../../utils/formatFiatAmount.js";
import { truncateDecimalPlaces } from "../../utils/truncateDecimalPlaces.js";
import { Skeleton } from "../Skeleton.js";
function AmountInputTypeSwitch({
  selectedInputType,
  setSelectedInputType,
  asset,
  fiatAmount,
  cryptoAmount,
  exchangeRate,
  exchangeRateLoading,
  currency,
  loadingDisplay = /* @__PURE__ */ jsx(Skeleton, { className: "ock:h-[1.625rem]" }),
  className
}) {
  const iconSvg = useIcon({
    icon: "toggle"
  });
  const handleToggle = useCallback(() => {
    setSelectedInputType(selectedInputType === "fiat" ? "crypto" : "fiat");
  }, [selectedInputType, setSelectedInputType]);
  const formatCrypto = useCallback((amount) => {
    return `${truncateDecimalPlaces(amount || "0", 8)} ${asset}`;
  }, [asset]);
  const amountLine = useMemo(() => {
    return /* @__PURE__ */ jsx("span", { "data-testid": "ockAmountLine", className: cn(text.label1), children: selectedInputType === "fiat" ? formatCrypto(cryptoAmount) : formatFiatAmount({
      amount: fiatAmount,
      currency,
      minimumFractionDigits: 0
    }) });
  }, [cryptoAmount, fiatAmount, selectedInputType, formatCrypto, currency]);
  if (exchangeRateLoading || !exchangeRate) {
    return loadingDisplay;
  }
  return /* @__PURE__ */ jsxs("div", { className: cn("ock:flex ock:items-center", className), children: [
    /* @__PURE__ */ jsx("button", { type: "button", "aria-label": "amount type switch", className: cn(pressable.default, "ock:mr-1 ock:rounded-full ock:p-1 ock:opacity-50 ock:transition-opacity ock:hover:opacity-100"), "data-testid": "ockAmountTypeSwitch", onClick: handleToggle, children: /* @__PURE__ */ jsx("div", { className: "ock:h-[1.125rem] ock:w-[1.125rem]", children: iconSvg }) }),
    /* @__PURE__ */ jsx("div", { className: "ock:w-full ock:truncate", children: amountLine })
  ] });
}
export {
  AmountInputTypeSwitch
};
//# sourceMappingURL=AmountInputTypeSwitch.js.map
