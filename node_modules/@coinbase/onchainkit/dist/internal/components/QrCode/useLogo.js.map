{"version":3,"file":"useLogo.js","sources":["../../../../src/internal/components/QrCode/useLogo.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { coinbaseWalletSvg } from '../../svg/coinbaseWalletSvg';\n\ntype RenderLogoProps = {\n  size: number;\n  logo: { uri: string } | React.ReactNode | undefined;\n  logoSize: number;\n  logoBackgroundColor: string;\n  logoMargin: number;\n  logoBorderRadius: number;\n};\n\nconst defaultSvgString = ReactDOMServer.renderToString(coinbaseWalletSvg);\nconst defaultSvgDataUri = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(\n  defaultSvgString,\n)}`;\n\nexport function useLogo({\n  size,\n  logo = defaultSvgDataUri,\n  logoSize,\n  logoBackgroundColor,\n  logoMargin,\n  logoBorderRadius,\n}: RenderLogoProps) {\n  const svgLogo = useMemo(() => {\n    const transformedLogo = React.isValidElement(logo)\n      ? `data:image/svg+xml;charset=utf-8,${encodeURIComponent(\n          ReactDOMServer.renderToString(logo),\n        )}`\n      : logo;\n\n    const logoPosition = (size - logoSize - logoMargin * 2) / 2;\n    const logoBackgroundSize = logoSize + logoMargin * 2;\n\n    return (\n      <g transform={`translate(${logoPosition}, ${logoPosition})`}>\n        <defs>\n          <clipPath id=\"clip-logo\">\n            <rect\n              width={logoSize}\n              height={logoSize}\n              rx={logoBorderRadius}\n              ry={logoBorderRadius}\n            />\n          </clipPath>\n        </defs>\n        <g>\n          <rect\n            width={logoBackgroundSize}\n            height={logoBackgroundSize}\n            rx={logoBorderRadius}\n            ry={logoBorderRadius}\n            fill={logoBackgroundColor}\n          />\n        </g>\n        <g transform={`translate(${logoMargin}, ${logoMargin})`}>\n          <image\n            data-testid=\"qr-code-logo\"\n            width={logoSize}\n            height={logoSize}\n            preserveAspectRatio=\"xMidYMid slice\"\n            href={String(transformedLogo)}\n            clipPath=\"url(#clip-logo)\"\n          />\n        </g>\n      </g>\n    );\n  }, [logo, logoBackgroundColor, logoBorderRadius, logoMargin, logoSize, size]);\n  return svgLogo;\n}\n"],"names":["defaultSvgString","ReactDOMServer","renderToString","coinbaseWalletSvg","defaultSvgDataUri","encodeURIComponent","useLogo","size","logo","logoSize","logoBackgroundColor","logoMargin","logoBorderRadius","svgLogo","useMemo","transformedLogo","React","isValidElement","logoPosition","logoBackgroundSize","String"],"mappings":";;;;AAaA,MAAMA,mBAAmBC,eAAeC,eAAeC,iBAAiB;AACxE,MAAMC,oBAAoB,oCAAoCC,mBAC5DL,gBACF,CAAC;AAEM,SAASM,QAAQ;AAAA,EACtBC;AAAAA,EACAC,OAAOJ;AAAAA,EACPK;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AACe,GAAG;AACZC,QAAAA,UAAUC,QAAQ,MAAM;AAC5B,UAAMC,kBAAkBC,MAAMC,eAAeT,IAAI,IAC7C,oCAAoCH,mBAClCJ,eAAeC,eAAeM,IAAI,CACpC,CAAC,KACDA;AAEJ,UAAMU,gBAAgBX,OAAOE,WAAWE,aAAa,KAAK;AACpDQ,UAAAA,qBAAqBV,WAAWE,aAAa;AAEnD,gCACG,KAAE,EAAA,WAAW,aAAaO,YAAY,KAAKA,YAAY,KACtD,UAAA;AAAA,MAAA,oBAAC,UACC,UAAC,oBAAA,YAAA,EAAS,IAAG,aACX,8BAAC,QACC,EAAA,OAAOT,UACP,QAAQA,UACR,IAAIG,kBACJ,IAAIA,iBAAAA,CAAiB,EAEzB,CAAA,GACF;AAAA,MACC,oBAAA,KAAA,EACC,UAAC,oBAAA,QAAA,EACC,OAAOO,oBACP,QAAQA,oBACR,IAAIP,kBACJ,IAAIA,kBACJ,MAAMF,oBAAoB,CAAA,GAE9B;AAAA,MACA,oBAAC,KAAE,EAAA,WAAW,aAAaC,UAAU,KAAKA,UAAU,KAClD,UAAC,oBAAA,SAAA,EACC,eAAY,gBACZ,OAAOF,UACP,QAAQA,UACR,qBAAoB,kBACpB,MAAMW,OAAOL,eAAe,GAC5B,UAAS,kBAAiB,CAAA,EAE9B,CAAA;AAAA,IAAA,GACF;AAAA,EAAA,GAED,CAACP,MAAME,qBAAqBE,kBAAkBD,YAAYF,UAAUF,IAAI,CAAC;AACrEM,SAAAA;AACT;"}