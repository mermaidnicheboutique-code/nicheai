{"version":3,"file":"TextInput.js","sources":["../../../src/internal/components/TextInput.tsx"],"sourcesContent":["import {\n  type ChangeEvent,\n  type InputHTMLAttributes,\n  type ForwardedRef,\n  type ComponentProps,\n  useCallback,\n  forwardRef,\n} from 'react';\nimport { useDebounce } from '../hooks/useDebounce';\nimport { cn } from '@/styles/theme';\n\ntype TextInputProps = Omit<ComponentProps<'input'>, 'onChange'> & {\n  delayMs?: number;\n  /** specify 'decimal' to trigger numeric keyboards on mobile devices */\n  inputMode?: InputHTMLAttributes<HTMLInputElement>['inputMode'];\n  onChange: (s: string) => void;\n  placeholder: string;\n  setValue?: (s: string) => void;\n  inputValidator?: (s: string) => boolean;\n  /** specify 'error' to show error state (change in color), field is used for a11y purposes, not actually rendered currently, can be either boolean flag or string error message */\n  error?: string | boolean;\n};\n\nexport const TextInput = forwardRef(\n  (\n    {\n      'aria-label': ariaLabel,\n      className,\n      delayMs = 0,\n      disabled = false,\n      onBlur,\n      onChange,\n      onFocus,\n      placeholder,\n      setValue,\n      inputMode,\n      value,\n      inputValidator = () => true,\n      error,\n      ...rest\n    }: TextInputProps,\n    ref: ForwardedRef<HTMLInputElement>,\n  ) => {\n    const handleDebounce = useDebounce((value: string) => {\n      onChange(value);\n    }, delayMs);\n\n    const handleChange = useCallback(\n      (evt: ChangeEvent<HTMLInputElement>) => {\n        const value = evt.target.value;\n\n        if (inputValidator(value)) {\n          setValue?.(value);\n          if (delayMs > 0) {\n            handleDebounce(value);\n          } else {\n            onChange(value);\n          }\n        }\n      },\n      [onChange, handleDebounce, delayMs, setValue, inputValidator],\n    );\n\n    return (\n      <input\n        data-testid=\"ockTextInput_Input\"\n        aria-invalid={!!error}\n        aria-label={ariaLabel}\n        ref={ref}\n        type=\"text\"\n        className={cn(className, !!error && 'text-ock-error')}\n        inputMode={inputMode}\n        placeholder={placeholder}\n        value={value}\n        onBlur={onBlur}\n        onChange={handleChange}\n        onFocus={onFocus}\n        disabled={disabled}\n        autoComplete=\"off\" // autocomplete attribute handles browser autocomplete\n        data-1p-ignore={true} // data-1p-ignore attribute handles password manager autocomplete\n        {...rest}\n      />\n    );\n  },\n);\n\nTextInput.displayName = 'TextInput';\n"],"names":["TextInput","forwardRef","ariaLabel","className","delayMs","disabled","onBlur","onChange","onFocus","placeholder","setValue","inputMode","value","inputValidator","error","rest","ref","handleDebounce","useDebounce","handleChange","useCallback","evt","target","cn","displayName"],"mappings":";;;;AAuBaA,MAAAA,YAAYC,WACvB,CACE;AAAA,EACE,cAAcC;AAAAA,EACdC;AAAAA,EACAC,UAAU;AAAA,EACVC,WAAW;AAAA,EACXC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC,iBAAiBA,MAAM;AAAA,EACvBC;AAAAA,EACA,GAAGC;AACW,GAChBC,QACG;AACGC,QAAAA,iBAAiBC,YAAY,CAACN,WAAkB;AACpDL,aAASK,MAAK;AAAA,KACbR,OAAO;AAEJe,QAAAA,eAAeC,YACnB,CAACC,QAAuC;AAChCT,UAAAA,SAAQS,IAAIC,OAAOV;AAErBC,QAAAA,eAAeD,MAAK,GAAG;AACzBF,2CAAWE;AACX,UAAIR,UAAU,GAAG;AACfa,uBAAeL,MAAK;AAAA,MAAA,OACf;AACLL,iBAASK,MAAK;AAAA,MAAA;AAAA,IAChB;AAAA,EACF,GAEF,CAACL,UAAUU,gBAAgBb,SAASM,UAAUG,cAAc,CAC9D;AAGE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,eAAY;AAAA,MACZ,gBAAc,CAAC,CAACC;AAAAA,MAChB,cAAYZ;AAAAA,MACZ;AAAA,MACA,MAAK;AAAA,MACL,WAAWqB,GAAGpB,WAAW,CAAC,CAACW,SAAK,oBAAoB;AAAA,MACpD;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,UAAUK;AAAAA,MACV;AAAA,MACA;AAAA,MACA,cAAa;AAAA,MACb,kBAAgB;AAAA,MACZJ,GAAAA;AAAAA,IAAAA;AAAAA,EACJ;AAEN,CACF;AAEAf,UAAUwB,cAAc;"}